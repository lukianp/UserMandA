(global["webpackChunkguiv2"] = global["webpackChunkguiv2"] || []).push([[7735],{

/***/ 21104:
/*!*********************************!*\
  !*** process/browser (ignored) ***!
  \*********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 34766:
/*!*************************************************!*\
  !*** ./src/renderer/components/atoms/Input.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Input: () => (/* binding */ Input)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ 74848);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ 96540);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! clsx */ 34164);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ 72832);

/**
 * Input Component
 *
 * Accessible input field with label, error states, and help text
 */



/**
 * Input component with full accessibility support
 */
const Input = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(({ label, helperText, error, required = false, showOptional = true, inputSize = 'md', fullWidth = false, startIcon, endIcon, className, id, 'data-cy': dataCy, disabled = false, ...props }, ref) => {
    // Generate unique ID if not provided
    const inputId = id || `input-${Math.random().toString(36).substr(2, 9)}`;
    const errorId = `${inputId}-error`;
    const helperId = `${inputId}-helper`;
    // Size styles
    const sizes = {
        sm: 'px-3 py-1.5 text-sm',
        md: 'px-4 py-2 text-base',
        lg: 'px-5 py-3 text-lg',
    };
    // Input classes
    const inputClasses = (0,clsx__WEBPACK_IMPORTED_MODULE_2__.clsx)('block rounded-md border transition-all duration-200', 'focus:outline-none focus:ring-2 focus:ring-offset-2', 'disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed', 'dark:bg-gray-800 dark:text-gray-100', sizes[inputSize], fullWidth && 'w-full', startIcon && 'pl-10', endIcon && 'pr-10', error
        ? (0,clsx__WEBPACK_IMPORTED_MODULE_2__.clsx)('border-red-500 text-red-900 placeholder-red-400', 'focus:border-red-500 focus:ring-red-500', 'dark:border-red-400 dark:text-red-400')
        : (0,clsx__WEBPACK_IMPORTED_MODULE_2__.clsx)('border-gray-300 placeholder-gray-400', 'focus:border-blue-500 focus:ring-blue-500', 'dark:border-gray-600 dark:placeholder-gray-500'), className);
    // Container classes
    const containerClasses = (0,clsx__WEBPACK_IMPORTED_MODULE_2__.clsx)(fullWidth && 'w-full');
    // Label classes
    const labelClasses = (0,clsx__WEBPACK_IMPORTED_MODULE_2__.clsx)('block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1');
    // Helper/Error text classes
    const helperClasses = (0,clsx__WEBPACK_IMPORTED_MODULE_2__.clsx)('mt-1 text-sm', error ? 'text-red-600 dark:text-red-400' : 'text-gray-500 dark:text-gray-400');
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: containerClasses, children: [label && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { htmlFor: inputId, className: labelClasses, children: [label, required && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-red-500 ml-1", "aria-label": "required", children: "*" })), !required && showOptional && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-gray-500 dark:text-gray-400 ml-1 text-xs", children: "(optional)" }))] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "relative", children: [startIcon && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-gray-500 dark:text-gray-400", "aria-hidden": "true", children: startIcon }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { ref: ref, id: inputId, className: inputClasses, "aria-invalid": !!error, "aria-describedby": (0,clsx__WEBPACK_IMPORTED_MODULE_2__.clsx)(error && errorId, helperText && helperId) || undefined, "aria-required": required, disabled: disabled, "data-cy": dataCy, ...props }), endIcon && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-gray-500 dark:text-gray-400", "aria-hidden": "true", children: endIcon }) }))] }), error && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { id: errorId, className: helperClasses, role: "alert", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "flex items-center", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__.AlertCircle, { className: "w-4 h-4 mr-1", "aria-hidden": "true" }), error] }) })), helperText && !error && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { id: helperId, className: helperClasses, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "flex items-center", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__.Info, { className: "w-4 h-4 mr-1", "aria-hidden": "true" }), helperText] }) }))] }));
});
Input.displayName = 'Input';


/***/ }),

/***/ 77218:
/*!******************************************************************!*\
  !*** ./src/renderer/components/dialogs/WaveSchedulingDialog.tsx ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ 74848);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ 96540);
/* harmony import */ var _headlessui_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @headlessui/react */ 53874);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ 72832);
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! date-fns */ 82575);
/* harmony import */ var _atoms_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../atoms/Button */ 74160);
/* harmony import */ var _atoms_Input__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../atoms/Input */ 34766);
/* harmony import */ var _atoms_Select__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../atoms/Select */ 1156);

/**
 * Wave Scheduling Dialog Component
 *
 * Comprehensive scheduling dialog for migration waves with:
 * - Wave information and metadata
 * - Scheduling settings and concurrency
 * - Blackout period management
 * - Notification configuration
 * - Validation and preview
 *
 * Implements T-033 scheduling UI requirements from WPF version
 */







/**
 * Wave Scheduling Dialog Component
 */
const WaveSchedulingDialog = ({ isOpen, onClose, onSchedule, wave = null, 'data-cy': dataCy = 'wave-scheduling-dialog', }) => {
    const [formData, setFormData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        waveName: `Wave-${(0,date_fns__WEBPACK_IMPORTED_MODULE_4__.format)(new Date(), 'yyyyMMdd-HHmm')}`,
        waveDescription: 'Migration wave created via scheduler',
        wavePriority: 'Normal',
        waveType: 'Mixed Content',
        estimatedItems: 100,
        dependencies: [],
        scheduledDate: (0,date_fns__WEBPACK_IMPORTED_MODULE_4__.addDays)(new Date(), 1),
        scheduledTime: '09:00',
        maxConcurrentTasks: 10,
        retryCount: 3,
        retryDelayMinutes: 30,
        timeoutHours: 8,
        skipWeekends: true,
        allowParallelBatches: true,
        continueOnFailure: false,
        sendPreMigrationNotifications: true,
        sendPostMigrationNotifications: true,
        sendProgressNotifications: false,
        preMigrationNotificationHours: 24,
        additionalRecipients: [],
        blackoutPeriods: [],
    });
    const [validationErrors, setValidationErrors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [isScheduling, setIsScheduling] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [activeTab, setActiveTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('info');
    // Load wave data when dialog opens
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        if (isOpen && wave) {
            setFormData({ ...formData, ...wave });
        }
        setValidationErrors([]);
    }, [isOpen, wave]);
    // Time slot options (hourly intervals)
    const timeSlots = Array.from({ length: 24 }, (_, i) => ({
        value: `${i.toString().padStart(2, '0')}:00`,
        label: `${i.toString().padStart(2, '0')}:00`,
    }));
    const priorityOptions = [
        { value: 'Low', label: 'Low' },
        { value: 'Normal', label: 'Normal' },
        { value: 'High', label: 'High' },
        { value: 'Critical', label: 'Critical' },
    ];
    const waveTypeOptions = [
        { value: 'Users Only', label: 'Users Only' },
        { value: 'Files Only', label: 'Files Only' },
        { value: 'Mixed Content', label: 'Mixed Content' },
        { value: 'Full Migration', label: 'Full Migration' },
    ];
    const blackoutTypeOptions = [
        { value: 'BusinessHours', label: 'Business Hours' },
        { value: 'MaintenanceWindow', label: 'Maintenance Window' },
        { value: 'Holiday', label: 'Holiday' },
        { value: 'Custom', label: 'Custom' },
    ];
    const validate = () => {
        const errors = [];
        if (!formData.waveName.trim()) {
            errors.push('Wave name is required');
        }
        if (!formData.scheduledDate) {
            errors.push('Scheduled date is required');
        }
        else if ((0,date_fns__WEBPACK_IMPORTED_MODULE_4__.isBefore)(formData.scheduledDate, new Date())) {
            errors.push('Scheduled date cannot be in the past');
        }
        if (!formData.scheduledTime) {
            errors.push('Scheduled time is required');
        }
        if (formData.maxConcurrentTasks <= 0) {
            errors.push('Max concurrent tasks must be greater than 0');
        }
        if (formData.retryCount < 0) {
            errors.push('Retry count cannot be negative');
        }
        if (formData.estimatedItems <= 0) {
            errors.push('Estimated items must be greater than 0');
        }
        // Check for blackout period conflicts
        const scheduledDateTime = combineDateTime(formData.scheduledDate, formData.scheduledTime);
        const conflictingPeriod = formData.blackoutPeriods.find((bp) => (0,date_fns__WEBPACK_IMPORTED_MODULE_4__.isAfter)(scheduledDateTime, bp.startTime) && (0,date_fns__WEBPACK_IMPORTED_MODULE_4__.isBefore)(scheduledDateTime, bp.endTime));
        if (conflictingPeriod) {
            errors.push(`Scheduled time conflicts with blackout period: ${conflictingPeriod.description}`);
        }
        setValidationErrors(errors);
        return errors.length === 0;
    };
    const combineDateTime = (date, time) => {
        const [hours, minutes] = time.split(':').map(Number);
        const combined = new Date(date);
        combined.setHours(hours, minutes, 0, 0);
        return combined;
    };
    const handleSchedule = async () => {
        if (!validate())
            return;
        setIsScheduling(true);
        try {
            await onSchedule(formData);
            onClose();
        }
        catch (error) {
            setValidationErrors([`Failed to schedule wave: ${error instanceof Error ? error.message : String(error)}`]);
        }
        finally {
            setIsScheduling(false);
        }
    };
    const handlePreview = () => {
        if (!validate())
            return;
        const scheduledDateTime = combineDateTime(formData.scheduledDate, formData.scheduledTime);
        const estimatedDuration = Math.ceil(formData.estimatedItems / 50); // Rough estimate: 50 items/hour
        setValidationErrors([
            `Preview: Wave '${formData.waveName}' scheduled for ${(0,date_fns__WEBPACK_IMPORTED_MODULE_4__.format)(scheduledDateTime, 'PPpp')}`,
            `Estimated duration: ${estimatedDuration} hours`,
            `Max concurrent tasks: ${formData.maxConcurrentTasks}`,
            `Retry attempts: ${formData.retryCount}`,
        ]);
    };
    const addBlackoutPeriod = () => {
        const newPeriod = {
            id: crypto.randomUUID(),
            description: 'New Blackout Period',
            startTime: new Date(),
            endTime: (0,date_fns__WEBPACK_IMPORTED_MODULE_4__.addDays)(new Date(), 1),
            type: 'MaintenanceWindow',
            isRecurring: false,
        };
        setFormData({
            ...formData,
            blackoutPeriods: [...formData.blackoutPeriods, newPeriod],
        });
    };
    const removeBlackoutPeriod = (id) => {
        setFormData({
            ...formData,
            blackoutPeriods: formData.blackoutPeriods.filter((bp) => bp.id !== id),
        });
    };
    const updateBlackoutPeriod = (id, updates) => {
        setFormData({
            ...formData,
            blackoutPeriods: formData.blackoutPeriods.map((bp) => bp.id === id ? { ...bp, ...updates } : bp),
        });
    };
    const renderTabContent = () => {
        switch (activeTab) {
            case 'info':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "space-y-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "grid grid-cols-2 gap-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Input__WEBPACK_IMPORTED_MODULE_6__.Input, { label: "Wave Name", value: formData.waveName, onChange: (e) => setFormData({ ...formData, waveName: e.target.value }), required: true, "data-cy": "wave-name-input" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Input__WEBPACK_IMPORTED_MODULE_6__.Input, { label: "Description", value: formData.waveDescription, onChange: (e) => setFormData({ ...formData, waveDescription: e.target.value }), "data-cy": "wave-description-input" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "grid grid-cols-2 gap-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Select__WEBPACK_IMPORTED_MODULE_7__.Select, { label: "Priority", value: formData.wavePriority, onChange: (value) => setFormData({ ...formData, wavePriority: value }), options: priorityOptions, required: true, "data-cy": "wave-priority-select" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Select__WEBPACK_IMPORTED_MODULE_7__.Select, { label: "Wave Type", value: formData.waveType, onChange: (value) => setFormData({ ...formData, waveType: value }), options: waveTypeOptions, required: true, "data-cy": "wave-type-select" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "grid grid-cols-2 gap-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Input__WEBPACK_IMPORTED_MODULE_6__.Input, { label: "Estimated Items", type: "number", value: formData.estimatedItems.toString(), onChange: (e) => setFormData({ ...formData, estimatedItems: parseInt(e.target.value) || 0 }), required: true, "data-cy": "wave-items-input" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Input__WEBPACK_IMPORTED_MODULE_6__.Input, { label: "Dependencies (comma-separated Wave IDs)", value: formData.dependencies.join(', '), onChange: (e) => setFormData({
                                        ...formData,
                                        dependencies: e.target.value.split(',').map((d) => d.trim()).filter(Boolean),
                                    }), "data-cy": "wave-dependencies-input" })] })] }));
            case 'schedule':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "space-y-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "grid grid-cols-2 gap-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Scheduled Date *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "date", value: (0,date_fns__WEBPACK_IMPORTED_MODULE_4__.format)(formData.scheduledDate, 'yyyy-MM-dd'), onChange: (e) => setFormData({ ...formData, scheduledDate: new Date(e.target.value) }), className: "w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100", "data-cy": "wave-date-input" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Select__WEBPACK_IMPORTED_MODULE_7__.Select, { label: "Scheduled Time", value: formData.scheduledTime, onChange: (value) => setFormData({ ...formData, scheduledTime: value }), options: timeSlots, required: true, "data-cy": "wave-time-select" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "grid grid-cols-2 gap-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Input__WEBPACK_IMPORTED_MODULE_6__.Input, { label: "Max Concurrent Tasks", type: "number", value: formData.maxConcurrentTasks.toString(), onChange: (e) => setFormData({ ...formData, maxConcurrentTasks: parseInt(e.target.value) || 10 }), required: true, "data-cy": "wave-concurrent-input" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Input__WEBPACK_IMPORTED_MODULE_6__.Input, { label: "Retry Count", type: "number", value: formData.retryCount.toString(), onChange: (e) => setFormData({ ...formData, retryCount: parseInt(e.target.value) || 0 }), "data-cy": "wave-retry-input" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "grid grid-cols-2 gap-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Input__WEBPACK_IMPORTED_MODULE_6__.Input, { label: "Retry Delay (minutes)", type: "number", value: formData.retryDelayMinutes.toString(), onChange: (e) => setFormData({ ...formData, retryDelayMinutes: parseInt(e.target.value) || 0 }), "data-cy": "wave-retry-delay-input" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Input__WEBPACK_IMPORTED_MODULE_6__.Input, { label: "Timeout (hours)", type: "number", value: formData.timeoutHours.toString(), onChange: (e) => setFormData({ ...formData, timeoutHours: parseInt(e.target.value) || 0 }), "data-cy": "wave-timeout-input" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "space-y-2 pt-4 border-t border-gray-200 dark:border-gray-700", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "flex items-center gap-2", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: formData.skipWeekends, onChange: (e) => setFormData({ ...formData, skipWeekends: e.target.checked }), className: "rounded", "data-cy": "wave-skip-weekends" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-sm text-gray-700 dark:text-gray-300", children: "Skip weekends when rescheduling" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "flex items-center gap-2", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: formData.allowParallelBatches, onChange: (e) => setFormData({ ...formData, allowParallelBatches: e.target.checked }), className: "rounded", "data-cy": "wave-parallel-batches" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-sm text-gray-700 dark:text-gray-300", children: "Allow parallel batch execution" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "flex items-center gap-2", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: formData.continueOnFailure, onChange: (e) => setFormData({ ...formData, continueOnFailure: e.target.checked }), className: "rounded", "data-cy": "wave-continue-failure" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-sm text-gray-700 dark:text-gray-300", children: "Continue on batch failure" })] })] })] }));
            case 'blackout':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "space-y-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "flex items-center justify-between mb-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Blackout Periods" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Button__WEBPACK_IMPORTED_MODULE_5__.Button, { variant: "secondary", onClick: addBlackoutPeriod, icon: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__.Plus, { className: "w-4 h-4" }), "data-cy": "add-blackout-btn", children: "Add Period" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "space-y-3 max-h-96 overflow-y-auto", children: formData.blackoutPeriods.length === 0 ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "text-sm text-gray-500 dark:text-gray-400 text-center py-8", children: "No blackout periods configured" })) : (formData.blackoutPeriods.map((period) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "p-4 border border-gray-200 dark:border-gray-700 rounded-lg space-y-3", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "flex items-start justify-between gap-2", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Input__WEBPACK_IMPORTED_MODULE_6__.Input, { value: period.description, onChange: (e) => updateBlackoutPeriod(period.id, { description: e.target.value }), placeholder: "Description", className: "flex-1" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Button__WEBPACK_IMPORTED_MODULE_5__.Button, { variant: "danger", onClick: () => removeBlackoutPeriod(period.id), icon: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__.Trash2, { className: "w-4 h-4" }), "data-cy": "remove-blackout-btn", children: "Remove" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "grid grid-cols-3 gap-2", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "block text-xs text-gray-600 dark:text-gray-400 mb-1", children: "Start Time" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "datetime-local", value: (0,date_fns__WEBPACK_IMPORTED_MODULE_4__.format)(period.startTime, "yyyy-MM-dd'T'HH:mm"), onChange: (e) => updateBlackoutPeriod(period.id, { startTime: new Date(e.target.value) }), className: "w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "block text-xs text-gray-600 dark:text-gray-400 mb-1", children: "End Time" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "datetime-local", value: (0,date_fns__WEBPACK_IMPORTED_MODULE_4__.format)(period.endTime, "yyyy-MM-dd'T'HH:mm"), onChange: (e) => updateBlackoutPeriod(period.id, { endTime: new Date(e.target.value) }), className: "w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Select__WEBPACK_IMPORTED_MODULE_7__.Select, { label: "Type", value: period.type, onChange: (value) => updateBlackoutPeriod(period.id, { type: value }), options: blackoutTypeOptions })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "flex items-center gap-2", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: period.isRecurring, onChange: (e) => updateBlackoutPeriod(period.id, { isRecurring: e.target.checked }), className: "rounded" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-xs text-gray-700 dark:text-gray-300", children: "Recurring" })] })] }, period.id)))) })] }));
            case 'notifications':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "space-y-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "space-y-2", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "flex items-center gap-2", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: formData.sendPreMigrationNotifications, onChange: (e) => setFormData({ ...formData, sendPreMigrationNotifications: e.target.checked }), className: "rounded", "data-cy": "wave-pre-notifications" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-sm text-gray-700 dark:text-gray-300", children: "Send pre-migration notifications" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "flex items-center gap-2", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: formData.sendPostMigrationNotifications, onChange: (e) => setFormData({ ...formData, sendPostMigrationNotifications: e.target.checked }), className: "rounded", "data-cy": "wave-post-notifications" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-sm text-gray-700 dark:text-gray-300", children: "Send post-migration notifications" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "flex items-center gap-2", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: formData.sendProgressNotifications, onChange: (e) => setFormData({ ...formData, sendProgressNotifications: e.target.checked }), className: "rounded", "data-cy": "wave-progress-notifications" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-sm text-gray-700 dark:text-gray-300", children: "Send progress notifications" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Input__WEBPACK_IMPORTED_MODULE_6__.Input, { label: "Pre-migration Notification Hours", type: "number", value: formData.preMigrationNotificationHours.toString(), onChange: (e) => setFormData({ ...formData, preMigrationNotificationHours: parseInt(e.target.value) || 24 }), helperText: "Hours before migration to send notification", "data-cy": "wave-notification-hours-input" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Additional Recipients" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("textarea", { value: formData.additionalRecipients.join('\n'), onChange: (e) => setFormData({
                                        ...formData,
                                        additionalRecipients: e.target.value.split('\n').map((r) => r.trim()).filter(Boolean),
                                    }), rows: 4, placeholder: "Enter email addresses, one per line", className: "w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100", "data-cy": "wave-recipients-textarea" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "mt-1 text-xs text-gray-500 dark:text-gray-400", children: "One email address per line" })] })] }));
            default:
                return null;
        }
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_2__.Dialog, { open: isOpen, onClose: onClose, className: "relative z-50", "data-cy": dataCy, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "fixed inset-0 bg-black/30", "aria-hidden": "true" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "fixed inset-0 flex items-center justify-center p-4", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_2__.Dialog.Panel, { className: "mx-auto max-w-4xl w-full rounded-lg bg-white dark:bg-gray-800 shadow-2xl max-h-[90vh] flex flex-col", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "flex items-center gap-3", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__.Calendar, { className: "w-6 h-6 text-blue-600 dark:text-blue-400" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_2__.Dialog.Title, { className: "text-xl font-semibold text-gray-900 dark:text-gray-100", children: "Schedule Migration Wave" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: onClose, className: "p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors", "data-cy": "close-wave-scheduling-btn", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__.X, { className: "w-5 h-5" }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "flex border-b border-gray-200 dark:border-gray-700 px-6", children: [
                                { id: 'info', label: 'Wave Info', icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__.Calendar },
                                { id: 'schedule', label: 'Scheduling', icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__.Clock },
                                { id: 'blackout', label: 'Blackout Periods', icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__.AlertTriangle },
                                { id: 'notifications', label: 'Notifications', icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__.Bell },
                            ].map(({ id, label, icon: Icon }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { onClick: () => setActiveTab(id), className: `flex items-center gap-2 px-4 py-3 border-b-2 transition-colors ${activeTab === id
                                    ? 'border-blue-600 text-blue-600 dark:text-blue-400'
                                    : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'}`, "data-cy": `tab-${id}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Icon, { className: "w-4 h-4" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-sm font-medium", children: label })] }, id))) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "flex-1 overflow-y-auto p-6", children: renderTabContent() }), validationErrors.length > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "px-6 pb-4", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "text-sm font-medium text-red-800 dark:text-red-200 mb-2", children: "Validation Issues" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("ul", { className: "list-disc list-inside space-y-1", children: validationErrors.map((error, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { className: "text-sm text-red-700 dark:text-red-300", children: error }, index))) })] }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "flex gap-3", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Button__WEBPACK_IMPORTED_MODULE_5__.Button, { variant: "ghost", onClick: handlePreview, icon: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__.Eye, { className: "w-4 h-4" }), "data-cy": "preview-schedule-btn", children: "Preview Schedule" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "flex gap-3", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Button__WEBPACK_IMPORTED_MODULE_5__.Button, { variant: "secondary", onClick: onClose, disabled: isScheduling, "data-cy": "cancel-wave-scheduling-btn", children: "Cancel" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Button__WEBPACK_IMPORTED_MODULE_5__.Button, { variant: "primary", onClick: handleSchedule, loading: isScheduling, icon: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__.CheckCircle, { className: "w-4 h-4" }), "data-cy": "schedule-wave-btn", children: "Schedule Wave" })] })] })] }) })] }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (WaveSchedulingDialog);


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUssVUFBVSxvQ0FBb0Msc0RBQUksQ0FBQyxpREFBTSxJQUFJLDZIQUE2SCxHQUFHLHNEQUFJLENBQUMsaURBQU0sSUFBSSwwRUFBMEUsc0RBQUksQ0FBQyxxREFBVyxJQUFJLHNCQUFzQiw4REFBOEQsSUFBSSxJQUFJLElBQUksR0FBRyxJQUFJO0FBQ3ZvRDtBQUNBLGlFQUFlLG9CQUFvQixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3VpdjIvaWdub3JlZHxDOlxcRW50ZXJwcmlzZURpc2NvdmVyeVxcZ3VpdjJcXG5vZGVfbW9kdWxlc1xcQGhlYWRsZXNzdWlcXHJlYWN0XFxkaXN0XFxob29rc3xwcm9jZXNzL2Jyb3dzZXIiLCJ3ZWJwYWNrOi8vZ3VpdjIvLi9zcmMvcmVuZGVyZXIvY29tcG9uZW50cy9hdG9tcy9JbnB1dC50c3giLCJ3ZWJwYWNrOi8vZ3VpdjIvLi9zcmMvcmVuZGVyZXIvY29tcG9uZW50cy9kaWFsb2dzL1dhdmVTY2hlZHVsaW5nRGlhbG9nLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiAoaWdub3JlZCkgKi8iLCJpbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuLyoqXG4gKiBJbnB1dCBDb21wb25lbnRcbiAqXG4gKiBBY2Nlc3NpYmxlIGlucHV0IGZpZWxkIHdpdGggbGFiZWwsIGVycm9yIHN0YXRlcywgYW5kIGhlbHAgdGV4dFxuICovXG5pbXBvcnQgUmVhY3QsIHsgZm9yd2FyZFJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNsc3ggfSBmcm9tICdjbHN4JztcbmltcG9ydCB7IEFsZXJ0Q2lyY2xlLCBJbmZvIH0gZnJvbSAnbHVjaWRlLXJlYWN0Jztcbi8qKlxuICogSW5wdXQgY29tcG9uZW50IHdpdGggZnVsbCBhY2Nlc3NpYmlsaXR5IHN1cHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IElucHV0ID0gZm9yd2FyZFJlZigoeyBsYWJlbCwgaGVscGVyVGV4dCwgZXJyb3IsIHJlcXVpcmVkID0gZmFsc2UsIHNob3dPcHRpb25hbCA9IHRydWUsIGlucHV0U2l6ZSA9ICdtZCcsIGZ1bGxXaWR0aCA9IGZhbHNlLCBzdGFydEljb24sIGVuZEljb24sIGNsYXNzTmFtZSwgaWQsICdkYXRhLWN5JzogZGF0YUN5LCBkaXNhYmxlZCA9IGZhbHNlLCAuLi5wcm9wcyB9LCByZWYpID0+IHtcbiAgICAvLyBHZW5lcmF0ZSB1bmlxdWUgSUQgaWYgbm90IHByb3ZpZGVkXG4gICAgY29uc3QgaW5wdXRJZCA9IGlkIHx8IGBpbnB1dC0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xuICAgIGNvbnN0IGVycm9ySWQgPSBgJHtpbnB1dElkfS1lcnJvcmA7XG4gICAgY29uc3QgaGVscGVySWQgPSBgJHtpbnB1dElkfS1oZWxwZXJgO1xuICAgIC8vIFNpemUgc3R5bGVzXG4gICAgY29uc3Qgc2l6ZXMgPSB7XG4gICAgICAgIHNtOiAncHgtMyBweS0xLjUgdGV4dC1zbScsXG4gICAgICAgIG1kOiAncHgtNCBweS0yIHRleHQtYmFzZScsXG4gICAgICAgIGxnOiAncHgtNSBweS0zIHRleHQtbGcnLFxuICAgIH07XG4gICAgLy8gSW5wdXQgY2xhc3Nlc1xuICAgIGNvbnN0IGlucHV0Q2xhc3NlcyA9IGNsc3goJ2Jsb2NrIHJvdW5kZWQtbWQgYm9yZGVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCcsICdmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctb2Zmc2V0LTInLCAnZGlzYWJsZWQ6YmctZ3JheS01MCBkaXNhYmxlZDp0ZXh0LWdyYXktNTAwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCcsICdkYXJrOmJnLWdyYXktODAwIGRhcms6dGV4dC1ncmF5LTEwMCcsIHNpemVzW2lucHV0U2l6ZV0sIGZ1bGxXaWR0aCAmJiAndy1mdWxsJywgc3RhcnRJY29uICYmICdwbC0xMCcsIGVuZEljb24gJiYgJ3ByLTEwJywgZXJyb3JcbiAgICAgICAgPyBjbHN4KCdib3JkZXItcmVkLTUwMCB0ZXh0LXJlZC05MDAgcGxhY2Vob2xkZXItcmVkLTQwMCcsICdmb2N1czpib3JkZXItcmVkLTUwMCBmb2N1czpyaW5nLXJlZC01MDAnLCAnZGFyazpib3JkZXItcmVkLTQwMCBkYXJrOnRleHQtcmVkLTQwMCcpXG4gICAgICAgIDogY2xzeCgnYm9yZGVyLWdyYXktMzAwIHBsYWNlaG9sZGVyLWdyYXktNDAwJywgJ2ZvY3VzOmJvcmRlci1ibHVlLTUwMCBmb2N1czpyaW5nLWJsdWUtNTAwJywgJ2Rhcms6Ym9yZGVyLWdyYXktNjAwIGRhcms6cGxhY2Vob2xkZXItZ3JheS01MDAnKSwgY2xhc3NOYW1lKTtcbiAgICAvLyBDb250YWluZXIgY2xhc3Nlc1xuICAgIGNvbnN0IGNvbnRhaW5lckNsYXNzZXMgPSBjbHN4KGZ1bGxXaWR0aCAmJiAndy1mdWxsJyk7XG4gICAgLy8gTGFiZWwgY2xhc3Nlc1xuICAgIGNvbnN0IGxhYmVsQ2xhc3NlcyA9IGNsc3goJ2Jsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0yMDAgbWItMScpO1xuICAgIC8vIEhlbHBlci9FcnJvciB0ZXh0IGNsYXNzZXNcbiAgICBjb25zdCBoZWxwZXJDbGFzc2VzID0gY2xzeCgnbXQtMSB0ZXh0LXNtJywgZXJyb3IgPyAndGV4dC1yZWQtNjAwIGRhcms6dGV4dC1yZWQtNDAwJyA6ICd0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCcpO1xuICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNvbnRhaW5lckNsYXNzZXMsIGNoaWxkcmVuOiBbbGFiZWwgJiYgKF9qc3hzKFwibGFiZWxcIiwgeyBodG1sRm9yOiBpbnB1dElkLCBjbGFzc05hbWU6IGxhYmVsQ2xhc3NlcywgY2hpbGRyZW46IFtsYWJlbCwgcmVxdWlyZWQgJiYgKF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInRleHQtcmVkLTUwMCBtbC0xXCIsIFwiYXJpYS1sYWJlbFwiOiBcInJlcXVpcmVkXCIsIGNoaWxkcmVuOiBcIipcIiB9KSksICFyZXF1aXJlZCAmJiBzaG93T3B0aW9uYWwgJiYgKF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIG1sLTEgdGV4dC14c1wiLCBjaGlsZHJlbjogXCIob3B0aW9uYWwpXCIgfSkpXSB9KSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJlbGF0aXZlXCIsIGNoaWxkcmVuOiBbc3RhcnRJY29uICYmIChfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImFic29sdXRlIGluc2V0LXktMCBsZWZ0LTAgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBwb2ludGVyLWV2ZW50cy1ub25lXCIsIGNoaWxkcmVuOiBfanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiLCBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLCBjaGlsZHJlbjogc3RhcnRJY29uIH0pIH0pKSwgX2pzeChcImlucHV0XCIsIHsgcmVmOiByZWYsIGlkOiBpbnB1dElkLCBjbGFzc05hbWU6IGlucHV0Q2xhc3NlcywgXCJhcmlhLWludmFsaWRcIjogISFlcnJvciwgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IGNsc3goZXJyb3IgJiYgZXJyb3JJZCwgaGVscGVyVGV4dCAmJiBoZWxwZXJJZCkgfHwgdW5kZWZpbmVkLCBcImFyaWEtcmVxdWlyZWRcIjogcmVxdWlyZWQsIGRpc2FibGVkOiBkaXNhYmxlZCwgXCJkYXRhLWN5XCI6IGRhdGFDeSwgLi4ucHJvcHMgfSksIGVuZEljb24gJiYgKF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYWJzb2x1dGUgaW5zZXQteS0wIHJpZ2h0LTAgcHItMyBmbGV4IGl0ZW1zLWNlbnRlciBwb2ludGVyLWV2ZW50cy1ub25lXCIsIGNoaWxkcmVuOiBfanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiLCBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLCBjaGlsZHJlbjogZW5kSWNvbiB9KSB9KSldIH0pLCBlcnJvciAmJiAoX2pzeChcImRpdlwiLCB7IGlkOiBlcnJvcklkLCBjbGFzc05hbWU6IGhlbHBlckNsYXNzZXMsIHJvbGU6IFwiYWxlcnRcIiwgY2hpbGRyZW46IF9qc3hzKFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGl0ZW1zLWNlbnRlclwiLCBjaGlsZHJlbjogW19qc3goQWxlcnRDaXJjbGUsIHsgY2xhc3NOYW1lOiBcInctNCBoLTQgbXItMVwiLCBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiIH0pLCBlcnJvcl0gfSkgfSkpLCBoZWxwZXJUZXh0ICYmICFlcnJvciAmJiAoX2pzeChcImRpdlwiLCB7IGlkOiBoZWxwZXJJZCwgY2xhc3NOYW1lOiBoZWxwZXJDbGFzc2VzLCBjaGlsZHJlbjogX2pzeHMoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImZsZXggaXRlbXMtY2VudGVyXCIsIGNoaWxkcmVuOiBbX2pzeChJbmZvLCB7IGNsYXNzTmFtZTogXCJ3LTQgaC00IG1yLTFcIiwgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIiB9KSwgaGVscGVyVGV4dF0gfSkgfSkpXSB9KSk7XG59KTtcbklucHV0LmRpc3BsYXlOYW1lID0gJ0lucHV0JztcbiIsImltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG4vKipcbiAqIFdhdmUgU2NoZWR1bGluZyBEaWFsb2cgQ29tcG9uZW50XG4gKlxuICogQ29tcHJlaGVuc2l2ZSBzY2hlZHVsaW5nIGRpYWxvZyBmb3IgbWlncmF0aW9uIHdhdmVzIHdpdGg6XG4gKiAtIFdhdmUgaW5mb3JtYXRpb24gYW5kIG1ldGFkYXRhXG4gKiAtIFNjaGVkdWxpbmcgc2V0dGluZ3MgYW5kIGNvbmN1cnJlbmN5XG4gKiAtIEJsYWNrb3V0IHBlcmlvZCBtYW5hZ2VtZW50XG4gKiAtIE5vdGlmaWNhdGlvbiBjb25maWd1cmF0aW9uXG4gKiAtIFZhbGlkYXRpb24gYW5kIHByZXZpZXdcbiAqXG4gKiBJbXBsZW1lbnRzIFQtMDMzIHNjaGVkdWxpbmcgVUkgcmVxdWlyZW1lbnRzIGZyb20gV1BGIHZlcnNpb25cbiAqL1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBEaWFsb2cgfSBmcm9tICdAaGVhZGxlc3N1aS9yZWFjdCc7XG5pbXBvcnQgeyBYLCBDYWxlbmRhciwgQ2xvY2ssIEFsZXJ0VHJpYW5nbGUsIEJlbGwsIFBsdXMsIFRyYXNoMiwgRXllLCBDaGVja0NpcmNsZSwgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgZm9ybWF0LCBhZGREYXlzLCBpc0JlZm9yZSwgaXNBZnRlciB9IGZyb20gJ2RhdGUtZm5zJztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL2F0b21zL0J1dHRvbic7XG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gJy4uL2F0b21zL0lucHV0JztcbmltcG9ydCB7IFNlbGVjdCB9IGZyb20gJy4uL2F0b21zL1NlbGVjdCc7XG4vKipcbiAqIFdhdmUgU2NoZWR1bGluZyBEaWFsb2cgQ29tcG9uZW50XG4gKi9cbmNvbnN0IFdhdmVTY2hlZHVsaW5nRGlhbG9nID0gKHsgaXNPcGVuLCBvbkNsb3NlLCBvblNjaGVkdWxlLCB3YXZlID0gbnVsbCwgJ2RhdGEtY3knOiBkYXRhQ3kgPSAnd2F2ZS1zY2hlZHVsaW5nLWRpYWxvZycsIH0pID0+IHtcbiAgICBjb25zdCBbZm9ybURhdGEsIHNldEZvcm1EYXRhXSA9IHVzZVN0YXRlKHtcbiAgICAgICAgd2F2ZU5hbWU6IGBXYXZlLSR7Zm9ybWF0KG5ldyBEYXRlKCksICd5eXl5TU1kZC1ISG1tJyl9YCxcbiAgICAgICAgd2F2ZURlc2NyaXB0aW9uOiAnTWlncmF0aW9uIHdhdmUgY3JlYXRlZCB2aWEgc2NoZWR1bGVyJyxcbiAgICAgICAgd2F2ZVByaW9yaXR5OiAnTm9ybWFsJyxcbiAgICAgICAgd2F2ZVR5cGU6ICdNaXhlZCBDb250ZW50JyxcbiAgICAgICAgZXN0aW1hdGVkSXRlbXM6IDEwMCxcbiAgICAgICAgZGVwZW5kZW5jaWVzOiBbXSxcbiAgICAgICAgc2NoZWR1bGVkRGF0ZTogYWRkRGF5cyhuZXcgRGF0ZSgpLCAxKSxcbiAgICAgICAgc2NoZWR1bGVkVGltZTogJzA5OjAwJyxcbiAgICAgICAgbWF4Q29uY3VycmVudFRhc2tzOiAxMCxcbiAgICAgICAgcmV0cnlDb3VudDogMyxcbiAgICAgICAgcmV0cnlEZWxheU1pbnV0ZXM6IDMwLFxuICAgICAgICB0aW1lb3V0SG91cnM6IDgsXG4gICAgICAgIHNraXBXZWVrZW5kczogdHJ1ZSxcbiAgICAgICAgYWxsb3dQYXJhbGxlbEJhdGNoZXM6IHRydWUsXG4gICAgICAgIGNvbnRpbnVlT25GYWlsdXJlOiBmYWxzZSxcbiAgICAgICAgc2VuZFByZU1pZ3JhdGlvbk5vdGlmaWNhdGlvbnM6IHRydWUsXG4gICAgICAgIHNlbmRQb3N0TWlncmF0aW9uTm90aWZpY2F0aW9uczogdHJ1ZSxcbiAgICAgICAgc2VuZFByb2dyZXNzTm90aWZpY2F0aW9uczogZmFsc2UsXG4gICAgICAgIHByZU1pZ3JhdGlvbk5vdGlmaWNhdGlvbkhvdXJzOiAyNCxcbiAgICAgICAgYWRkaXRpb25hbFJlY2lwaWVudHM6IFtdLFxuICAgICAgICBibGFja291dFBlcmlvZHM6IFtdLFxuICAgIH0pO1xuICAgIGNvbnN0IFt2YWxpZGF0aW9uRXJyb3JzLCBzZXRWYWxpZGF0aW9uRXJyb3JzXSA9IHVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBbaXNTY2hlZHVsaW5nLCBzZXRJc1NjaGVkdWxpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFthY3RpdmVUYWIsIHNldEFjdGl2ZVRhYl0gPSB1c2VTdGF0ZSgnaW5mbycpO1xuICAgIC8vIExvYWQgd2F2ZSBkYXRhIHdoZW4gZGlhbG9nIG9wZW5zXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGlzT3BlbiAmJiB3YXZlKSB7XG4gICAgICAgICAgICBzZXRGb3JtRGF0YSh7IC4uLmZvcm1EYXRhLCAuLi53YXZlIH0pO1xuICAgICAgICB9XG4gICAgICAgIHNldFZhbGlkYXRpb25FcnJvcnMoW10pO1xuICAgIH0sIFtpc09wZW4sIHdhdmVdKTtcbiAgICAvLyBUaW1lIHNsb3Qgb3B0aW9ucyAoaG91cmx5IGludGVydmFscylcbiAgICBjb25zdCB0aW1lU2xvdHMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAyNCB9LCAoXywgaSkgPT4gKHtcbiAgICAgICAgdmFsdWU6IGAke2kudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfTowMGAsXG4gICAgICAgIGxhYmVsOiBgJHtpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX06MDBgLFxuICAgIH0pKTtcbiAgICBjb25zdCBwcmlvcml0eU9wdGlvbnMgPSBbXG4gICAgICAgIHsgdmFsdWU6ICdMb3cnLCBsYWJlbDogJ0xvdycgfSxcbiAgICAgICAgeyB2YWx1ZTogJ05vcm1hbCcsIGxhYmVsOiAnTm9ybWFsJyB9LFxuICAgICAgICB7IHZhbHVlOiAnSGlnaCcsIGxhYmVsOiAnSGlnaCcgfSxcbiAgICAgICAgeyB2YWx1ZTogJ0NyaXRpY2FsJywgbGFiZWw6ICdDcml0aWNhbCcgfSxcbiAgICBdO1xuICAgIGNvbnN0IHdhdmVUeXBlT3B0aW9ucyA9IFtcbiAgICAgICAgeyB2YWx1ZTogJ1VzZXJzIE9ubHknLCBsYWJlbDogJ1VzZXJzIE9ubHknIH0sXG4gICAgICAgIHsgdmFsdWU6ICdGaWxlcyBPbmx5JywgbGFiZWw6ICdGaWxlcyBPbmx5JyB9LFxuICAgICAgICB7IHZhbHVlOiAnTWl4ZWQgQ29udGVudCcsIGxhYmVsOiAnTWl4ZWQgQ29udGVudCcgfSxcbiAgICAgICAgeyB2YWx1ZTogJ0Z1bGwgTWlncmF0aW9uJywgbGFiZWw6ICdGdWxsIE1pZ3JhdGlvbicgfSxcbiAgICBdO1xuICAgIGNvbnN0IGJsYWNrb3V0VHlwZU9wdGlvbnMgPSBbXG4gICAgICAgIHsgdmFsdWU6ICdCdXNpbmVzc0hvdXJzJywgbGFiZWw6ICdCdXNpbmVzcyBIb3VycycgfSxcbiAgICAgICAgeyB2YWx1ZTogJ01haW50ZW5hbmNlV2luZG93JywgbGFiZWw6ICdNYWludGVuYW5jZSBXaW5kb3cnIH0sXG4gICAgICAgIHsgdmFsdWU6ICdIb2xpZGF5JywgbGFiZWw6ICdIb2xpZGF5JyB9LFxuICAgICAgICB7IHZhbHVlOiAnQ3VzdG9tJywgbGFiZWw6ICdDdXN0b20nIH0sXG4gICAgXTtcbiAgICBjb25zdCB2YWxpZGF0ZSA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgZXJyb3JzID0gW107XG4gICAgICAgIGlmICghZm9ybURhdGEud2F2ZU5hbWUudHJpbSgpKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCgnV2F2ZSBuYW1lIGlzIHJlcXVpcmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmb3JtRGF0YS5zY2hlZHVsZWREYXRlKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCgnU2NoZWR1bGVkIGRhdGUgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0JlZm9yZShmb3JtRGF0YS5zY2hlZHVsZWREYXRlLCBuZXcgRGF0ZSgpKSkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goJ1NjaGVkdWxlZCBkYXRlIGNhbm5vdCBiZSBpbiB0aGUgcGFzdCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZm9ybURhdGEuc2NoZWR1bGVkVGltZSkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goJ1NjaGVkdWxlZCB0aW1lIGlzIHJlcXVpcmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1EYXRhLm1heENvbmN1cnJlbnRUYXNrcyA8PSAwKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCgnTWF4IGNvbmN1cnJlbnQgdGFza3MgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtRGF0YS5yZXRyeUNvdW50IDwgMCkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goJ1JldHJ5IGNvdW50IGNhbm5vdCBiZSBuZWdhdGl2ZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtRGF0YS5lc3RpbWF0ZWRJdGVtcyA8PSAwKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCgnRXN0aW1hdGVkIGl0ZW1zIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBmb3IgYmxhY2tvdXQgcGVyaW9kIGNvbmZsaWN0c1xuICAgICAgICBjb25zdCBzY2hlZHVsZWREYXRlVGltZSA9IGNvbWJpbmVEYXRlVGltZShmb3JtRGF0YS5zY2hlZHVsZWREYXRlLCBmb3JtRGF0YS5zY2hlZHVsZWRUaW1lKTtcbiAgICAgICAgY29uc3QgY29uZmxpY3RpbmdQZXJpb2QgPSBmb3JtRGF0YS5ibGFja291dFBlcmlvZHMuZmluZCgoYnApID0+IGlzQWZ0ZXIoc2NoZWR1bGVkRGF0ZVRpbWUsIGJwLnN0YXJ0VGltZSkgJiYgaXNCZWZvcmUoc2NoZWR1bGVkRGF0ZVRpbWUsIGJwLmVuZFRpbWUpKTtcbiAgICAgICAgaWYgKGNvbmZsaWN0aW5nUGVyaW9kKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChgU2NoZWR1bGVkIHRpbWUgY29uZmxpY3RzIHdpdGggYmxhY2tvdXQgcGVyaW9kOiAke2NvbmZsaWN0aW5nUGVyaW9kLmRlc2NyaXB0aW9ufWApO1xuICAgICAgICB9XG4gICAgICAgIHNldFZhbGlkYXRpb25FcnJvcnMoZXJyb3JzKTtcbiAgICAgICAgcmV0dXJuIGVycm9ycy5sZW5ndGggPT09IDA7XG4gICAgfTtcbiAgICBjb25zdCBjb21iaW5lRGF0ZVRpbWUgPSAoZGF0ZSwgdGltZSkgPT4ge1xuICAgICAgICBjb25zdCBbaG91cnMsIG1pbnV0ZXNdID0gdGltZS5zcGxpdCgnOicpLm1hcChOdW1iZXIpO1xuICAgICAgICBjb25zdCBjb21iaW5lZCA9IG5ldyBEYXRlKGRhdGUpO1xuICAgICAgICBjb21iaW5lZC5zZXRIb3Vycyhob3VycywgbWludXRlcywgMCwgMCk7XG4gICAgICAgIHJldHVybiBjb21iaW5lZDtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZVNjaGVkdWxlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXZhbGlkYXRlKCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNldElzU2NoZWR1bGluZyh0cnVlKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IG9uU2NoZWR1bGUoZm9ybURhdGEpO1xuICAgICAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgc2V0VmFsaWRhdGlvbkVycm9ycyhbYEZhaWxlZCB0byBzY2hlZHVsZSB3YXZlOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gXSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBzZXRJc1NjaGVkdWxpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVQcmV2aWV3ID0gKCkgPT4ge1xuICAgICAgICBpZiAoIXZhbGlkYXRlKCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHNjaGVkdWxlZERhdGVUaW1lID0gY29tYmluZURhdGVUaW1lKGZvcm1EYXRhLnNjaGVkdWxlZERhdGUsIGZvcm1EYXRhLnNjaGVkdWxlZFRpbWUpO1xuICAgICAgICBjb25zdCBlc3RpbWF0ZWREdXJhdGlvbiA9IE1hdGguY2VpbChmb3JtRGF0YS5lc3RpbWF0ZWRJdGVtcyAvIDUwKTsgLy8gUm91Z2ggZXN0aW1hdGU6IDUwIGl0ZW1zL2hvdXJcbiAgICAgICAgc2V0VmFsaWRhdGlvbkVycm9ycyhbXG4gICAgICAgICAgICBgUHJldmlldzogV2F2ZSAnJHtmb3JtRGF0YS53YXZlTmFtZX0nIHNjaGVkdWxlZCBmb3IgJHtmb3JtYXQoc2NoZWR1bGVkRGF0ZVRpbWUsICdQUHBwJyl9YCxcbiAgICAgICAgICAgIGBFc3RpbWF0ZWQgZHVyYXRpb246ICR7ZXN0aW1hdGVkRHVyYXRpb259IGhvdXJzYCxcbiAgICAgICAgICAgIGBNYXggY29uY3VycmVudCB0YXNrczogJHtmb3JtRGF0YS5tYXhDb25jdXJyZW50VGFza3N9YCxcbiAgICAgICAgICAgIGBSZXRyeSBhdHRlbXB0czogJHtmb3JtRGF0YS5yZXRyeUNvdW50fWAsXG4gICAgICAgIF0pO1xuICAgIH07XG4gICAgY29uc3QgYWRkQmxhY2tvdXRQZXJpb2QgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1BlcmlvZCA9IHtcbiAgICAgICAgICAgIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdOZXcgQmxhY2tvdXQgUGVyaW9kJyxcbiAgICAgICAgICAgIHN0YXJ0VGltZTogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIGVuZFRpbWU6IGFkZERheXMobmV3IERhdGUoKSwgMSksXG4gICAgICAgICAgICB0eXBlOiAnTWFpbnRlbmFuY2VXaW5kb3cnLFxuICAgICAgICAgICAgaXNSZWN1cnJpbmc6IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgICBzZXRGb3JtRGF0YSh7XG4gICAgICAgICAgICAuLi5mb3JtRGF0YSxcbiAgICAgICAgICAgIGJsYWNrb3V0UGVyaW9kczogWy4uLmZvcm1EYXRhLmJsYWNrb3V0UGVyaW9kcywgbmV3UGVyaW9kXSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVCbGFja291dFBlcmlvZCA9IChpZCkgPT4ge1xuICAgICAgICBzZXRGb3JtRGF0YSh7XG4gICAgICAgICAgICAuLi5mb3JtRGF0YSxcbiAgICAgICAgICAgIGJsYWNrb3V0UGVyaW9kczogZm9ybURhdGEuYmxhY2tvdXRQZXJpb2RzLmZpbHRlcigoYnApID0+IGJwLmlkICE9PSBpZCksXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQmxhY2tvdXRQZXJpb2QgPSAoaWQsIHVwZGF0ZXMpID0+IHtcbiAgICAgICAgc2V0Rm9ybURhdGEoe1xuICAgICAgICAgICAgLi4uZm9ybURhdGEsXG4gICAgICAgICAgICBibGFja291dFBlcmlvZHM6IGZvcm1EYXRhLmJsYWNrb3V0UGVyaW9kcy5tYXAoKGJwKSA9PiBicC5pZCA9PT0gaWQgPyB7IC4uLmJwLCAuLi51cGRhdGVzIH0gOiBicCksXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgcmVuZGVyVGFiQ29udGVudCA9ICgpID0+IHtcbiAgICAgICAgc3dpdGNoIChhY3RpdmVUYWIpIHtcbiAgICAgICAgICAgIGNhc2UgJ2luZm8nOlxuICAgICAgICAgICAgICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3BhY2UteS00XCIsIGNoaWxkcmVuOiBbX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtNFwiLCBjaGlsZHJlbjogW19qc3goSW5wdXQsIHsgbGFiZWw6IFwiV2F2ZSBOYW1lXCIsIHZhbHVlOiBmb3JtRGF0YS53YXZlTmFtZSwgb25DaGFuZ2U6IChlKSA9PiBzZXRGb3JtRGF0YSh7IC4uLmZvcm1EYXRhLCB3YXZlTmFtZTogZS50YXJnZXQudmFsdWUgfSksIHJlcXVpcmVkOiB0cnVlLCBcImRhdGEtY3lcIjogXCJ3YXZlLW5hbWUtaW5wdXRcIiB9KSwgX2pzeChJbnB1dCwgeyBsYWJlbDogXCJEZXNjcmlwdGlvblwiLCB2YWx1ZTogZm9ybURhdGEud2F2ZURlc2NyaXB0aW9uLCBvbkNoYW5nZTogKGUpID0+IHNldEZvcm1EYXRhKHsgLi4uZm9ybURhdGEsIHdhdmVEZXNjcmlwdGlvbjogZS50YXJnZXQudmFsdWUgfSksIFwiZGF0YS1jeVwiOiBcIndhdmUtZGVzY3JpcHRpb24taW5wdXRcIiB9KV0gfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTRcIiwgY2hpbGRyZW46IFtfanN4KFNlbGVjdCwgeyBsYWJlbDogXCJQcmlvcml0eVwiLCB2YWx1ZTogZm9ybURhdGEud2F2ZVByaW9yaXR5LCBvbkNoYW5nZTogKHZhbHVlKSA9PiBzZXRGb3JtRGF0YSh7IC4uLmZvcm1EYXRhLCB3YXZlUHJpb3JpdHk6IHZhbHVlIH0pLCBvcHRpb25zOiBwcmlvcml0eU9wdGlvbnMsIHJlcXVpcmVkOiB0cnVlLCBcImRhdGEtY3lcIjogXCJ3YXZlLXByaW9yaXR5LXNlbGVjdFwiIH0pLCBfanN4KFNlbGVjdCwgeyBsYWJlbDogXCJXYXZlIFR5cGVcIiwgdmFsdWU6IGZvcm1EYXRhLndhdmVUeXBlLCBvbkNoYW5nZTogKHZhbHVlKSA9PiBzZXRGb3JtRGF0YSh7IC4uLmZvcm1EYXRhLCB3YXZlVHlwZTogdmFsdWUgfSksIG9wdGlvbnM6IHdhdmVUeXBlT3B0aW9ucywgcmVxdWlyZWQ6IHRydWUsIFwiZGF0YS1jeVwiOiBcIndhdmUtdHlwZS1zZWxlY3RcIiB9KV0gfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTRcIiwgY2hpbGRyZW46IFtfanN4KElucHV0LCB7IGxhYmVsOiBcIkVzdGltYXRlZCBJdGVtc1wiLCB0eXBlOiBcIm51bWJlclwiLCB2YWx1ZTogZm9ybURhdGEuZXN0aW1hdGVkSXRlbXMudG9TdHJpbmcoKSwgb25DaGFuZ2U6IChlKSA9PiBzZXRGb3JtRGF0YSh7IC4uLmZvcm1EYXRhLCBlc3RpbWF0ZWRJdGVtczogcGFyc2VJbnQoZS50YXJnZXQudmFsdWUpIHx8IDAgfSksIHJlcXVpcmVkOiB0cnVlLCBcImRhdGEtY3lcIjogXCJ3YXZlLWl0ZW1zLWlucHV0XCIgfSksIF9qc3goSW5wdXQsIHsgbGFiZWw6IFwiRGVwZW5kZW5jaWVzIChjb21tYS1zZXBhcmF0ZWQgV2F2ZSBJRHMpXCIsIHZhbHVlOiBmb3JtRGF0YS5kZXBlbmRlbmNpZXMuam9pbignLCAnKSwgb25DaGFuZ2U6IChlKSA9PiBzZXRGb3JtRGF0YSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZm9ybURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jaWVzOiBlLnRhcmdldC52YWx1ZS5zcGxpdCgnLCcpLm1hcCgoZCkgPT4gZC50cmltKCkpLmZpbHRlcihCb29sZWFuKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBcImRhdGEtY3lcIjogXCJ3YXZlLWRlcGVuZGVuY2llcy1pbnB1dFwiIH0pXSB9KV0gfSkpO1xuICAgICAgICAgICAgY2FzZSAnc2NoZWR1bGUnOlxuICAgICAgICAgICAgICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3BhY2UteS00XCIsIGNoaWxkcmVuOiBbX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtNFwiLCBjaGlsZHJlbjogW19qc3hzKFwiZGl2XCIsIHsgY2hpbGRyZW46IFtfanN4KFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IFwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0xXCIsIGNoaWxkcmVuOiBcIlNjaGVkdWxlZCBEYXRlICpcIiB9KSwgX2pzeChcImlucHV0XCIsIHsgdHlwZTogXCJkYXRlXCIsIHZhbHVlOiBmb3JtYXQoZm9ybURhdGEuc2NoZWR1bGVkRGF0ZSwgJ3l5eXktTU0tZGQnKSwgb25DaGFuZ2U6IChlKSA9PiBzZXRGb3JtRGF0YSh7IC4uLmZvcm1EYXRhLCBzY2hlZHVsZWREYXRlOiBuZXcgRGF0ZShlLnRhcmdldC52YWx1ZSkgfSksIGNsYXNzTmFtZTogXCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgZGFyazpib3JkZXItZ3JheS02MDAgcm91bmRlZC1sZyBiZy13aGl0ZSBkYXJrOmJnLWdyYXktNzAwIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwXCIsIFwiZGF0YS1jeVwiOiBcIndhdmUtZGF0ZS1pbnB1dFwiIH0pXSB9KSwgX2pzeChTZWxlY3QsIHsgbGFiZWw6IFwiU2NoZWR1bGVkIFRpbWVcIiwgdmFsdWU6IGZvcm1EYXRhLnNjaGVkdWxlZFRpbWUsIG9uQ2hhbmdlOiAodmFsdWUpID0+IHNldEZvcm1EYXRhKHsgLi4uZm9ybURhdGEsIHNjaGVkdWxlZFRpbWU6IHZhbHVlIH0pLCBvcHRpb25zOiB0aW1lU2xvdHMsIHJlcXVpcmVkOiB0cnVlLCBcImRhdGEtY3lcIjogXCJ3YXZlLXRpbWUtc2VsZWN0XCIgfSldIH0pLCBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJncmlkIGdyaWQtY29scy0yIGdhcC00XCIsIGNoaWxkcmVuOiBbX2pzeChJbnB1dCwgeyBsYWJlbDogXCJNYXggQ29uY3VycmVudCBUYXNrc1wiLCB0eXBlOiBcIm51bWJlclwiLCB2YWx1ZTogZm9ybURhdGEubWF4Q29uY3VycmVudFRhc2tzLnRvU3RyaW5nKCksIG9uQ2hhbmdlOiAoZSkgPT4gc2V0Rm9ybURhdGEoeyAuLi5mb3JtRGF0YSwgbWF4Q29uY3VycmVudFRhc2tzOiBwYXJzZUludChlLnRhcmdldC52YWx1ZSkgfHwgMTAgfSksIHJlcXVpcmVkOiB0cnVlLCBcImRhdGEtY3lcIjogXCJ3YXZlLWNvbmN1cnJlbnQtaW5wdXRcIiB9KSwgX2pzeChJbnB1dCwgeyBsYWJlbDogXCJSZXRyeSBDb3VudFwiLCB0eXBlOiBcIm51bWJlclwiLCB2YWx1ZTogZm9ybURhdGEucmV0cnlDb3VudC50b1N0cmluZygpLCBvbkNoYW5nZTogKGUpID0+IHNldEZvcm1EYXRhKHsgLi4uZm9ybURhdGEsIHJldHJ5Q291bnQ6IHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSB8fCAwIH0pLCBcImRhdGEtY3lcIjogXCJ3YXZlLXJldHJ5LWlucHV0XCIgfSldIH0pLCBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJncmlkIGdyaWQtY29scy0yIGdhcC00XCIsIGNoaWxkcmVuOiBbX2pzeChJbnB1dCwgeyBsYWJlbDogXCJSZXRyeSBEZWxheSAobWludXRlcylcIiwgdHlwZTogXCJudW1iZXJcIiwgdmFsdWU6IGZvcm1EYXRhLnJldHJ5RGVsYXlNaW51dGVzLnRvU3RyaW5nKCksIG9uQ2hhbmdlOiAoZSkgPT4gc2V0Rm9ybURhdGEoeyAuLi5mb3JtRGF0YSwgcmV0cnlEZWxheU1pbnV0ZXM6IHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSB8fCAwIH0pLCBcImRhdGEtY3lcIjogXCJ3YXZlLXJldHJ5LWRlbGF5LWlucHV0XCIgfSksIF9qc3goSW5wdXQsIHsgbGFiZWw6IFwiVGltZW91dCAoaG91cnMpXCIsIHR5cGU6IFwibnVtYmVyXCIsIHZhbHVlOiBmb3JtRGF0YS50aW1lb3V0SG91cnMudG9TdHJpbmcoKSwgb25DaGFuZ2U6IChlKSA9PiBzZXRGb3JtRGF0YSh7IC4uLmZvcm1EYXRhLCB0aW1lb3V0SG91cnM6IHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSB8fCAwIH0pLCBcImRhdGEtY3lcIjogXCJ3YXZlLXRpbWVvdXQtaW5wdXRcIiB9KV0gfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInNwYWNlLXktMiBwdC00IGJvcmRlci10IGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMFwiLCBjaGlsZHJlbjogW19qc3hzKFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIiwgY2hpbGRyZW46IFtfanN4KFwiaW5wdXRcIiwgeyB0eXBlOiBcImNoZWNrYm94XCIsIGNoZWNrZWQ6IGZvcm1EYXRhLnNraXBXZWVrZW5kcywgb25DaGFuZ2U6IChlKSA9PiBzZXRGb3JtRGF0YSh7IC4uLmZvcm1EYXRhLCBza2lwV2Vla2VuZHM6IGUudGFyZ2V0LmNoZWNrZWQgfSksIGNsYXNzTmFtZTogXCJyb3VuZGVkXCIsIFwiZGF0YS1jeVwiOiBcIndhdmUtc2tpcC13ZWVrZW5kc1wiIH0pLCBfanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXNtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwXCIsIGNoaWxkcmVuOiBcIlNraXAgd2Vla2VuZHMgd2hlbiByZXNjaGVkdWxpbmdcIiB9KV0gfSksIF9qc3hzKFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIiwgY2hpbGRyZW46IFtfanN4KFwiaW5wdXRcIiwgeyB0eXBlOiBcImNoZWNrYm94XCIsIGNoZWNrZWQ6IGZvcm1EYXRhLmFsbG93UGFyYWxsZWxCYXRjaGVzLCBvbkNoYW5nZTogKGUpID0+IHNldEZvcm1EYXRhKHsgLi4uZm9ybURhdGEsIGFsbG93UGFyYWxsZWxCYXRjaGVzOiBlLnRhcmdldC5jaGVja2VkIH0pLCBjbGFzc05hbWU6IFwicm91bmRlZFwiLCBcImRhdGEtY3lcIjogXCJ3YXZlLXBhcmFsbGVsLWJhdGNoZXNcIiB9KSwgX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwidGV4dC1zbSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMFwiLCBjaGlsZHJlbjogXCJBbGxvdyBwYXJhbGxlbCBiYXRjaCBleGVjdXRpb25cIiB9KV0gfSksIF9qc3hzKFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIiwgY2hpbGRyZW46IFtfanN4KFwiaW5wdXRcIiwgeyB0eXBlOiBcImNoZWNrYm94XCIsIGNoZWNrZWQ6IGZvcm1EYXRhLmNvbnRpbnVlT25GYWlsdXJlLCBvbkNoYW5nZTogKGUpID0+IHNldEZvcm1EYXRhKHsgLi4uZm9ybURhdGEsIGNvbnRpbnVlT25GYWlsdXJlOiBlLnRhcmdldC5jaGVja2VkIH0pLCBjbGFzc05hbWU6IFwicm91bmRlZFwiLCBcImRhdGEtY3lcIjogXCJ3YXZlLWNvbnRpbnVlLWZhaWx1cmVcIiB9KSwgX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwidGV4dC1zbSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMFwiLCBjaGlsZHJlbjogXCJDb250aW51ZSBvbiBiYXRjaCBmYWlsdXJlXCIgfSldIH0pXSB9KV0gfSkpO1xuICAgICAgICAgICAgY2FzZSAnYmxhY2tvdXQnOlxuICAgICAgICAgICAgICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3BhY2UteS00XCIsIGNoaWxkcmVuOiBbX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTRcIiwgY2hpbGRyZW46IFtfanN4KFwiaDNcIiwgeyBjbGFzc05hbWU6IFwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMFwiLCBjaGlsZHJlbjogXCJCbGFja291dCBQZXJpb2RzXCIgfSksIF9qc3goQnV0dG9uLCB7IHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsIG9uQ2xpY2s6IGFkZEJsYWNrb3V0UGVyaW9kLCBpY29uOiBfanN4KFBsdXMsIHsgY2xhc3NOYW1lOiBcInctNCBoLTRcIiB9KSwgXCJkYXRhLWN5XCI6IFwiYWRkLWJsYWNrb3V0LWJ0blwiLCBjaGlsZHJlbjogXCJBZGQgUGVyaW9kXCIgfSldIH0pLCBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInNwYWNlLXktMyBtYXgtaC05NiBvdmVyZmxvdy15LWF1dG9cIiwgY2hpbGRyZW46IGZvcm1EYXRhLmJsYWNrb3V0UGVyaW9kcy5sZW5ndGggPT09IDAgPyAoX2pzeChcInBcIiwgeyBjbGFzc05hbWU6IFwidGV4dC1zbSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCB0ZXh0LWNlbnRlciBweS04XCIsIGNoaWxkcmVuOiBcIk5vIGJsYWNrb3V0IHBlcmlvZHMgY29uZmlndXJlZFwiIH0pKSA6IChmb3JtRGF0YS5ibGFja291dFBlcmlvZHMubWFwKChwZXJpb2QpID0+IChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJwLTQgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCByb3VuZGVkLWxnIHNwYWNlLXktM1wiLCBjaGlsZHJlbjogW19qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggaXRlbXMtc3RhcnQganVzdGlmeS1iZXR3ZWVuIGdhcC0yXCIsIGNoaWxkcmVuOiBbX2pzeChJbnB1dCwgeyB2YWx1ZTogcGVyaW9kLmRlc2NyaXB0aW9uLCBvbkNoYW5nZTogKGUpID0+IHVwZGF0ZUJsYWNrb3V0UGVyaW9kKHBlcmlvZC5pZCwgeyBkZXNjcmlwdGlvbjogZS50YXJnZXQudmFsdWUgfSksIHBsYWNlaG9sZGVyOiBcIkRlc2NyaXB0aW9uXCIsIGNsYXNzTmFtZTogXCJmbGV4LTFcIiB9KSwgX2pzeChCdXR0b24sIHsgdmFyaWFudDogXCJkYW5nZXJcIiwgb25DbGljazogKCkgPT4gcmVtb3ZlQmxhY2tvdXRQZXJpb2QocGVyaW9kLmlkKSwgaWNvbjogX2pzeChUcmFzaDIsIHsgY2xhc3NOYW1lOiBcInctNCBoLTRcIiB9KSwgXCJkYXRhLWN5XCI6IFwicmVtb3ZlLWJsYWNrb3V0LWJ0blwiLCBjaGlsZHJlbjogXCJSZW1vdmVcIiB9KV0gfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyaWQgZ3JpZC1jb2xzLTMgZ2FwLTJcIiwgY2hpbGRyZW46IFtfanN4cyhcImRpdlwiLCB7IGNoaWxkcmVuOiBbX2pzeChcImxhYmVsXCIsIHsgY2xhc3NOYW1lOiBcImJsb2NrIHRleHQteHMgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDAgbWItMVwiLCBjaGlsZHJlbjogXCJTdGFydCBUaW1lXCIgfSksIF9qc3goXCJpbnB1dFwiLCB7IHR5cGU6IFwiZGF0ZXRpbWUtbG9jYWxcIiwgdmFsdWU6IGZvcm1hdChwZXJpb2Quc3RhcnRUaW1lLCBcInl5eXktTU0tZGQnVCdISDptbVwiKSwgb25DaGFuZ2U6IChlKSA9PiB1cGRhdGVCbGFja291dFBlcmlvZChwZXJpb2QuaWQsIHsgc3RhcnRUaW1lOiBuZXcgRGF0ZShlLnRhcmdldC52YWx1ZSkgfSksIGNsYXNzTmFtZTogXCJ3LWZ1bGwgcHgtMiBweS0xIHRleHQtc20gYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBkYXJrOmJvcmRlci1ncmF5LTYwMCByb3VuZGVkIGJnLXdoaXRlIGRhcms6YmctZ3JheS03MDAgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtZ3JheS0xMDBcIiB9KV0gfSksIF9qc3hzKFwiZGl2XCIsIHsgY2hpbGRyZW46IFtfanN4KFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IFwiYmxvY2sgdGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCBtYi0xXCIsIGNoaWxkcmVuOiBcIkVuZCBUaW1lXCIgfSksIF9qc3goXCJpbnB1dFwiLCB7IHR5cGU6IFwiZGF0ZXRpbWUtbG9jYWxcIiwgdmFsdWU6IGZvcm1hdChwZXJpb2QuZW5kVGltZSwgXCJ5eXl5LU1NLWRkJ1QnSEg6bW1cIiksIG9uQ2hhbmdlOiAoZSkgPT4gdXBkYXRlQmxhY2tvdXRQZXJpb2QocGVyaW9kLmlkLCB7IGVuZFRpbWU6IG5ldyBEYXRlKGUudGFyZ2V0LnZhbHVlKSB9KSwgY2xhc3NOYW1lOiBcInctZnVsbCBweC0yIHB5LTEgdGV4dC1zbSBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLWdyYXktNjAwIHJvdW5kZWQgYmctd2hpdGUgZGFyazpiZy1ncmF5LTcwMCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC1ncmF5LTEwMFwiIH0pXSB9KSwgX2pzeChTZWxlY3QsIHsgbGFiZWw6IFwiVHlwZVwiLCB2YWx1ZTogcGVyaW9kLnR5cGUsIG9uQ2hhbmdlOiAodmFsdWUpID0+IHVwZGF0ZUJsYWNrb3V0UGVyaW9kKHBlcmlvZC5pZCwgeyB0eXBlOiB2YWx1ZSB9KSwgb3B0aW9uczogYmxhY2tvdXRUeXBlT3B0aW9ucyB9KV0gfSksIF9qc3hzKFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIiwgY2hpbGRyZW46IFtfanN4KFwiaW5wdXRcIiwgeyB0eXBlOiBcImNoZWNrYm94XCIsIGNoZWNrZWQ6IHBlcmlvZC5pc1JlY3VycmluZywgb25DaGFuZ2U6IChlKSA9PiB1cGRhdGVCbGFja291dFBlcmlvZChwZXJpb2QuaWQsIHsgaXNSZWN1cnJpbmc6IGUudGFyZ2V0LmNoZWNrZWQgfSksIGNsYXNzTmFtZTogXCJyb3VuZGVkXCIgfSksIF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInRleHQteHMgdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDBcIiwgY2hpbGRyZW46IFwiUmVjdXJyaW5nXCIgfSldIH0pXSB9LCBwZXJpb2QuaWQpKSkpIH0pXSB9KSk7XG4gICAgICAgICAgICBjYXNlICdub3RpZmljYXRpb25zJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gKF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInNwYWNlLXktNFwiLCBjaGlsZHJlbjogW19qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInNwYWNlLXktMlwiLCBjaGlsZHJlbjogW19qc3hzKFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIiwgY2hpbGRyZW46IFtfanN4KFwiaW5wdXRcIiwgeyB0eXBlOiBcImNoZWNrYm94XCIsIGNoZWNrZWQ6IGZvcm1EYXRhLnNlbmRQcmVNaWdyYXRpb25Ob3RpZmljYXRpb25zLCBvbkNoYW5nZTogKGUpID0+IHNldEZvcm1EYXRhKHsgLi4uZm9ybURhdGEsIHNlbmRQcmVNaWdyYXRpb25Ob3RpZmljYXRpb25zOiBlLnRhcmdldC5jaGVja2VkIH0pLCBjbGFzc05hbWU6IFwicm91bmRlZFwiLCBcImRhdGEtY3lcIjogXCJ3YXZlLXByZS1ub3RpZmljYXRpb25zXCIgfSksIF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInRleHQtc20gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDBcIiwgY2hpbGRyZW46IFwiU2VuZCBwcmUtbWlncmF0aW9uIG5vdGlmaWNhdGlvbnNcIiB9KV0gfSksIF9qc3hzKFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIiwgY2hpbGRyZW46IFtfanN4KFwiaW5wdXRcIiwgeyB0eXBlOiBcImNoZWNrYm94XCIsIGNoZWNrZWQ6IGZvcm1EYXRhLnNlbmRQb3N0TWlncmF0aW9uTm90aWZpY2F0aW9ucywgb25DaGFuZ2U6IChlKSA9PiBzZXRGb3JtRGF0YSh7IC4uLmZvcm1EYXRhLCBzZW5kUG9zdE1pZ3JhdGlvbk5vdGlmaWNhdGlvbnM6IGUudGFyZ2V0LmNoZWNrZWQgfSksIGNsYXNzTmFtZTogXCJyb3VuZGVkXCIsIFwiZGF0YS1jeVwiOiBcIndhdmUtcG9zdC1ub3RpZmljYXRpb25zXCIgfSksIF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInRleHQtc20gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDBcIiwgY2hpbGRyZW46IFwiU2VuZCBwb3N0LW1pZ3JhdGlvbiBub3RpZmljYXRpb25zXCIgfSldIH0pLCBfanN4cyhcImxhYmVsXCIsIHsgY2xhc3NOYW1lOiBcImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCIsIGNoaWxkcmVuOiBbX2pzeChcImlucHV0XCIsIHsgdHlwZTogXCJjaGVja2JveFwiLCBjaGVja2VkOiBmb3JtRGF0YS5zZW5kUHJvZ3Jlc3NOb3RpZmljYXRpb25zLCBvbkNoYW5nZTogKGUpID0+IHNldEZvcm1EYXRhKHsgLi4uZm9ybURhdGEsIHNlbmRQcm9ncmVzc05vdGlmaWNhdGlvbnM6IGUudGFyZ2V0LmNoZWNrZWQgfSksIGNsYXNzTmFtZTogXCJyb3VuZGVkXCIsIFwiZGF0YS1jeVwiOiBcIndhdmUtcHJvZ3Jlc3Mtbm90aWZpY2F0aW9uc1wiIH0pLCBfanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXNtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwXCIsIGNoaWxkcmVuOiBcIlNlbmQgcHJvZ3Jlc3Mgbm90aWZpY2F0aW9uc1wiIH0pXSB9KV0gfSksIF9qc3goSW5wdXQsIHsgbGFiZWw6IFwiUHJlLW1pZ3JhdGlvbiBOb3RpZmljYXRpb24gSG91cnNcIiwgdHlwZTogXCJudW1iZXJcIiwgdmFsdWU6IGZvcm1EYXRhLnByZU1pZ3JhdGlvbk5vdGlmaWNhdGlvbkhvdXJzLnRvU3RyaW5nKCksIG9uQ2hhbmdlOiAoZSkgPT4gc2V0Rm9ybURhdGEoeyAuLi5mb3JtRGF0YSwgcHJlTWlncmF0aW9uTm90aWZpY2F0aW9uSG91cnM6IHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSB8fCAyNCB9KSwgaGVscGVyVGV4dDogXCJIb3VycyBiZWZvcmUgbWlncmF0aW9uIHRvIHNlbmQgbm90aWZpY2F0aW9uXCIsIFwiZGF0YS1jeVwiOiBcIndhdmUtbm90aWZpY2F0aW9uLWhvdXJzLWlucHV0XCIgfSksIF9qc3hzKFwiZGl2XCIsIHsgY2hpbGRyZW46IFtfanN4KFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IFwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0xXCIsIGNoaWxkcmVuOiBcIkFkZGl0aW9uYWwgUmVjaXBpZW50c1wiIH0pLCBfanN4KFwidGV4dGFyZWFcIiwgeyB2YWx1ZTogZm9ybURhdGEuYWRkaXRpb25hbFJlY2lwaWVudHMuam9pbignXFxuJyksIG9uQ2hhbmdlOiAoZSkgPT4gc2V0Rm9ybURhdGEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmZvcm1EYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxSZWNpcGllbnRzOiBlLnRhcmdldC52YWx1ZS5zcGxpdCgnXFxuJykubWFwKChyKSA9PiByLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksIHJvd3M6IDQsIHBsYWNlaG9sZGVyOiBcIkVudGVyIGVtYWlsIGFkZHJlc3Nlcywgb25lIHBlciBsaW5lXCIsIGNsYXNzTmFtZTogXCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgZGFyazpib3JkZXItZ3JheS02MDAgcm91bmRlZC1sZyBiZy13aGl0ZSBkYXJrOmJnLWdyYXktNzAwIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwXCIsIFwiZGF0YS1jeVwiOiBcIndhdmUtcmVjaXBpZW50cy10ZXh0YXJlYVwiIH0pLCBfanN4KFwicFwiLCB7IGNsYXNzTmFtZTogXCJtdC0xIHRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIiwgY2hpbGRyZW46IFwiT25lIGVtYWlsIGFkZHJlc3MgcGVyIGxpbmVcIiB9KV0gfSldIH0pKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiAoX2pzeHMoRGlhbG9nLCB7IG9wZW46IGlzT3Blbiwgb25DbG9zZTogb25DbG9zZSwgY2xhc3NOYW1lOiBcInJlbGF0aXZlIHotNTBcIiwgXCJkYXRhLWN5XCI6IGRhdGFDeSwgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZpeGVkIGluc2V0LTAgYmctYmxhY2svMzBcIiwgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIiB9KSwgX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmaXhlZCBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNFwiLCBjaGlsZHJlbjogX2pzeHMoRGlhbG9nLlBhbmVsLCB7IGNsYXNzTmFtZTogXCJteC1hdXRvIG1heC13LTR4bCB3LWZ1bGwgcm91bmRlZC1sZyBiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIHNoYWRvdy0yeGwgbWF4LWgtWzkwdmhdIGZsZXggZmxleC1jb2xcIiwgY2hpbGRyZW46IFtfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcC02IGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMFwiLCBjaGlsZHJlbjogW19qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCIsIGNoaWxkcmVuOiBbX2pzeChDYWxlbmRhciwgeyBjbGFzc05hbWU6IFwidy02IGgtNiB0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMFwiIH0pLCBfanN4KERpYWxvZy5UaXRsZSwgeyBjbGFzc05hbWU6IFwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwXCIsIGNoaWxkcmVuOiBcIlNjaGVkdWxlIE1pZ3JhdGlvbiBXYXZlXCIgfSldIH0pLCBfanN4KFwiYnV0dG9uXCIsIHsgb25DbGljazogb25DbG9zZSwgY2xhc3NOYW1lOiBcInAtMiBob3ZlcjpiZy1ncmF5LTEwMCBkYXJrOmhvdmVyOmJnLWdyYXktNzAwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnNcIiwgXCJkYXRhLWN5XCI6IFwiY2xvc2Utd2F2ZS1zY2hlZHVsaW5nLWJ0blwiLCBjaGlsZHJlbjogX2pzeChYLCB7IGNsYXNzTmFtZTogXCJ3LTUgaC01XCIgfSkgfSldIH0pLCBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHB4LTZcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpZDogJ2luZm8nLCBsYWJlbDogJ1dhdmUgSW5mbycsIGljb246IENhbGVuZGFyIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaWQ6ICdzY2hlZHVsZScsIGxhYmVsOiAnU2NoZWR1bGluZycsIGljb246IENsb2NrIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaWQ6ICdibGFja291dCcsIGxhYmVsOiAnQmxhY2tvdXQgUGVyaW9kcycsIGljb246IEFsZXJ0VHJpYW5nbGUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpZDogJ25vdGlmaWNhdGlvbnMnLCBsYWJlbDogJ05vdGlmaWNhdGlvbnMnLCBpY29uOiBCZWxsIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5tYXAoKHsgaWQsIGxhYmVsLCBpY29uOiBJY29uIH0pID0+IChfanN4cyhcImJ1dHRvblwiLCB7IG9uQ2xpY2s6ICgpID0+IHNldEFjdGl2ZVRhYihpZCksIGNsYXNzTmFtZTogYGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTQgcHktMyBib3JkZXItYi0yIHRyYW5zaXRpb24tY29sb3JzICR7YWN0aXZlVGFiID09PSBpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYm9yZGVyLWJsdWUtNjAwIHRleHQtYmx1ZS02MDAgZGFyazp0ZXh0LWJsdWUtNDAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYm9yZGVyLXRyYW5zcGFyZW50IHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtZ3JheS05MDAgZGFyazpob3Zlcjp0ZXh0LWdyYXktMTAwJ31gLCBcImRhdGEtY3lcIjogYHRhYi0ke2lkfWAsIGNoaWxkcmVuOiBbX2pzeChJY29uLCB7IGNsYXNzTmFtZTogXCJ3LTQgaC00XCIgfSksIF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInRleHQtc20gZm9udC1tZWRpdW1cIiwgY2hpbGRyZW46IGxhYmVsIH0pXSB9LCBpZCkpKSB9KSwgX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIHAtNlwiLCBjaGlsZHJlbjogcmVuZGVyVGFiQ29udGVudCgpIH0pLCB2YWxpZGF0aW9uRXJyb3JzLmxlbmd0aCA+IDAgJiYgKF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicHgtNiBwYi00XCIsIGNoaWxkcmVuOiBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJwLTQgYmctcmVkLTUwIGRhcms6YmctcmVkLTkwMC8yMCBib3JkZXIgYm9yZGVyLXJlZC0yMDAgZGFyazpib3JkZXItcmVkLTgwMCByb3VuZGVkLWxnXCIsIGNoaWxkcmVuOiBbX2pzeChcImg0XCIsIHsgY2xhc3NOYW1lOiBcInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1yZWQtODAwIGRhcms6dGV4dC1yZWQtMjAwIG1iLTJcIiwgY2hpbGRyZW46IFwiVmFsaWRhdGlvbiBJc3N1ZXNcIiB9KSwgX2pzeChcInVsXCIsIHsgY2xhc3NOYW1lOiBcImxpc3QtZGlzYyBsaXN0LWluc2lkZSBzcGFjZS15LTFcIiwgY2hpbGRyZW46IHZhbGlkYXRpb25FcnJvcnMubWFwKChlcnJvciwgaW5kZXgpID0+IChfanN4KFwibGlcIiwgeyBjbGFzc05hbWU6IFwidGV4dC1zbSB0ZXh0LXJlZC03MDAgZGFyazp0ZXh0LXJlZC0zMDBcIiwgY2hpbGRyZW46IGVycm9yIH0sIGluZGV4KSkpIH0pXSB9KSB9KSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTYgYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwXCIsIGNoaWxkcmVuOiBbX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGdhcC0zXCIsIGNoaWxkcmVuOiBfanN4KEJ1dHRvbiwgeyB2YXJpYW50OiBcImdob3N0XCIsIG9uQ2xpY2s6IGhhbmRsZVByZXZpZXcsIGljb246IF9qc3goRXllLCB7IGNsYXNzTmFtZTogXCJ3LTQgaC00XCIgfSksIFwiZGF0YS1jeVwiOiBcInByZXZpZXctc2NoZWR1bGUtYnRuXCIsIGNoaWxkcmVuOiBcIlByZXZpZXcgU2NoZWR1bGVcIiB9KSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBnYXAtM1wiLCBjaGlsZHJlbjogW19qc3goQnV0dG9uLCB7IHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsIG9uQ2xpY2s6IG9uQ2xvc2UsIGRpc2FibGVkOiBpc1NjaGVkdWxpbmcsIFwiZGF0YS1jeVwiOiBcImNhbmNlbC13YXZlLXNjaGVkdWxpbmctYnRuXCIsIGNoaWxkcmVuOiBcIkNhbmNlbFwiIH0pLCBfanN4KEJ1dHRvbiwgeyB2YXJpYW50OiBcInByaW1hcnlcIiwgb25DbGljazogaGFuZGxlU2NoZWR1bGUsIGxvYWRpbmc6IGlzU2NoZWR1bGluZywgaWNvbjogX2pzeChDaGVja0NpcmNsZSwgeyBjbGFzc05hbWU6IFwidy00IGgtNFwiIH0pLCBcImRhdGEtY3lcIjogXCJzY2hlZHVsZS13YXZlLWJ0blwiLCBjaGlsZHJlbjogXCJTY2hlZHVsZSBXYXZlXCIgfSldIH0pXSB9KV0gfSkgfSldIH0pKTtcbn07XG5leHBvcnQgZGVmYXVsdCBXYXZlU2NoZWR1bGluZ0RpYWxvZztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==