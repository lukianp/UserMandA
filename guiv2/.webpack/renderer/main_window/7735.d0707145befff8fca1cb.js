(global["webpackChunkguiv2"] = global["webpackChunkguiv2"] || []).push([[7735],{

/***/ 21104:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 34766:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   p: () => (/* binding */ Input)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(74848);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(96540);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(34164);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(72832);

/**
 * Input Component
 *
 * Accessible input field with label, error states, and help text
 */



/**
 * Input component with full accessibility support
 */
const Input = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(({ label, helperText, error, required = false, showOptional = true, inputSize = 'md', fullWidth = false, startIcon, endIcon, className, id, 'data-cy': dataCy, disabled = false, ...props }, ref) => {
    // Generate unique ID if not provided
    const inputId = id || `input-${Math.random().toString(36).substr(2, 9)}`;
    const errorId = `${inputId}-error`;
    const helperId = `${inputId}-helper`;
    // Size styles
    const sizes = {
        sm: 'px-3 py-1.5 text-sm',
        md: 'px-4 py-2 text-base',
        lg: 'px-5 py-3 text-lg',
    };
    // Input classes
    const inputClasses = (0,clsx__WEBPACK_IMPORTED_MODULE_2__/* .clsx */ .$)('block rounded-md border transition-all duration-200', 'focus:outline-none focus:ring-2 focus:ring-offset-2', 'disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed', 'dark:bg-gray-800 dark:text-gray-100', sizes[inputSize], fullWidth && 'w-full', startIcon && 'pl-10', endIcon && 'pr-10', error
        ? (0,clsx__WEBPACK_IMPORTED_MODULE_2__/* .clsx */ .$)('border-red-500 text-red-900 placeholder-red-400', 'focus:border-red-500 focus:ring-red-500', 'dark:border-red-400 dark:text-red-400')
        : (0,clsx__WEBPACK_IMPORTED_MODULE_2__/* .clsx */ .$)('border-gray-300 placeholder-gray-400', 'focus:border-blue-500 focus:ring-blue-500', 'dark:border-gray-600 dark:placeholder-gray-500'), className);
    // Container classes
    const containerClasses = (0,clsx__WEBPACK_IMPORTED_MODULE_2__/* .clsx */ .$)(fullWidth && 'w-full');
    // Label classes
    const labelClasses = (0,clsx__WEBPACK_IMPORTED_MODULE_2__/* .clsx */ .$)('block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1');
    // Helper/Error text classes
    const helperClasses = (0,clsx__WEBPACK_IMPORTED_MODULE_2__/* .clsx */ .$)('mt-1 text-sm', error ? 'text-red-600 dark:text-red-400' : 'text-gray-500 dark:text-gray-400');
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: containerClasses, children: [label && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { htmlFor: inputId, className: labelClasses, children: [label, required && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-red-500 ml-1", "aria-label": "required", children: "*" })), !required && showOptional && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-gray-500 dark:text-gray-400 ml-1 text-xs", children: "(optional)" }))] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "relative", children: [startIcon && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-gray-500 dark:text-gray-400", "aria-hidden": "true", children: startIcon }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { ref: ref, id: inputId, className: inputClasses, "aria-invalid": !!error, "aria-describedby": (0,clsx__WEBPACK_IMPORTED_MODULE_2__/* .clsx */ .$)(error && errorId, helperText && helperId) || undefined, "aria-required": required, disabled: disabled, "data-cy": dataCy, ...props }), endIcon && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-gray-500 dark:text-gray-400", "aria-hidden": "true", children: endIcon }) }))] }), error && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { id: errorId, className: helperClasses, role: "alert", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "flex items-center", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__/* .AlertCircle */ .RIJ, { className: "w-4 h-4 mr-1", "aria-hidden": "true" }), error] }) })), helperText && !error && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { id: helperId, className: helperClasses, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "flex items-center", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__/* .Info */ .R2D, { className: "w-4 h-4 mr-1", "aria-hidden": "true" }), helperText] }) }))] }));
});
Input.displayName = 'Input';


/***/ }),

/***/ 77218:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(74848);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(96540);
/* harmony import */ var _headlessui_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(53874);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(72832);
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(82575);
/* harmony import */ var _atoms_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(74160);
/* harmony import */ var _atoms_Input__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(34766);
/* harmony import */ var _atoms_Select__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(1156);

/**
 * Wave Scheduling Dialog Component
 *
 * Comprehensive scheduling dialog for migration waves with:
 * - Wave information and metadata
 * - Scheduling settings and concurrency
 * - Blackout period management
 * - Notification configuration
 * - Validation and preview
 *
 * Implements T-033 scheduling UI requirements from WPF version
 */







/**
 * Wave Scheduling Dialog Component
 */
const WaveSchedulingDialog = ({ isOpen, onClose, onSchedule, wave = null, 'data-cy': dataCy = 'wave-scheduling-dialog', }) => {
    const [formData, setFormData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        waveName: `Wave-${(0,date_fns__WEBPACK_IMPORTED_MODULE_4__/* .format */ .GPZ)(new Date(), 'yyyyMMdd-HHmm')}`,
        waveDescription: 'Migration wave created via scheduler',
        wavePriority: 'Normal',
        waveType: 'Mixed Content',
        estimatedItems: 100,
        dependencies: [],
        scheduledDate: (0,date_fns__WEBPACK_IMPORTED_MODULE_4__/* .addDays */ .fij)(new Date(), 1),
        scheduledTime: '09:00',
        maxConcurrentTasks: 10,
        retryCount: 3,
        retryDelayMinutes: 30,
        timeoutHours: 8,
        skipWeekends: true,
        allowParallelBatches: true,
        continueOnFailure: false,
        sendPreMigrationNotifications: true,
        sendPostMigrationNotifications: true,
        sendProgressNotifications: false,
        preMigrationNotificationHours: 24,
        additionalRecipients: [],
        blackoutPeriods: [],
    });
    const [validationErrors, setValidationErrors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [isScheduling, setIsScheduling] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [activeTab, setActiveTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('info');
    // Load wave data when dialog opens
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        if (isOpen && wave) {
            setFormData({ ...formData, ...wave });
        }
        setValidationErrors([]);
    }, [isOpen, wave]);
    // Time slot options (hourly intervals)
    const timeSlots = Array.from({ length: 24 }, (_, i) => ({
        value: `${i.toString().padStart(2, '0')}:00`,
        label: `${i.toString().padStart(2, '0')}:00`,
    }));
    const priorityOptions = [
        { value: 'Low', label: 'Low' },
        { value: 'Normal', label: 'Normal' },
        { value: 'High', label: 'High' },
        { value: 'Critical', label: 'Critical' },
    ];
    const waveTypeOptions = [
        { value: 'Users Only', label: 'Users Only' },
        { value: 'Files Only', label: 'Files Only' },
        { value: 'Mixed Content', label: 'Mixed Content' },
        { value: 'Full Migration', label: 'Full Migration' },
    ];
    const blackoutTypeOptions = [
        { value: 'BusinessHours', label: 'Business Hours' },
        { value: 'MaintenanceWindow', label: 'Maintenance Window' },
        { value: 'Holiday', label: 'Holiday' },
        { value: 'Custom', label: 'Custom' },
    ];
    const validate = () => {
        const errors = [];
        if (!formData.waveName.trim()) {
            errors.push('Wave name is required');
        }
        if (!formData.scheduledDate) {
            errors.push('Scheduled date is required');
        }
        else if ((0,date_fns__WEBPACK_IMPORTED_MODULE_4__/* .isBefore */ .Y8r)(formData.scheduledDate, new Date())) {
            errors.push('Scheduled date cannot be in the past');
        }
        if (!formData.scheduledTime) {
            errors.push('Scheduled time is required');
        }
        if (formData.maxConcurrentTasks <= 0) {
            errors.push('Max concurrent tasks must be greater than 0');
        }
        if (formData.retryCount < 0) {
            errors.push('Retry count cannot be negative');
        }
        if (formData.estimatedItems <= 0) {
            errors.push('Estimated items must be greater than 0');
        }
        // Check for blackout period conflicts
        const scheduledDateTime = combineDateTime(formData.scheduledDate, formData.scheduledTime);
        const conflictingPeriod = formData.blackoutPeriods.find((bp) => (0,date_fns__WEBPACK_IMPORTED_MODULE_4__/* .isAfter */ .dSP)(scheduledDateTime, bp.startTime) && (0,date_fns__WEBPACK_IMPORTED_MODULE_4__/* .isBefore */ .Y8r)(scheduledDateTime, bp.endTime));
        if (conflictingPeriod) {
            errors.push(`Scheduled time conflicts with blackout period: ${conflictingPeriod.description}`);
        }
        setValidationErrors(errors);
        return errors.length === 0;
    };
    const combineDateTime = (date, time) => {
        const [hours, minutes] = time.split(':').map(Number);
        const combined = new Date(date);
        combined.setHours(hours, minutes, 0, 0);
        return combined;
    };
    const handleSchedule = async () => {
        if (!validate())
            return;
        setIsScheduling(true);
        try {
            await onSchedule(formData);
            onClose();
        }
        catch (error) {
            setValidationErrors([`Failed to schedule wave: ${error instanceof Error ? error.message : String(error)}`]);
        }
        finally {
            setIsScheduling(false);
        }
    };
    const handlePreview = () => {
        if (!validate())
            return;
        const scheduledDateTime = combineDateTime(formData.scheduledDate, formData.scheduledTime);
        const estimatedDuration = Math.ceil(formData.estimatedItems / 50); // Rough estimate: 50 items/hour
        setValidationErrors([
            `Preview: Wave '${formData.waveName}' scheduled for ${(0,date_fns__WEBPACK_IMPORTED_MODULE_4__/* .format */ .GPZ)(scheduledDateTime, 'PPpp')}`,
            `Estimated duration: ${estimatedDuration} hours`,
            `Max concurrent tasks: ${formData.maxConcurrentTasks}`,
            `Retry attempts: ${formData.retryCount}`,
        ]);
    };
    const addBlackoutPeriod = () => {
        const newPeriod = {
            id: crypto.randomUUID(),
            description: 'New Blackout Period',
            startTime: new Date(),
            endTime: (0,date_fns__WEBPACK_IMPORTED_MODULE_4__/* .addDays */ .fij)(new Date(), 1),
            type: 'MaintenanceWindow',
            isRecurring: false,
        };
        setFormData({
            ...formData,
            blackoutPeriods: [...formData.blackoutPeriods, newPeriod],
        });
    };
    const removeBlackoutPeriod = (id) => {
        setFormData({
            ...formData,
            blackoutPeriods: formData.blackoutPeriods.filter((bp) => bp.id !== id),
        });
    };
    const updateBlackoutPeriod = (id, updates) => {
        setFormData({
            ...formData,
            blackoutPeriods: formData.blackoutPeriods.map((bp) => bp.id === id ? { ...bp, ...updates } : bp),
        });
    };
    const renderTabContent = () => {
        switch (activeTab) {
            case 'info':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "space-y-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "grid grid-cols-2 gap-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Input__WEBPACK_IMPORTED_MODULE_6__/* .Input */ .p, { label: "Wave Name", value: formData.waveName, onChange: (e) => setFormData({ ...formData, waveName: e.target.value }), required: true, "data-cy": "wave-name-input" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Input__WEBPACK_IMPORTED_MODULE_6__/* .Input */ .p, { label: "Description", value: formData.waveDescription, onChange: (e) => setFormData({ ...formData, waveDescription: e.target.value }), "data-cy": "wave-description-input" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "grid grid-cols-2 gap-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Select__WEBPACK_IMPORTED_MODULE_7__/* .Select */ .l, { label: "Priority", value: formData.wavePriority, onChange: (value) => setFormData({ ...formData, wavePriority: value }), options: priorityOptions, required: true, "data-cy": "wave-priority-select" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Select__WEBPACK_IMPORTED_MODULE_7__/* .Select */ .l, { label: "Wave Type", value: formData.waveType, onChange: (value) => setFormData({ ...formData, waveType: value }), options: waveTypeOptions, required: true, "data-cy": "wave-type-select" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "grid grid-cols-2 gap-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Input__WEBPACK_IMPORTED_MODULE_6__/* .Input */ .p, { label: "Estimated Items", type: "number", value: formData.estimatedItems.toString(), onChange: (e) => setFormData({ ...formData, estimatedItems: parseInt(e.target.value) || 0 }), required: true, "data-cy": "wave-items-input" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Input__WEBPACK_IMPORTED_MODULE_6__/* .Input */ .p, { label: "Dependencies (comma-separated Wave IDs)", value: formData.dependencies.join(', '), onChange: (e) => setFormData({
                                        ...formData,
                                        dependencies: e.target.value.split(',').map((d) => d.trim()).filter(Boolean),
                                    }), "data-cy": "wave-dependencies-input" })] })] }));
            case 'schedule':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "space-y-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "grid grid-cols-2 gap-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Scheduled Date *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "date", value: (0,date_fns__WEBPACK_IMPORTED_MODULE_4__/* .format */ .GPZ)(formData.scheduledDate, 'yyyy-MM-dd'), onChange: (e) => setFormData({ ...formData, scheduledDate: new Date(e.target.value) }), className: "w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100", "data-cy": "wave-date-input" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Select__WEBPACK_IMPORTED_MODULE_7__/* .Select */ .l, { label: "Scheduled Time", value: formData.scheduledTime, onChange: (value) => setFormData({ ...formData, scheduledTime: value }), options: timeSlots, required: true, "data-cy": "wave-time-select" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "grid grid-cols-2 gap-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Input__WEBPACK_IMPORTED_MODULE_6__/* .Input */ .p, { label: "Max Concurrent Tasks", type: "number", value: formData.maxConcurrentTasks.toString(), onChange: (e) => setFormData({ ...formData, maxConcurrentTasks: parseInt(e.target.value) || 10 }), required: true, "data-cy": "wave-concurrent-input" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Input__WEBPACK_IMPORTED_MODULE_6__/* .Input */ .p, { label: "Retry Count", type: "number", value: formData.retryCount.toString(), onChange: (e) => setFormData({ ...formData, retryCount: parseInt(e.target.value) || 0 }), "data-cy": "wave-retry-input" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "grid grid-cols-2 gap-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Input__WEBPACK_IMPORTED_MODULE_6__/* .Input */ .p, { label: "Retry Delay (minutes)", type: "number", value: formData.retryDelayMinutes.toString(), onChange: (e) => setFormData({ ...formData, retryDelayMinutes: parseInt(e.target.value) || 0 }), "data-cy": "wave-retry-delay-input" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Input__WEBPACK_IMPORTED_MODULE_6__/* .Input */ .p, { label: "Timeout (hours)", type: "number", value: formData.timeoutHours.toString(), onChange: (e) => setFormData({ ...formData, timeoutHours: parseInt(e.target.value) || 0 }), "data-cy": "wave-timeout-input" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "space-y-2 pt-4 border-t border-gray-200 dark:border-gray-700", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "flex items-center gap-2", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: formData.skipWeekends, onChange: (e) => setFormData({ ...formData, skipWeekends: e.target.checked }), className: "rounded", "data-cy": "wave-skip-weekends" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-sm text-gray-700 dark:text-gray-300", children: "Skip weekends when rescheduling" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "flex items-center gap-2", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: formData.allowParallelBatches, onChange: (e) => setFormData({ ...formData, allowParallelBatches: e.target.checked }), className: "rounded", "data-cy": "wave-parallel-batches" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-sm text-gray-700 dark:text-gray-300", children: "Allow parallel batch execution" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "flex items-center gap-2", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: formData.continueOnFailure, onChange: (e) => setFormData({ ...formData, continueOnFailure: e.target.checked }), className: "rounded", "data-cy": "wave-continue-failure" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-sm text-gray-700 dark:text-gray-300", children: "Continue on batch failure" })] })] })] }));
            case 'blackout':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "space-y-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "flex items-center justify-between mb-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Blackout Periods" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Button__WEBPACK_IMPORTED_MODULE_5__/* .Button */ .$, { variant: "secondary", onClick: addBlackoutPeriod, icon: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__/* .Plus */ .FWt, { className: "w-4 h-4" }), "data-cy": "add-blackout-btn", children: "Add Period" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "space-y-3 max-h-96 overflow-y-auto", children: formData.blackoutPeriods.length === 0 ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "text-sm text-gray-500 dark:text-gray-400 text-center py-8", children: "No blackout periods configured" })) : (formData.blackoutPeriods.map((period) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "p-4 border border-gray-200 dark:border-gray-700 rounded-lg space-y-3", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "flex items-start justify-between gap-2", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Input__WEBPACK_IMPORTED_MODULE_6__/* .Input */ .p, { value: period.description, onChange: (e) => updateBlackoutPeriod(period.id, { description: e.target.value }), placeholder: "Description", className: "flex-1" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Button__WEBPACK_IMPORTED_MODULE_5__/* .Button */ .$, { variant: "danger", onClick: () => removeBlackoutPeriod(period.id), icon: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__/* .Trash2 */ .TBR, { className: "w-4 h-4" }), "data-cy": "remove-blackout-btn", children: "Remove" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "grid grid-cols-3 gap-2", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "block text-xs text-gray-600 dark:text-gray-400 mb-1", children: "Start Time" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "datetime-local", value: (0,date_fns__WEBPACK_IMPORTED_MODULE_4__/* .format */ .GPZ)(period.startTime, "yyyy-MM-dd'T'HH:mm"), onChange: (e) => updateBlackoutPeriod(period.id, { startTime: new Date(e.target.value) }), className: "w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "block text-xs text-gray-600 dark:text-gray-400 mb-1", children: "End Time" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "datetime-local", value: (0,date_fns__WEBPACK_IMPORTED_MODULE_4__/* .format */ .GPZ)(period.endTime, "yyyy-MM-dd'T'HH:mm"), onChange: (e) => updateBlackoutPeriod(period.id, { endTime: new Date(e.target.value) }), className: "w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Select__WEBPACK_IMPORTED_MODULE_7__/* .Select */ .l, { label: "Type", value: period.type, onChange: (value) => updateBlackoutPeriod(period.id, { type: value }), options: blackoutTypeOptions })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "flex items-center gap-2", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: period.isRecurring, onChange: (e) => updateBlackoutPeriod(period.id, { isRecurring: e.target.checked }), className: "rounded" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-xs text-gray-700 dark:text-gray-300", children: "Recurring" })] })] }, period.id)))) })] }));
            case 'notifications':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "space-y-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "space-y-2", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "flex items-center gap-2", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: formData.sendPreMigrationNotifications, onChange: (e) => setFormData({ ...formData, sendPreMigrationNotifications: e.target.checked }), className: "rounded", "data-cy": "wave-pre-notifications" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-sm text-gray-700 dark:text-gray-300", children: "Send pre-migration notifications" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "flex items-center gap-2", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: formData.sendPostMigrationNotifications, onChange: (e) => setFormData({ ...formData, sendPostMigrationNotifications: e.target.checked }), className: "rounded", "data-cy": "wave-post-notifications" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-sm text-gray-700 dark:text-gray-300", children: "Send post-migration notifications" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "flex items-center gap-2", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: formData.sendProgressNotifications, onChange: (e) => setFormData({ ...formData, sendProgressNotifications: e.target.checked }), className: "rounded", "data-cy": "wave-progress-notifications" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-sm text-gray-700 dark:text-gray-300", children: "Send progress notifications" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Input__WEBPACK_IMPORTED_MODULE_6__/* .Input */ .p, { label: "Pre-migration Notification Hours", type: "number", value: formData.preMigrationNotificationHours.toString(), onChange: (e) => setFormData({ ...formData, preMigrationNotificationHours: parseInt(e.target.value) || 24 }), helperText: "Hours before migration to send notification", "data-cy": "wave-notification-hours-input" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Additional Recipients" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("textarea", { value: formData.additionalRecipients.join('\n'), onChange: (e) => setFormData({
                                        ...formData,
                                        additionalRecipients: e.target.value.split('\n').map((r) => r.trim()).filter(Boolean),
                                    }), rows: 4, placeholder: "Enter email addresses, one per line", className: "w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100", "data-cy": "wave-recipients-textarea" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "mt-1 text-xs text-gray-500 dark:text-gray-400", children: "One email address per line" })] })] }));
            default:
                return null;
        }
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_2__/* .Dialog */ .lG, { open: isOpen, onClose: onClose, className: "relative z-50", "data-cy": dataCy, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "fixed inset-0 bg-black/30", "aria-hidden": "true" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "fixed inset-0 flex items-center justify-center p-4", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_2__/* .Dialog */ .lG.Panel, { className: "mx-auto max-w-4xl w-full rounded-lg bg-white dark:bg-gray-800 shadow-2xl max-h-[90vh] flex flex-col", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "flex items-center gap-3", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__/* .Calendar */ .VvS, { className: "w-6 h-6 text-blue-600 dark:text-blue-400" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_2__/* .Dialog */ .lG.Title, { className: "text-xl font-semibold text-gray-900 dark:text-gray-100", children: "Schedule Migration Wave" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: onClose, className: "p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors", "data-cy": "close-wave-scheduling-btn", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__.X, { className: "w-5 h-5" }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "flex border-b border-gray-200 dark:border-gray-700 px-6", children: [
                                { id: 'info', label: 'Wave Info', icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__/* .Calendar */ .VvS },
                                { id: 'schedule', label: 'Scheduling', icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__/* .Clock */ .zD7 },
                                { id: 'blackout', label: 'Blackout Periods', icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__/* .AlertTriangle */ .hcu },
                                { id: 'notifications', label: 'Notifications', icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__/* .Bell */ .IrQ },
                            ].map(({ id, label, icon: Icon }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { onClick: () => setActiveTab(id), className: `flex items-center gap-2 px-4 py-3 border-b-2 transition-colors ${activeTab === id
                                    ? 'border-blue-600 text-blue-600 dark:text-blue-400'
                                    : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'}`, "data-cy": `tab-${id}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Icon, { className: "w-4 h-4" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-sm font-medium", children: label })] }, id))) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "flex-1 overflow-y-auto p-6", children: renderTabContent() }), validationErrors.length > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "px-6 pb-4", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "text-sm font-medium text-red-800 dark:text-red-200 mb-2", children: "Validation Issues" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("ul", { className: "list-disc list-inside space-y-1", children: validationErrors.map((error, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { className: "text-sm text-red-700 dark:text-red-300", children: error }, index))) })] }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "flex gap-3", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Button__WEBPACK_IMPORTED_MODULE_5__/* .Button */ .$, { variant: "ghost", onClick: handlePreview, icon: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__/* .Eye */ .kU3, { className: "w-4 h-4" }), "data-cy": "preview-schedule-btn", children: "Preview Schedule" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "flex gap-3", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Button__WEBPACK_IMPORTED_MODULE_5__/* .Button */ .$, { variant: "secondary", onClick: onClose, disabled: isScheduling, "data-cy": "cancel-wave-scheduling-btn", children: "Cancel" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Button__WEBPACK_IMPORTED_MODULE_5__/* .Button */ .$, { variant: "primary", onClick: handleSchedule, loading: isScheduling, icon: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__/* .CheckCircle */ .rAV, { className: "w-4 h-4" }), "data-cy": "schedule-wave-btn", children: "Schedule Wave" })] })] })] }) })] }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (WaveSchedulingDialog);


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBb0Msc0RBQUksQ0FBQywwREFBTSxJQUFJLDZIQUE2SCxHQUFHLHNEQUFJLENBQUMsMERBQU0sSUFBSSwwRUFBMEUsc0RBQUksQ0FBQyxnRUFBVyxJQUFJLHNCQUFzQiw4REFBOEQsSUFBSSxJQUFJLElBQUksR0FBRyxJQUFJO0FBQ3ZvRDtBQUNBLGlFQUFlLG9CQUFvQixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3VpdjIvaWdub3JlZHxEOlxcU2NyaXB0c1xcVXNlck1hbmRBXFxndWl2Mlxcbm9kZV9tb2R1bGVzXFxAaGVhZGxlc3N1aVxccmVhY3RcXGRpc3RcXGhvb2tzfHByb2Nlc3MvYnJvd3NlciIsIndlYnBhY2s6Ly9ndWl2Mi8uL3NyYy9yZW5kZXJlci9jb21wb25lbnRzL2F0b21zL0lucHV0LnRzeCIsIndlYnBhY2s6Ly9ndWl2Mi8uL3NyYy9yZW5kZXJlci9jb21wb25lbnRzL2RpYWxvZ3MvV2F2ZVNjaGVkdWxpbmdEaWFsb2cudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIChpZ25vcmVkKSAqLyIsImltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG4vKipcbiAqIElucHV0IENvbXBvbmVudFxuICpcbiAqIEFjY2Vzc2libGUgaW5wdXQgZmllbGQgd2l0aCBsYWJlbCwgZXJyb3Igc3RhdGVzLCBhbmQgaGVscCB0ZXh0XG4gKi9cbmltcG9ydCBSZWFjdCwgeyBmb3J3YXJkUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY2xzeCB9IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IHsgQWxlcnRDaXJjbGUsIEluZm8gfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuLyoqXG4gKiBJbnB1dCBjb21wb25lbnQgd2l0aCBmdWxsIGFjY2Vzc2liaWxpdHkgc3VwcG9ydFxuICovXG5leHBvcnQgY29uc3QgSW5wdXQgPSBmb3J3YXJkUmVmKCh7IGxhYmVsLCBoZWxwZXJUZXh0LCBlcnJvciwgcmVxdWlyZWQgPSBmYWxzZSwgc2hvd09wdGlvbmFsID0gdHJ1ZSwgaW5wdXRTaXplID0gJ21kJywgZnVsbFdpZHRoID0gZmFsc2UsIHN0YXJ0SWNvbiwgZW5kSWNvbiwgY2xhc3NOYW1lLCBpZCwgJ2RhdGEtY3knOiBkYXRhQ3ksIGRpc2FibGVkID0gZmFsc2UsIC4uLnByb3BzIH0sIHJlZikgPT4ge1xuICAgIC8vIEdlbmVyYXRlIHVuaXF1ZSBJRCBpZiBub3QgcHJvdmlkZWRcbiAgICBjb25zdCBpbnB1dElkID0gaWQgfHwgYGlucHV0LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG4gICAgY29uc3QgZXJyb3JJZCA9IGAke2lucHV0SWR9LWVycm9yYDtcbiAgICBjb25zdCBoZWxwZXJJZCA9IGAke2lucHV0SWR9LWhlbHBlcmA7XG4gICAgLy8gU2l6ZSBzdHlsZXNcbiAgICBjb25zdCBzaXplcyA9IHtcbiAgICAgICAgc206ICdweC0zIHB5LTEuNSB0ZXh0LXNtJyxcbiAgICAgICAgbWQ6ICdweC00IHB5LTIgdGV4dC1iYXNlJyxcbiAgICAgICAgbGc6ICdweC01IHB5LTMgdGV4dC1sZycsXG4gICAgfTtcbiAgICAvLyBJbnB1dCBjbGFzc2VzXG4gICAgY29uc3QgaW5wdXRDbGFzc2VzID0gY2xzeCgnYmxvY2sgcm91bmRlZC1tZCBib3JkZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwJywgJ2ZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1vZmZzZXQtMicsICdkaXNhYmxlZDpiZy1ncmF5LTUwIGRpc2FibGVkOnRleHQtZ3JheS01MDAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkJywgJ2Rhcms6YmctZ3JheS04MDAgZGFyazp0ZXh0LWdyYXktMTAwJywgc2l6ZXNbaW5wdXRTaXplXSwgZnVsbFdpZHRoICYmICd3LWZ1bGwnLCBzdGFydEljb24gJiYgJ3BsLTEwJywgZW5kSWNvbiAmJiAncHItMTAnLCBlcnJvclxuICAgICAgICA/IGNsc3goJ2JvcmRlci1yZWQtNTAwIHRleHQtcmVkLTkwMCBwbGFjZWhvbGRlci1yZWQtNDAwJywgJ2ZvY3VzOmJvcmRlci1yZWQtNTAwIGZvY3VzOnJpbmctcmVkLTUwMCcsICdkYXJrOmJvcmRlci1yZWQtNDAwIGRhcms6dGV4dC1yZWQtNDAwJylcbiAgICAgICAgOiBjbHN4KCdib3JkZXItZ3JheS0zMDAgcGxhY2Vob2xkZXItZ3JheS00MDAnLCAnZm9jdXM6Ym9yZGVyLWJsdWUtNTAwIGZvY3VzOnJpbmctYmx1ZS01MDAnLCAnZGFyazpib3JkZXItZ3JheS02MDAgZGFyazpwbGFjZWhvbGRlci1ncmF5LTUwMCcpLCBjbGFzc05hbWUpO1xuICAgIC8vIENvbnRhaW5lciBjbGFzc2VzXG4gICAgY29uc3QgY29udGFpbmVyQ2xhc3NlcyA9IGNsc3goZnVsbFdpZHRoICYmICd3LWZ1bGwnKTtcbiAgICAvLyBMYWJlbCBjbGFzc2VzXG4gICAgY29uc3QgbGFiZWxDbGFzc2VzID0gY2xzeCgnYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTIwMCBtYi0xJyk7XG4gICAgLy8gSGVscGVyL0Vycm9yIHRleHQgY2xhc3Nlc1xuICAgIGNvbnN0IGhlbHBlckNsYXNzZXMgPSBjbHN4KCdtdC0xIHRleHQtc20nLCBlcnJvciA/ICd0ZXh0LXJlZC02MDAgZGFyazp0ZXh0LXJlZC00MDAnIDogJ3RleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwJyk7XG4gICAgcmV0dXJuIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogY29udGFpbmVyQ2xhc3NlcywgY2hpbGRyZW46IFtsYWJlbCAmJiAoX2pzeHMoXCJsYWJlbFwiLCB7IGh0bWxGb3I6IGlucHV0SWQsIGNsYXNzTmFtZTogbGFiZWxDbGFzc2VzLCBjaGlsZHJlbjogW2xhYmVsLCByZXF1aXJlZCAmJiAoX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwidGV4dC1yZWQtNTAwIG1sLTFcIiwgXCJhcmlhLWxhYmVsXCI6IFwicmVxdWlyZWRcIiwgY2hpbGRyZW46IFwiKlwiIH0pKSwgIXJlcXVpcmVkICYmIHNob3dPcHRpb25hbCAmJiAoX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwidGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgbWwtMSB0ZXh0LXhzXCIsIGNoaWxkcmVuOiBcIihvcHRpb25hbClcIiB9KSldIH0pKSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicmVsYXRpdmVcIiwgY2hpbGRyZW46IFtzdGFydEljb24gJiYgKF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYWJzb2x1dGUgaW5zZXQteS0wIGxlZnQtMCBwbC0zIGZsZXggaXRlbXMtY2VudGVyIHBvaW50ZXItZXZlbnRzLW5vbmVcIiwgY2hpbGRyZW46IF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCIsIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsIGNoaWxkcmVuOiBzdGFydEljb24gfSkgfSkpLCBfanN4KFwiaW5wdXRcIiwgeyByZWY6IHJlZiwgaWQ6IGlucHV0SWQsIGNsYXNzTmFtZTogaW5wdXRDbGFzc2VzLCBcImFyaWEtaW52YWxpZFwiOiAhIWVycm9yLCBcImFyaWEtZGVzY3JpYmVkYnlcIjogY2xzeChlcnJvciAmJiBlcnJvcklkLCBoZWxwZXJUZXh0ICYmIGhlbHBlcklkKSB8fCB1bmRlZmluZWQsIFwiYXJpYS1yZXF1aXJlZFwiOiByZXF1aXJlZCwgZGlzYWJsZWQ6IGRpc2FibGVkLCBcImRhdGEtY3lcIjogZGF0YUN5LCAuLi5wcm9wcyB9KSwgZW5kSWNvbiAmJiAoX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJhYnNvbHV0ZSBpbnNldC15LTAgcmlnaHQtMCBwci0zIGZsZXggaXRlbXMtY2VudGVyIHBvaW50ZXItZXZlbnRzLW5vbmVcIiwgY2hpbGRyZW46IF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCIsIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsIGNoaWxkcmVuOiBlbmRJY29uIH0pIH0pKV0gfSksIGVycm9yICYmIChfanN4KFwiZGl2XCIsIHsgaWQ6IGVycm9ySWQsIGNsYXNzTmFtZTogaGVscGVyQ2xhc3Nlcywgcm9sZTogXCJhbGVydFwiLCBjaGlsZHJlbjogX2pzeHMoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImZsZXggaXRlbXMtY2VudGVyXCIsIGNoaWxkcmVuOiBbX2pzeChBbGVydENpcmNsZSwgeyBjbGFzc05hbWU6IFwidy00IGgtNCBtci0xXCIsIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIgfSksIGVycm9yXSB9KSB9KSksIGhlbHBlclRleHQgJiYgIWVycm9yICYmIChfanN4KFwiZGl2XCIsIHsgaWQ6IGhlbHBlcklkLCBjbGFzc05hbWU6IGhlbHBlckNsYXNzZXMsIGNoaWxkcmVuOiBfanN4cyhcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiZmxleCBpdGVtcy1jZW50ZXJcIiwgY2hpbGRyZW46IFtfanN4KEluZm8sIHsgY2xhc3NOYW1lOiBcInctNCBoLTQgbXItMVwiLCBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiIH0pLCBoZWxwZXJUZXh0XSB9KSB9KSldIH0pKTtcbn0pO1xuSW5wdXQuZGlzcGxheU5hbWUgPSAnSW5wdXQnO1xuIiwiaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbi8qKlxuICogV2F2ZSBTY2hlZHVsaW5nIERpYWxvZyBDb21wb25lbnRcbiAqXG4gKiBDb21wcmVoZW5zaXZlIHNjaGVkdWxpbmcgZGlhbG9nIGZvciBtaWdyYXRpb24gd2F2ZXMgd2l0aDpcbiAqIC0gV2F2ZSBpbmZvcm1hdGlvbiBhbmQgbWV0YWRhdGFcbiAqIC0gU2NoZWR1bGluZyBzZXR0aW5ncyBhbmQgY29uY3VycmVuY3lcbiAqIC0gQmxhY2tvdXQgcGVyaW9kIG1hbmFnZW1lbnRcbiAqIC0gTm90aWZpY2F0aW9uIGNvbmZpZ3VyYXRpb25cbiAqIC0gVmFsaWRhdGlvbiBhbmQgcHJldmlld1xuICpcbiAqIEltcGxlbWVudHMgVC0wMzMgc2NoZWR1bGluZyBVSSByZXF1aXJlbWVudHMgZnJvbSBXUEYgdmVyc2lvblxuICovXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IERpYWxvZyB9IGZyb20gJ0BoZWFkbGVzc3VpL3JlYWN0JztcbmltcG9ydCB7IFgsIENhbGVuZGFyLCBDbG9jaywgQWxlcnRUcmlhbmdsZSwgQmVsbCwgUGx1cywgVHJhc2gyLCBFeWUsIENoZWNrQ2lyY2xlLCB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgeyBmb3JtYXQsIGFkZERheXMsIGlzQmVmb3JlLCBpc0FmdGVyIH0gZnJvbSAnZGF0ZS1mbnMnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vYXRvbXMvQnV0dG9uJztcbmltcG9ydCB7IElucHV0IH0gZnJvbSAnLi4vYXRvbXMvSW5wdXQnO1xuaW1wb3J0IHsgU2VsZWN0IH0gZnJvbSAnLi4vYXRvbXMvU2VsZWN0Jztcbi8qKlxuICogV2F2ZSBTY2hlZHVsaW5nIERpYWxvZyBDb21wb25lbnRcbiAqL1xuY29uc3QgV2F2ZVNjaGVkdWxpbmdEaWFsb2cgPSAoeyBpc09wZW4sIG9uQ2xvc2UsIG9uU2NoZWR1bGUsIHdhdmUgPSBudWxsLCAnZGF0YS1jeSc6IGRhdGFDeSA9ICd3YXZlLXNjaGVkdWxpbmctZGlhbG9nJywgfSkgPT4ge1xuICAgIGNvbnN0IFtmb3JtRGF0YSwgc2V0Rm9ybURhdGFdID0gdXNlU3RhdGUoe1xuICAgICAgICB3YXZlTmFtZTogYFdhdmUtJHtmb3JtYXQobmV3IERhdGUoKSwgJ3l5eXlNTWRkLUhIbW0nKX1gLFxuICAgICAgICB3YXZlRGVzY3JpcHRpb246ICdNaWdyYXRpb24gd2F2ZSBjcmVhdGVkIHZpYSBzY2hlZHVsZXInLFxuICAgICAgICB3YXZlUHJpb3JpdHk6ICdOb3JtYWwnLFxuICAgICAgICB3YXZlVHlwZTogJ01peGVkIENvbnRlbnQnLFxuICAgICAgICBlc3RpbWF0ZWRJdGVtczogMTAwLFxuICAgICAgICBkZXBlbmRlbmNpZXM6IFtdLFxuICAgICAgICBzY2hlZHVsZWREYXRlOiBhZGREYXlzKG5ldyBEYXRlKCksIDEpLFxuICAgICAgICBzY2hlZHVsZWRUaW1lOiAnMDk6MDAnLFxuICAgICAgICBtYXhDb25jdXJyZW50VGFza3M6IDEwLFxuICAgICAgICByZXRyeUNvdW50OiAzLFxuICAgICAgICByZXRyeURlbGF5TWludXRlczogMzAsXG4gICAgICAgIHRpbWVvdXRIb3VyczogOCxcbiAgICAgICAgc2tpcFdlZWtlbmRzOiB0cnVlLFxuICAgICAgICBhbGxvd1BhcmFsbGVsQmF0Y2hlczogdHJ1ZSxcbiAgICAgICAgY29udGludWVPbkZhaWx1cmU6IGZhbHNlLFxuICAgICAgICBzZW5kUHJlTWlncmF0aW9uTm90aWZpY2F0aW9uczogdHJ1ZSxcbiAgICAgICAgc2VuZFBvc3RNaWdyYXRpb25Ob3RpZmljYXRpb25zOiB0cnVlLFxuICAgICAgICBzZW5kUHJvZ3Jlc3NOb3RpZmljYXRpb25zOiBmYWxzZSxcbiAgICAgICAgcHJlTWlncmF0aW9uTm90aWZpY2F0aW9uSG91cnM6IDI0LFxuICAgICAgICBhZGRpdGlvbmFsUmVjaXBpZW50czogW10sXG4gICAgICAgIGJsYWNrb3V0UGVyaW9kczogW10sXG4gICAgfSk7XG4gICAgY29uc3QgW3ZhbGlkYXRpb25FcnJvcnMsIHNldFZhbGlkYXRpb25FcnJvcnNdID0gdXNlU3RhdGUoW10pO1xuICAgIGNvbnN0IFtpc1NjaGVkdWxpbmcsIHNldElzU2NoZWR1bGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2FjdGl2ZVRhYiwgc2V0QWN0aXZlVGFiXSA9IHVzZVN0YXRlKCdpbmZvJyk7XG4gICAgLy8gTG9hZCB3YXZlIGRhdGEgd2hlbiBkaWFsb2cgb3BlbnNcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNPcGVuICYmIHdhdmUpIHtcbiAgICAgICAgICAgIHNldEZvcm1EYXRhKHsgLi4uZm9ybURhdGEsIC4uLndhdmUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0VmFsaWRhdGlvbkVycm9ycyhbXSk7XG4gICAgfSwgW2lzT3Blbiwgd2F2ZV0pO1xuICAgIC8vIFRpbWUgc2xvdCBvcHRpb25zIChob3VybHkgaW50ZXJ2YWxzKVxuICAgIGNvbnN0IHRpbWVTbG90cyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDI0IH0sIChfLCBpKSA9PiAoe1xuICAgICAgICB2YWx1ZTogYCR7aS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OjAwYCxcbiAgICAgICAgbGFiZWw6IGAke2kudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfTowMGAsXG4gICAgfSkpO1xuICAgIGNvbnN0IHByaW9yaXR5T3B0aW9ucyA9IFtcbiAgICAgICAgeyB2YWx1ZTogJ0xvdycsIGxhYmVsOiAnTG93JyB9LFxuICAgICAgICB7IHZhbHVlOiAnTm9ybWFsJywgbGFiZWw6ICdOb3JtYWwnIH0sXG4gICAgICAgIHsgdmFsdWU6ICdIaWdoJywgbGFiZWw6ICdIaWdoJyB9LFxuICAgICAgICB7IHZhbHVlOiAnQ3JpdGljYWwnLCBsYWJlbDogJ0NyaXRpY2FsJyB9LFxuICAgIF07XG4gICAgY29uc3Qgd2F2ZVR5cGVPcHRpb25zID0gW1xuICAgICAgICB7IHZhbHVlOiAnVXNlcnMgT25seScsIGxhYmVsOiAnVXNlcnMgT25seScgfSxcbiAgICAgICAgeyB2YWx1ZTogJ0ZpbGVzIE9ubHknLCBsYWJlbDogJ0ZpbGVzIE9ubHknIH0sXG4gICAgICAgIHsgdmFsdWU6ICdNaXhlZCBDb250ZW50JywgbGFiZWw6ICdNaXhlZCBDb250ZW50JyB9LFxuICAgICAgICB7IHZhbHVlOiAnRnVsbCBNaWdyYXRpb24nLCBsYWJlbDogJ0Z1bGwgTWlncmF0aW9uJyB9LFxuICAgIF07XG4gICAgY29uc3QgYmxhY2tvdXRUeXBlT3B0aW9ucyA9IFtcbiAgICAgICAgeyB2YWx1ZTogJ0J1c2luZXNzSG91cnMnLCBsYWJlbDogJ0J1c2luZXNzIEhvdXJzJyB9LFxuICAgICAgICB7IHZhbHVlOiAnTWFpbnRlbmFuY2VXaW5kb3cnLCBsYWJlbDogJ01haW50ZW5hbmNlIFdpbmRvdycgfSxcbiAgICAgICAgeyB2YWx1ZTogJ0hvbGlkYXknLCBsYWJlbDogJ0hvbGlkYXknIH0sXG4gICAgICAgIHsgdmFsdWU6ICdDdXN0b20nLCBsYWJlbDogJ0N1c3RvbScgfSxcbiAgICBdO1xuICAgIGNvbnN0IHZhbGlkYXRlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICAgICAgaWYgKCFmb3JtRGF0YS53YXZlTmFtZS50cmltKCkpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKCdXYXZlIG5hbWUgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWZvcm1EYXRhLnNjaGVkdWxlZERhdGUpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKCdTY2hlZHVsZWQgZGF0ZSBpcyByZXF1aXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQmVmb3JlKGZvcm1EYXRhLnNjaGVkdWxlZERhdGUsIG5ldyBEYXRlKCkpKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCgnU2NoZWR1bGVkIGRhdGUgY2Fubm90IGJlIGluIHRoZSBwYXN0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmb3JtRGF0YS5zY2hlZHVsZWRUaW1lKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCgnU2NoZWR1bGVkIHRpbWUgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybURhdGEubWF4Q29uY3VycmVudFRhc2tzIDw9IDApIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKCdNYXggY29uY3VycmVudCB0YXNrcyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1EYXRhLnJldHJ5Q291bnQgPCAwKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCgnUmV0cnkgY291bnQgY2Fubm90IGJlIG5lZ2F0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1EYXRhLmVzdGltYXRlZEl0ZW1zIDw9IDApIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKCdFc3RpbWF0ZWQgaXRlbXMgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGZvciBibGFja291dCBwZXJpb2QgY29uZmxpY3RzXG4gICAgICAgIGNvbnN0IHNjaGVkdWxlZERhdGVUaW1lID0gY29tYmluZURhdGVUaW1lKGZvcm1EYXRhLnNjaGVkdWxlZERhdGUsIGZvcm1EYXRhLnNjaGVkdWxlZFRpbWUpO1xuICAgICAgICBjb25zdCBjb25mbGljdGluZ1BlcmlvZCA9IGZvcm1EYXRhLmJsYWNrb3V0UGVyaW9kcy5maW5kKChicCkgPT4gaXNBZnRlcihzY2hlZHVsZWREYXRlVGltZSwgYnAuc3RhcnRUaW1lKSAmJiBpc0JlZm9yZShzY2hlZHVsZWREYXRlVGltZSwgYnAuZW5kVGltZSkpO1xuICAgICAgICBpZiAoY29uZmxpY3RpbmdQZXJpb2QpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKGBTY2hlZHVsZWQgdGltZSBjb25mbGljdHMgd2l0aCBibGFja291dCBwZXJpb2Q6ICR7Y29uZmxpY3RpbmdQZXJpb2QuZGVzY3JpcHRpb259YCk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0VmFsaWRhdGlvbkVycm9ycyhlcnJvcnMpO1xuICAgICAgICByZXR1cm4gZXJyb3JzLmxlbmd0aCA9PT0gMDtcbiAgICB9O1xuICAgIGNvbnN0IGNvbWJpbmVEYXRlVGltZSA9IChkYXRlLCB0aW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IFtob3VycywgbWludXRlc10gPSB0aW1lLnNwbGl0KCc6JykubWFwKE51bWJlcik7XG4gICAgICAgIGNvbnN0IGNvbWJpbmVkID0gbmV3IERhdGUoZGF0ZSk7XG4gICAgICAgIGNvbWJpbmVkLnNldEhvdXJzKGhvdXJzLCBtaW51dGVzLCAwLCAwKTtcbiAgICAgICAgcmV0dXJuIGNvbWJpbmVkO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlU2NoZWR1bGUgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghdmFsaWRhdGUoKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgc2V0SXNTY2hlZHVsaW5nKHRydWUpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgb25TY2hlZHVsZShmb3JtRGF0YSk7XG4gICAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBzZXRWYWxpZGF0aW9uRXJyb3JzKFtgRmFpbGVkIHRvIHNjaGVkdWxlIHdhdmU6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBdKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldElzU2NoZWR1bGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZVByZXZpZXcgPSAoKSA9PiB7XG4gICAgICAgIGlmICghdmFsaWRhdGUoKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgc2NoZWR1bGVkRGF0ZVRpbWUgPSBjb21iaW5lRGF0ZVRpbWUoZm9ybURhdGEuc2NoZWR1bGVkRGF0ZSwgZm9ybURhdGEuc2NoZWR1bGVkVGltZSk7XG4gICAgICAgIGNvbnN0IGVzdGltYXRlZER1cmF0aW9uID0gTWF0aC5jZWlsKGZvcm1EYXRhLmVzdGltYXRlZEl0ZW1zIC8gNTApOyAvLyBSb3VnaCBlc3RpbWF0ZTogNTAgaXRlbXMvaG91clxuICAgICAgICBzZXRWYWxpZGF0aW9uRXJyb3JzKFtcbiAgICAgICAgICAgIGBQcmV2aWV3OiBXYXZlICcke2Zvcm1EYXRhLndhdmVOYW1lfScgc2NoZWR1bGVkIGZvciAke2Zvcm1hdChzY2hlZHVsZWREYXRlVGltZSwgJ1BQcHAnKX1gLFxuICAgICAgICAgICAgYEVzdGltYXRlZCBkdXJhdGlvbjogJHtlc3RpbWF0ZWREdXJhdGlvbn0gaG91cnNgLFxuICAgICAgICAgICAgYE1heCBjb25jdXJyZW50IHRhc2tzOiAke2Zvcm1EYXRhLm1heENvbmN1cnJlbnRUYXNrc31gLFxuICAgICAgICAgICAgYFJldHJ5IGF0dGVtcHRzOiAke2Zvcm1EYXRhLnJldHJ5Q291bnR9YCxcbiAgICAgICAgXSk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRCbGFja291dFBlcmlvZCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3UGVyaW9kID0ge1xuICAgICAgICAgICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ05ldyBCbGFja291dCBQZXJpb2QnLFxuICAgICAgICAgICAgc3RhcnRUaW1lOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgZW5kVGltZTogYWRkRGF5cyhuZXcgRGF0ZSgpLCAxKSxcbiAgICAgICAgICAgIHR5cGU6ICdNYWludGVuYW5jZVdpbmRvdycsXG4gICAgICAgICAgICBpc1JlY3VycmluZzogZmFsc2UsXG4gICAgICAgIH07XG4gICAgICAgIHNldEZvcm1EYXRhKHtcbiAgICAgICAgICAgIC4uLmZvcm1EYXRhLFxuICAgICAgICAgICAgYmxhY2tvdXRQZXJpb2RzOiBbLi4uZm9ybURhdGEuYmxhY2tvdXRQZXJpb2RzLCBuZXdQZXJpb2RdLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZUJsYWNrb3V0UGVyaW9kID0gKGlkKSA9PiB7XG4gICAgICAgIHNldEZvcm1EYXRhKHtcbiAgICAgICAgICAgIC4uLmZvcm1EYXRhLFxuICAgICAgICAgICAgYmxhY2tvdXRQZXJpb2RzOiBmb3JtRGF0YS5ibGFja291dFBlcmlvZHMuZmlsdGVyKChicCkgPT4gYnAuaWQgIT09IGlkKSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVCbGFja291dFBlcmlvZCA9IChpZCwgdXBkYXRlcykgPT4ge1xuICAgICAgICBzZXRGb3JtRGF0YSh7XG4gICAgICAgICAgICAuLi5mb3JtRGF0YSxcbiAgICAgICAgICAgIGJsYWNrb3V0UGVyaW9kczogZm9ybURhdGEuYmxhY2tvdXRQZXJpb2RzLm1hcCgoYnApID0+IGJwLmlkID09PSBpZCA/IHsgLi4uYnAsIC4uLnVwZGF0ZXMgfSA6IGJwKSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJUYWJDb250ZW50ID0gKCkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGFjdGl2ZVRhYikge1xuICAgICAgICAgICAgY2FzZSAnaW5mbyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzcGFjZS15LTRcIiwgY2hpbGRyZW46IFtfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJncmlkIGdyaWQtY29scy0yIGdhcC00XCIsIGNoaWxkcmVuOiBbX2pzeChJbnB1dCwgeyBsYWJlbDogXCJXYXZlIE5hbWVcIiwgdmFsdWU6IGZvcm1EYXRhLndhdmVOYW1lLCBvbkNoYW5nZTogKGUpID0+IHNldEZvcm1EYXRhKHsgLi4uZm9ybURhdGEsIHdhdmVOYW1lOiBlLnRhcmdldC52YWx1ZSB9KSwgcmVxdWlyZWQ6IHRydWUsIFwiZGF0YS1jeVwiOiBcIndhdmUtbmFtZS1pbnB1dFwiIH0pLCBfanN4KElucHV0LCB7IGxhYmVsOiBcIkRlc2NyaXB0aW9uXCIsIHZhbHVlOiBmb3JtRGF0YS53YXZlRGVzY3JpcHRpb24sIG9uQ2hhbmdlOiAoZSkgPT4gc2V0Rm9ybURhdGEoeyAuLi5mb3JtRGF0YSwgd2F2ZURlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KSwgXCJkYXRhLWN5XCI6IFwid2F2ZS1kZXNjcmlwdGlvbi1pbnB1dFwiIH0pXSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtNFwiLCBjaGlsZHJlbjogW19qc3goU2VsZWN0LCB7IGxhYmVsOiBcIlByaW9yaXR5XCIsIHZhbHVlOiBmb3JtRGF0YS53YXZlUHJpb3JpdHksIG9uQ2hhbmdlOiAodmFsdWUpID0+IHNldEZvcm1EYXRhKHsgLi4uZm9ybURhdGEsIHdhdmVQcmlvcml0eTogdmFsdWUgfSksIG9wdGlvbnM6IHByaW9yaXR5T3B0aW9ucywgcmVxdWlyZWQ6IHRydWUsIFwiZGF0YS1jeVwiOiBcIndhdmUtcHJpb3JpdHktc2VsZWN0XCIgfSksIF9qc3goU2VsZWN0LCB7IGxhYmVsOiBcIldhdmUgVHlwZVwiLCB2YWx1ZTogZm9ybURhdGEud2F2ZVR5cGUsIG9uQ2hhbmdlOiAodmFsdWUpID0+IHNldEZvcm1EYXRhKHsgLi4uZm9ybURhdGEsIHdhdmVUeXBlOiB2YWx1ZSB9KSwgb3B0aW9uczogd2F2ZVR5cGVPcHRpb25zLCByZXF1aXJlZDogdHJ1ZSwgXCJkYXRhLWN5XCI6IFwid2F2ZS10eXBlLXNlbGVjdFwiIH0pXSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtNFwiLCBjaGlsZHJlbjogW19qc3goSW5wdXQsIHsgbGFiZWw6IFwiRXN0aW1hdGVkIEl0ZW1zXCIsIHR5cGU6IFwibnVtYmVyXCIsIHZhbHVlOiBmb3JtRGF0YS5lc3RpbWF0ZWRJdGVtcy50b1N0cmluZygpLCBvbkNoYW5nZTogKGUpID0+IHNldEZvcm1EYXRhKHsgLi4uZm9ybURhdGEsIGVzdGltYXRlZEl0ZW1zOiBwYXJzZUludChlLnRhcmdldC52YWx1ZSkgfHwgMCB9KSwgcmVxdWlyZWQ6IHRydWUsIFwiZGF0YS1jeVwiOiBcIndhdmUtaXRlbXMtaW5wdXRcIiB9KSwgX2pzeChJbnB1dCwgeyBsYWJlbDogXCJEZXBlbmRlbmNpZXMgKGNvbW1hLXNlcGFyYXRlZCBXYXZlIElEcylcIiwgdmFsdWU6IGZvcm1EYXRhLmRlcGVuZGVuY2llcy5qb2luKCcsICcpLCBvbkNoYW5nZTogKGUpID0+IHNldEZvcm1EYXRhKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5mb3JtRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmNpZXM6IGUudGFyZ2V0LnZhbHVlLnNwbGl0KCcsJykubWFwKChkKSA9PiBkLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksIFwiZGF0YS1jeVwiOiBcIndhdmUtZGVwZW5kZW5jaWVzLWlucHV0XCIgfSldIH0pXSB9KSk7XG4gICAgICAgICAgICBjYXNlICdzY2hlZHVsZSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzcGFjZS15LTRcIiwgY2hpbGRyZW46IFtfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJncmlkIGdyaWQtY29scy0yIGdhcC00XCIsIGNoaWxkcmVuOiBbX2pzeHMoXCJkaXZcIiwgeyBjaGlsZHJlbjogW19qc3goXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogXCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIG1iLTFcIiwgY2hpbGRyZW46IFwiU2NoZWR1bGVkIERhdGUgKlwiIH0pLCBfanN4KFwiaW5wdXRcIiwgeyB0eXBlOiBcImRhdGVcIiwgdmFsdWU6IGZvcm1hdChmb3JtRGF0YS5zY2hlZHVsZWREYXRlLCAneXl5eS1NTS1kZCcpLCBvbkNoYW5nZTogKGUpID0+IHNldEZvcm1EYXRhKHsgLi4uZm9ybURhdGEsIHNjaGVkdWxlZERhdGU6IG5ldyBEYXRlKGUudGFyZ2V0LnZhbHVlKSB9KSwgY2xhc3NOYW1lOiBcInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBkYXJrOmJvcmRlci1ncmF5LTYwMCByb3VuZGVkLWxnIGJnLXdoaXRlIGRhcms6YmctZ3JheS03MDAgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtZ3JheS0xMDBcIiwgXCJkYXRhLWN5XCI6IFwid2F2ZS1kYXRlLWlucHV0XCIgfSldIH0pLCBfanN4KFNlbGVjdCwgeyBsYWJlbDogXCJTY2hlZHVsZWQgVGltZVwiLCB2YWx1ZTogZm9ybURhdGEuc2NoZWR1bGVkVGltZSwgb25DaGFuZ2U6ICh2YWx1ZSkgPT4gc2V0Rm9ybURhdGEoeyAuLi5mb3JtRGF0YSwgc2NoZWR1bGVkVGltZTogdmFsdWUgfSksIG9wdGlvbnM6IHRpbWVTbG90cywgcmVxdWlyZWQ6IHRydWUsIFwiZGF0YS1jeVwiOiBcIndhdmUtdGltZS1zZWxlY3RcIiB9KV0gfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTRcIiwgY2hpbGRyZW46IFtfanN4KElucHV0LCB7IGxhYmVsOiBcIk1heCBDb25jdXJyZW50IFRhc2tzXCIsIHR5cGU6IFwibnVtYmVyXCIsIHZhbHVlOiBmb3JtRGF0YS5tYXhDb25jdXJyZW50VGFza3MudG9TdHJpbmcoKSwgb25DaGFuZ2U6IChlKSA9PiBzZXRGb3JtRGF0YSh7IC4uLmZvcm1EYXRhLCBtYXhDb25jdXJyZW50VGFza3M6IHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSB8fCAxMCB9KSwgcmVxdWlyZWQ6IHRydWUsIFwiZGF0YS1jeVwiOiBcIndhdmUtY29uY3VycmVudC1pbnB1dFwiIH0pLCBfanN4KElucHV0LCB7IGxhYmVsOiBcIlJldHJ5IENvdW50XCIsIHR5cGU6IFwibnVtYmVyXCIsIHZhbHVlOiBmb3JtRGF0YS5yZXRyeUNvdW50LnRvU3RyaW5nKCksIG9uQ2hhbmdlOiAoZSkgPT4gc2V0Rm9ybURhdGEoeyAuLi5mb3JtRGF0YSwgcmV0cnlDb3VudDogcGFyc2VJbnQoZS50YXJnZXQudmFsdWUpIHx8IDAgfSksIFwiZGF0YS1jeVwiOiBcIndhdmUtcmV0cnktaW5wdXRcIiB9KV0gfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTRcIiwgY2hpbGRyZW46IFtfanN4KElucHV0LCB7IGxhYmVsOiBcIlJldHJ5IERlbGF5IChtaW51dGVzKVwiLCB0eXBlOiBcIm51bWJlclwiLCB2YWx1ZTogZm9ybURhdGEucmV0cnlEZWxheU1pbnV0ZXMudG9TdHJpbmcoKSwgb25DaGFuZ2U6IChlKSA9PiBzZXRGb3JtRGF0YSh7IC4uLmZvcm1EYXRhLCByZXRyeURlbGF5TWludXRlczogcGFyc2VJbnQoZS50YXJnZXQudmFsdWUpIHx8IDAgfSksIFwiZGF0YS1jeVwiOiBcIndhdmUtcmV0cnktZGVsYXktaW5wdXRcIiB9KSwgX2pzeChJbnB1dCwgeyBsYWJlbDogXCJUaW1lb3V0IChob3VycylcIiwgdHlwZTogXCJudW1iZXJcIiwgdmFsdWU6IGZvcm1EYXRhLnRpbWVvdXRIb3Vycy50b1N0cmluZygpLCBvbkNoYW5nZTogKGUpID0+IHNldEZvcm1EYXRhKHsgLi4uZm9ybURhdGEsIHRpbWVvdXRIb3VyczogcGFyc2VJbnQoZS50YXJnZXQudmFsdWUpIHx8IDAgfSksIFwiZGF0YS1jeVwiOiBcIndhdmUtdGltZW91dC1pbnB1dFwiIH0pXSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3BhY2UteS0yIHB0LTQgYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwXCIsIGNoaWxkcmVuOiBbX2pzeHMoXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiLCBjaGlsZHJlbjogW19qc3goXCJpbnB1dFwiLCB7IHR5cGU6IFwiY2hlY2tib3hcIiwgY2hlY2tlZDogZm9ybURhdGEuc2tpcFdlZWtlbmRzLCBvbkNoYW5nZTogKGUpID0+IHNldEZvcm1EYXRhKHsgLi4uZm9ybURhdGEsIHNraXBXZWVrZW5kczogZS50YXJnZXQuY2hlY2tlZCB9KSwgY2xhc3NOYW1lOiBcInJvdW5kZWRcIiwgXCJkYXRhLWN5XCI6IFwid2F2ZS1za2lwLXdlZWtlbmRzXCIgfSksIF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInRleHQtc20gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDBcIiwgY2hpbGRyZW46IFwiU2tpcCB3ZWVrZW5kcyB3aGVuIHJlc2NoZWR1bGluZ1wiIH0pXSB9KSwgX2pzeHMoXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiLCBjaGlsZHJlbjogW19qc3goXCJpbnB1dFwiLCB7IHR5cGU6IFwiY2hlY2tib3hcIiwgY2hlY2tlZDogZm9ybURhdGEuYWxsb3dQYXJhbGxlbEJhdGNoZXMsIG9uQ2hhbmdlOiAoZSkgPT4gc2V0Rm9ybURhdGEoeyAuLi5mb3JtRGF0YSwgYWxsb3dQYXJhbGxlbEJhdGNoZXM6IGUudGFyZ2V0LmNoZWNrZWQgfSksIGNsYXNzTmFtZTogXCJyb3VuZGVkXCIsIFwiZGF0YS1jeVwiOiBcIndhdmUtcGFyYWxsZWwtYmF0Y2hlc1wiIH0pLCBfanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXNtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwXCIsIGNoaWxkcmVuOiBcIkFsbG93IHBhcmFsbGVsIGJhdGNoIGV4ZWN1dGlvblwiIH0pXSB9KSwgX2pzeHMoXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiLCBjaGlsZHJlbjogW19qc3goXCJpbnB1dFwiLCB7IHR5cGU6IFwiY2hlY2tib3hcIiwgY2hlY2tlZDogZm9ybURhdGEuY29udGludWVPbkZhaWx1cmUsIG9uQ2hhbmdlOiAoZSkgPT4gc2V0Rm9ybURhdGEoeyAuLi5mb3JtRGF0YSwgY29udGludWVPbkZhaWx1cmU6IGUudGFyZ2V0LmNoZWNrZWQgfSksIGNsYXNzTmFtZTogXCJyb3VuZGVkXCIsIFwiZGF0YS1jeVwiOiBcIndhdmUtY29udGludWUtZmFpbHVyZVwiIH0pLCBfanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXNtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwXCIsIGNoaWxkcmVuOiBcIkNvbnRpbnVlIG9uIGJhdGNoIGZhaWx1cmVcIiB9KV0gfSldIH0pXSB9KSk7XG4gICAgICAgICAgICBjYXNlICdibGFja291dCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzcGFjZS15LTRcIiwgY2hpbGRyZW46IFtfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItNFwiLCBjaGlsZHJlbjogW19qc3goXCJoM1wiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwXCIsIGNoaWxkcmVuOiBcIkJsYWNrb3V0IFBlcmlvZHNcIiB9KSwgX2pzeChCdXR0b24sIHsgdmFyaWFudDogXCJzZWNvbmRhcnlcIiwgb25DbGljazogYWRkQmxhY2tvdXRQZXJpb2QsIGljb246IF9qc3goUGx1cywgeyBjbGFzc05hbWU6IFwidy00IGgtNFwiIH0pLCBcImRhdGEtY3lcIjogXCJhZGQtYmxhY2tvdXQtYnRuXCIsIGNoaWxkcmVuOiBcIkFkZCBQZXJpb2RcIiB9KV0gfSksIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3BhY2UteS0zIG1heC1oLTk2IG92ZXJmbG93LXktYXV0b1wiLCBjaGlsZHJlbjogZm9ybURhdGEuYmxhY2tvdXRQZXJpb2RzLmxlbmd0aCA9PT0gMCA/IChfanN4KFwicFwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXNtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIHRleHQtY2VudGVyIHB5LThcIiwgY2hpbGRyZW46IFwiTm8gYmxhY2tvdXQgcGVyaW9kcyBjb25maWd1cmVkXCIgfSkpIDogKGZvcm1EYXRhLmJsYWNrb3V0UGVyaW9kcy5tYXAoKHBlcmlvZCkgPT4gKF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInAtNCBib3JkZXIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHJvdW5kZWQtbGcgc3BhY2UteS0zXCIsIGNoaWxkcmVuOiBbX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4gZ2FwLTJcIiwgY2hpbGRyZW46IFtfanN4KElucHV0LCB7IHZhbHVlOiBwZXJpb2QuZGVzY3JpcHRpb24sIG9uQ2hhbmdlOiAoZSkgPT4gdXBkYXRlQmxhY2tvdXRQZXJpb2QocGVyaW9kLmlkLCB7IGRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KSwgcGxhY2Vob2xkZXI6IFwiRGVzY3JpcHRpb25cIiwgY2xhc3NOYW1lOiBcImZsZXgtMVwiIH0pLCBfanN4KEJ1dHRvbiwgeyB2YXJpYW50OiBcImRhbmdlclwiLCBvbkNsaWNrOiAoKSA9PiByZW1vdmVCbGFja291dFBlcmlvZChwZXJpb2QuaWQpLCBpY29uOiBfanN4KFRyYXNoMiwgeyBjbGFzc05hbWU6IFwidy00IGgtNFwiIH0pLCBcImRhdGEtY3lcIjogXCJyZW1vdmUtYmxhY2tvdXQtYnRuXCIsIGNoaWxkcmVuOiBcIlJlbW92ZVwiIH0pXSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZ3JpZCBncmlkLWNvbHMtMyBnYXAtMlwiLCBjaGlsZHJlbjogW19qc3hzKFwiZGl2XCIsIHsgY2hpbGRyZW46IFtfanN4KFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IFwiYmxvY2sgdGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCBtYi0xXCIsIGNoaWxkcmVuOiBcIlN0YXJ0IFRpbWVcIiB9KSwgX2pzeChcImlucHV0XCIsIHsgdHlwZTogXCJkYXRldGltZS1sb2NhbFwiLCB2YWx1ZTogZm9ybWF0KHBlcmlvZC5zdGFydFRpbWUsIFwieXl5eS1NTS1kZCdUJ0hIOm1tXCIpLCBvbkNoYW5nZTogKGUpID0+IHVwZGF0ZUJsYWNrb3V0UGVyaW9kKHBlcmlvZC5pZCwgeyBzdGFydFRpbWU6IG5ldyBEYXRlKGUudGFyZ2V0LnZhbHVlKSB9KSwgY2xhc3NOYW1lOiBcInctZnVsbCBweC0yIHB5LTEgdGV4dC1zbSBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLWdyYXktNjAwIHJvdW5kZWQgYmctd2hpdGUgZGFyazpiZy1ncmF5LTcwMCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC1ncmF5LTEwMFwiIH0pXSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjaGlsZHJlbjogW19qc3goXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogXCJibG9jayB0ZXh0LXhzIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwIG1iLTFcIiwgY2hpbGRyZW46IFwiRW5kIFRpbWVcIiB9KSwgX2pzeChcImlucHV0XCIsIHsgdHlwZTogXCJkYXRldGltZS1sb2NhbFwiLCB2YWx1ZTogZm9ybWF0KHBlcmlvZC5lbmRUaW1lLCBcInl5eXktTU0tZGQnVCdISDptbVwiKSwgb25DaGFuZ2U6IChlKSA9PiB1cGRhdGVCbGFja291dFBlcmlvZChwZXJpb2QuaWQsIHsgZW5kVGltZTogbmV3IERhdGUoZS50YXJnZXQudmFsdWUpIH0pLCBjbGFzc05hbWU6IFwidy1mdWxsIHB4LTIgcHktMSB0ZXh0LXNtIGJvcmRlciBib3JkZXItZ3JheS0zMDAgZGFyazpib3JkZXItZ3JheS02MDAgcm91bmRlZCBiZy13aGl0ZSBkYXJrOmJnLWdyYXktNzAwIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwXCIgfSldIH0pLCBfanN4KFNlbGVjdCwgeyBsYWJlbDogXCJUeXBlXCIsIHZhbHVlOiBwZXJpb2QudHlwZSwgb25DaGFuZ2U6ICh2YWx1ZSkgPT4gdXBkYXRlQmxhY2tvdXRQZXJpb2QocGVyaW9kLmlkLCB7IHR5cGU6IHZhbHVlIH0pLCBvcHRpb25zOiBibGFja291dFR5cGVPcHRpb25zIH0pXSB9KSwgX2pzeHMoXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiLCBjaGlsZHJlbjogW19qc3goXCJpbnB1dFwiLCB7IHR5cGU6IFwiY2hlY2tib3hcIiwgY2hlY2tlZDogcGVyaW9kLmlzUmVjdXJyaW5nLCBvbkNoYW5nZTogKGUpID0+IHVwZGF0ZUJsYWNrb3V0UGVyaW9kKHBlcmlvZC5pZCwgeyBpc1JlY3VycmluZzogZS50YXJnZXQuY2hlY2tlZCB9KSwgY2xhc3NOYW1lOiBcInJvdW5kZWRcIiB9KSwgX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwidGV4dC14cyB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMFwiLCBjaGlsZHJlbjogXCJSZWN1cnJpbmdcIiB9KV0gfSldIH0sIHBlcmlvZC5pZCkpKSkgfSldIH0pKTtcbiAgICAgICAgICAgIGNhc2UgJ25vdGlmaWNhdGlvbnMnOlxuICAgICAgICAgICAgICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3BhY2UteS00XCIsIGNoaWxkcmVuOiBbX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3BhY2UteS0yXCIsIGNoaWxkcmVuOiBbX2pzeHMoXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiLCBjaGlsZHJlbjogW19qc3goXCJpbnB1dFwiLCB7IHR5cGU6IFwiY2hlY2tib3hcIiwgY2hlY2tlZDogZm9ybURhdGEuc2VuZFByZU1pZ3JhdGlvbk5vdGlmaWNhdGlvbnMsIG9uQ2hhbmdlOiAoZSkgPT4gc2V0Rm9ybURhdGEoeyAuLi5mb3JtRGF0YSwgc2VuZFByZU1pZ3JhdGlvbk5vdGlmaWNhdGlvbnM6IGUudGFyZ2V0LmNoZWNrZWQgfSksIGNsYXNzTmFtZTogXCJyb3VuZGVkXCIsIFwiZGF0YS1jeVwiOiBcIndhdmUtcHJlLW5vdGlmaWNhdGlvbnNcIiB9KSwgX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwidGV4dC1zbSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMFwiLCBjaGlsZHJlbjogXCJTZW5kIHByZS1taWdyYXRpb24gbm90aWZpY2F0aW9uc1wiIH0pXSB9KSwgX2pzeHMoXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiLCBjaGlsZHJlbjogW19qc3goXCJpbnB1dFwiLCB7IHR5cGU6IFwiY2hlY2tib3hcIiwgY2hlY2tlZDogZm9ybURhdGEuc2VuZFBvc3RNaWdyYXRpb25Ob3RpZmljYXRpb25zLCBvbkNoYW5nZTogKGUpID0+IHNldEZvcm1EYXRhKHsgLi4uZm9ybURhdGEsIHNlbmRQb3N0TWlncmF0aW9uTm90aWZpY2F0aW9uczogZS50YXJnZXQuY2hlY2tlZCB9KSwgY2xhc3NOYW1lOiBcInJvdW5kZWRcIiwgXCJkYXRhLWN5XCI6IFwid2F2ZS1wb3N0LW5vdGlmaWNhdGlvbnNcIiB9KSwgX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwidGV4dC1zbSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMFwiLCBjaGlsZHJlbjogXCJTZW5kIHBvc3QtbWlncmF0aW9uIG5vdGlmaWNhdGlvbnNcIiB9KV0gfSksIF9qc3hzKFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIiwgY2hpbGRyZW46IFtfanN4KFwiaW5wdXRcIiwgeyB0eXBlOiBcImNoZWNrYm94XCIsIGNoZWNrZWQ6IGZvcm1EYXRhLnNlbmRQcm9ncmVzc05vdGlmaWNhdGlvbnMsIG9uQ2hhbmdlOiAoZSkgPT4gc2V0Rm9ybURhdGEoeyAuLi5mb3JtRGF0YSwgc2VuZFByb2dyZXNzTm90aWZpY2F0aW9uczogZS50YXJnZXQuY2hlY2tlZCB9KSwgY2xhc3NOYW1lOiBcInJvdW5kZWRcIiwgXCJkYXRhLWN5XCI6IFwid2F2ZS1wcm9ncmVzcy1ub3RpZmljYXRpb25zXCIgfSksIF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInRleHQtc20gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDBcIiwgY2hpbGRyZW46IFwiU2VuZCBwcm9ncmVzcyBub3RpZmljYXRpb25zXCIgfSldIH0pXSB9KSwgX2pzeChJbnB1dCwgeyBsYWJlbDogXCJQcmUtbWlncmF0aW9uIE5vdGlmaWNhdGlvbiBIb3Vyc1wiLCB0eXBlOiBcIm51bWJlclwiLCB2YWx1ZTogZm9ybURhdGEucHJlTWlncmF0aW9uTm90aWZpY2F0aW9uSG91cnMudG9TdHJpbmcoKSwgb25DaGFuZ2U6IChlKSA9PiBzZXRGb3JtRGF0YSh7IC4uLmZvcm1EYXRhLCBwcmVNaWdyYXRpb25Ob3RpZmljYXRpb25Ib3VyczogcGFyc2VJbnQoZS50YXJnZXQudmFsdWUpIHx8IDI0IH0pLCBoZWxwZXJUZXh0OiBcIkhvdXJzIGJlZm9yZSBtaWdyYXRpb24gdG8gc2VuZCBub3RpZmljYXRpb25cIiwgXCJkYXRhLWN5XCI6IFwid2F2ZS1ub3RpZmljYXRpb24taG91cnMtaW5wdXRcIiB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjaGlsZHJlbjogW19qc3goXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogXCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIG1iLTFcIiwgY2hpbGRyZW46IFwiQWRkaXRpb25hbCBSZWNpcGllbnRzXCIgfSksIF9qc3goXCJ0ZXh0YXJlYVwiLCB7IHZhbHVlOiBmb3JtRGF0YS5hZGRpdGlvbmFsUmVjaXBpZW50cy5qb2luKCdcXG4nKSwgb25DaGFuZ2U6IChlKSA9PiBzZXRGb3JtRGF0YSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZm9ybURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbFJlY2lwaWVudHM6IGUudGFyZ2V0LnZhbHVlLnNwbGl0KCdcXG4nKS5tYXAoKHIpID0+IHIudHJpbSgpKS5maWx0ZXIoQm9vbGVhbiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgcm93czogNCwgcGxhY2Vob2xkZXI6IFwiRW50ZXIgZW1haWwgYWRkcmVzc2VzLCBvbmUgcGVyIGxpbmVcIiwgY2xhc3NOYW1lOiBcInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBkYXJrOmJvcmRlci1ncmF5LTYwMCByb3VuZGVkLWxnIGJnLXdoaXRlIGRhcms6YmctZ3JheS03MDAgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtZ3JheS0xMDBcIiwgXCJkYXRhLWN5XCI6IFwid2F2ZS1yZWNpcGllbnRzLXRleHRhcmVhXCIgfSksIF9qc3goXCJwXCIsIHsgY2xhc3NOYW1lOiBcIm10LTEgdGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiLCBjaGlsZHJlbjogXCJPbmUgZW1haWwgYWRkcmVzcyBwZXIgbGluZVwiIH0pXSB9KV0gfSkpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIChfanN4cyhEaWFsb2csIHsgb3BlbjogaXNPcGVuLCBvbkNsb3NlOiBvbkNsb3NlLCBjbGFzc05hbWU6IFwicmVsYXRpdmUgei01MFwiLCBcImRhdGEtY3lcIjogZGF0YUN5LCBjaGlsZHJlbjogW19qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjay8zMFwiLCBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiIH0pLCBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZpeGVkIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00XCIsIGNoaWxkcmVuOiBfanN4cyhEaWFsb2cuUGFuZWwsIHsgY2xhc3NOYW1lOiBcIm14LWF1dG8gbWF4LXctNHhsIHctZnVsbCByb3VuZGVkLWxnIGJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgc2hhZG93LTJ4bCBtYXgtaC1bOTB2aF0gZmxleCBmbGV4LWNvbFwiLCBjaGlsZHJlbjogW19qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTYgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwXCIsIGNoaWxkcmVuOiBbX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIiwgY2hpbGRyZW46IFtfanN4KENhbGVuZGFyLCB7IGNsYXNzTmFtZTogXCJ3LTYgaC02IHRleHQtYmx1ZS02MDAgZGFyazp0ZXh0LWJsdWUtNDAwXCIgfSksIF9qc3goRGlhbG9nLlRpdGxlLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtZ3JheS0xMDBcIiwgY2hpbGRyZW46IFwiU2NoZWR1bGUgTWlncmF0aW9uIFdhdmVcIiB9KV0gfSksIF9qc3goXCJidXR0b25cIiwgeyBvbkNsaWNrOiBvbkNsb3NlLCBjbGFzc05hbWU6IFwicC0yIGhvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctZ3JheS03MDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9yc1wiLCBcImRhdGEtY3lcIjogXCJjbG9zZS13YXZlLXNjaGVkdWxpbmctYnRuXCIsIGNoaWxkcmVuOiBfanN4KFgsIHsgY2xhc3NOYW1lOiBcInctNSBoLTVcIiB9KSB9KV0gfSksIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBib3JkZXItYiBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgcHgtNlwiLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGlkOiAnaW5mbycsIGxhYmVsOiAnV2F2ZSBJbmZvJywgaWNvbjogQ2FsZW5kYXIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpZDogJ3NjaGVkdWxlJywgbGFiZWw6ICdTY2hlZHVsaW5nJywgaWNvbjogQ2xvY2sgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpZDogJ2JsYWNrb3V0JywgbGFiZWw6ICdCbGFja291dCBQZXJpb2RzJywgaWNvbjogQWxlcnRUcmlhbmdsZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGlkOiAnbm90aWZpY2F0aW9ucycsIGxhYmVsOiAnTm90aWZpY2F0aW9ucycsIGljb246IEJlbGwgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLm1hcCgoeyBpZCwgbGFiZWwsIGljb246IEljb24gfSkgPT4gKF9qc3hzKFwiYnV0dG9uXCIsIHsgb25DbGljazogKCkgPT4gc2V0QWN0aXZlVGFiKGlkKSwgY2xhc3NOYW1lOiBgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtNCBweS0zIGJvcmRlci1iLTIgdHJhbnNpdGlvbi1jb2xvcnMgJHthY3RpdmVUYWIgPT09IGlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdib3JkZXItYmx1ZS02MDAgdGV4dC1ibHVlLTYwMCBkYXJrOnRleHQtYmx1ZS00MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdib3JkZXItdHJhbnNwYXJlbnQgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC1ncmF5LTkwMCBkYXJrOmhvdmVyOnRleHQtZ3JheS0xMDAnfWAsIFwiZGF0YS1jeVwiOiBgdGFiLSR7aWR9YCwgY2hpbGRyZW46IFtfanN4KEljb24sIHsgY2xhc3NOYW1lOiBcInctNCBoLTRcIiB9KSwgX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwidGV4dC1zbSBmb250LW1lZGl1bVwiLCBjaGlsZHJlbjogbGFiZWwgfSldIH0sIGlkKSkpIH0pLCBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gcC02XCIsIGNoaWxkcmVuOiByZW5kZXJUYWJDb250ZW50KCkgfSksIHZhbGlkYXRpb25FcnJvcnMubGVuZ3RoID4gMCAmJiAoX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJweC02IHBiLTRcIiwgY2hpbGRyZW46IF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInAtNCBiZy1yZWQtNTAgZGFyazpiZy1yZWQtOTAwLzIwIGJvcmRlciBib3JkZXItcmVkLTIwMCBkYXJrOmJvcmRlci1yZWQtODAwIHJvdW5kZWQtbGdcIiwgY2hpbGRyZW46IFtfanN4KFwiaDRcIiwgeyBjbGFzc05hbWU6IFwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXJlZC04MDAgZGFyazp0ZXh0LXJlZC0yMDAgbWItMlwiLCBjaGlsZHJlbjogXCJWYWxpZGF0aW9uIElzc3Vlc1wiIH0pLCBfanN4KFwidWxcIiwgeyBjbGFzc05hbWU6IFwibGlzdC1kaXNjIGxpc3QtaW5zaWRlIHNwYWNlLXktMVwiLCBjaGlsZHJlbjogdmFsaWRhdGlvbkVycm9ycy5tYXAoKGVycm9yLCBpbmRleCkgPT4gKF9qc3goXCJsaVwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXNtIHRleHQtcmVkLTcwMCBkYXJrOnRleHQtcmVkLTMwMFwiLCBjaGlsZHJlbjogZXJyb3IgfSwgaW5kZXgpKSkgfSldIH0pIH0pKSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtNiBib3JkZXItdCBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDBcIiwgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggZ2FwLTNcIiwgY2hpbGRyZW46IF9qc3goQnV0dG9uLCB7IHZhcmlhbnQ6IFwiZ2hvc3RcIiwgb25DbGljazogaGFuZGxlUHJldmlldywgaWNvbjogX2pzeChFeWUsIHsgY2xhc3NOYW1lOiBcInctNCBoLTRcIiB9KSwgXCJkYXRhLWN5XCI6IFwicHJldmlldy1zY2hlZHVsZS1idG5cIiwgY2hpbGRyZW46IFwiUHJldmlldyBTY2hlZHVsZVwiIH0pIH0pLCBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGdhcC0zXCIsIGNoaWxkcmVuOiBbX2pzeChCdXR0b24sIHsgdmFyaWFudDogXCJzZWNvbmRhcnlcIiwgb25DbGljazogb25DbG9zZSwgZGlzYWJsZWQ6IGlzU2NoZWR1bGluZywgXCJkYXRhLWN5XCI6IFwiY2FuY2VsLXdhdmUtc2NoZWR1bGluZy1idG5cIiwgY2hpbGRyZW46IFwiQ2FuY2VsXCIgfSksIF9qc3goQnV0dG9uLCB7IHZhcmlhbnQ6IFwicHJpbWFyeVwiLCBvbkNsaWNrOiBoYW5kbGVTY2hlZHVsZSwgbG9hZGluZzogaXNTY2hlZHVsaW5nLCBpY29uOiBfanN4KENoZWNrQ2lyY2xlLCB7IGNsYXNzTmFtZTogXCJ3LTQgaC00XCIgfSksIFwiZGF0YS1jeVwiOiBcInNjaGVkdWxlLXdhdmUtYnRuXCIsIGNoaWxkcmVuOiBcIlNjaGVkdWxlIFdhdmVcIiB9KV0gfSldIH0pXSB9KSB9KV0gfSkpO1xufTtcbmV4cG9ydCBkZWZhdWx0IFdhdmVTY2hlZHVsaW5nRGlhbG9nO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9