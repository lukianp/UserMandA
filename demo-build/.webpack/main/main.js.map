{"version":3,"file":"main.js","mappings":"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A,6BACA,8BACA,oBACA,4BACA,aACA,sBACA,8BACA,oBACA,qBACA,qBACA,oBACA,qBACA,oBACA,oBACA,sBACA,yBACA,wBACA,uBACA,sBACA,sBACA,qBACA,6BACA,6BACA,4BACA,OACA,2BACA,mCACA,SACA,eACA,uBACA,uBACA,wCACA,uBACA,yBACA,4BACA,kCACA,oCACA,sBACA,8BACA,gBACA,wBACA,wBACA,uBACA,SACA,kBACA,gBACA,iBACA,sBACA,gBACA,iBACA,gBACA,oBACA,gBACA,gBACA,kBACA,qBACA,eACA,oBACA,mBACA,kBACA,kBACA,iBACA,QACA,gBACA,gBACA,eACA,uBACA,iCACA,+BACA,sCACA,gDACA,iCACA,SACA,eACA,gBACA,iBACA,aACA,mBACA,qBACA,cACA,+BACA,wBACA,OACA,eACA,YACA,mBACA,oBACA,oBACA,mBACA,mBACA,YACA,oBACA,sBACA,eACA,uBACA,4BACA,8BACA,8BACA,uBACA,UACA,oBACA,kBACA,aACA,gCACA,yCACA,0CACA,wCACA,uCACA,OACA,UACA,iBACA,kBACA,kBACA,iBACA,mBACA,eACA,yBACA,uBACA,uBACA,sBACA,qBACA,iBACA,yBACA,yBACA,wBACA,uBACA,cACA,qBACA,sBACA,sBACA,qBACA,uBACA,mBACA,4BACA,6BACA,2BACA,2BACA,0BACA,6BACA,4BACA,4BACA,oCACA,oCACA,mCACA,SACA,eACA,wBACA,mCACA,kCACA,sBACA,kCACA,4BACA,wBACA,sBACA,wBACA,uBACA,sBACA,0BACA,sBACA,gCACA,wBACA,sCACA,gCACA,2BACA,0BACA,yBACA,wBACA,sBACA,gCACA,6BACA,gCACA,8BACA,sCACA,sCACA,qCACA,6BACA,sCACA,wCACA,OACA,mBACA,6BACA,2BACA,UACA,kBACA,kBACA,iBACA,sBACA,oBACA,mBACA,sBACA,aACA,sBACA,qBACA,qBACA,oBACA,wBACA,wBACA,qBACA,yBACA,wBACA,sBACA,gCACA,+BACA,sBACA,uC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","sources":["webpack://enterprise-discovery-suite/./node_modules/@octokit/app/dist-node/index.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/auth-app/dist-node/index.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/auth-oauth-app/dist-bundle/index.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/auth-oauth-device/dist-bundle/index.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/auth-oauth-user/dist-bundle/index.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/auth-token/dist-bundle/index.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/auth-unauthenticated/dist-node/index.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/core/dist-src/index.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/core/dist-src/version.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/endpoint/dist-bundle/index.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/graphql/dist-bundle/index.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/oauth-app/dist-node/index.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/oauth-authorization-url/dist-src/index.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/oauth-methods/dist-bundle/index.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/plugin-paginate-graphql/dist-bundle/index.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/plugin-paginate-rest/dist-bundle/index.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/plugin-rest-endpoint-methods/dist-src/endpoints-to-methods.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/plugin-rest-endpoint-methods/dist-src/generated/endpoints.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/plugin-rest-endpoint-methods/dist-src/index.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/plugin-rest-endpoint-methods/dist-src/version.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/plugin-retry/dist-bundle/index.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/plugin-throttling/dist-bundle/index.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/request-error/dist-src/index.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/request/dist-bundle/index.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/webhooks-methods/dist-node/index.js","webpack://enterprise-discovery-suite/./node_modules/@octokit/webhooks/dist-bundle/index.js","webpack://enterprise-discovery-suite/./node_modules/before-after-hook/index.js","webpack://enterprise-discovery-suite/./node_modules/before-after-hook/lib/add.js","webpack://enterprise-discovery-suite/./node_modules/before-after-hook/lib/register.js","webpack://enterprise-discovery-suite/./node_modules/before-after-hook/lib/remove.js","webpack://enterprise-discovery-suite/./node_modules/better-sqlite3/lib/database.js","webpack://enterprise-discovery-suite/./node_modules/better-sqlite3/lib/index.js","webpack://enterprise-discovery-suite/./node_modules/better-sqlite3/lib/methods/aggregate.js","webpack://enterprise-discovery-suite/./node_modules/better-sqlite3/lib/methods/backup.js","webpack://enterprise-discovery-suite/./node_modules/better-sqlite3/lib/methods/function.js","webpack://enterprise-discovery-suite/./node_modules/better-sqlite3/lib/methods/inspect.js","webpack://enterprise-discovery-suite/./node_modules/better-sqlite3/lib/methods/pragma.js","webpack://enterprise-discovery-suite/./node_modules/better-sqlite3/lib/methods/serialize.js","webpack://enterprise-discovery-suite/./node_modules/better-sqlite3/lib/methods/table.js","webpack://enterprise-discovery-suite/./node_modules/better-sqlite3/lib/methods/transaction.js","webpack://enterprise-discovery-suite/./node_modules/better-sqlite3/lib/methods/wrappers.js","webpack://enterprise-discovery-suite/./node_modules/better-sqlite3/lib/sqlite-error.js","webpack://enterprise-discovery-suite/./node_modules/better-sqlite3/lib/util.js","webpack://enterprise-discovery-suite/./node_modules/bottleneck/light.js","webpack://enterprise-discovery-suite/./node_modules/electron-squirrel-startup/index.js","webpack://enterprise-discovery-suite/./node_modules/electron-squirrel-startup/node_modules/debug/src/browser.js","webpack://enterprise-discovery-suite/./node_modules/electron-squirrel-startup/node_modules/debug/src/debug.js","webpack://enterprise-discovery-suite/./node_modules/electron-squirrel-startup/node_modules/debug/src/index.js","webpack://enterprise-discovery-suite/./node_modules/electron-squirrel-startup/node_modules/debug/src/node.js","webpack://enterprise-discovery-suite/./node_modules/electron-squirrel-startup/node_modules/ms/index.js","webpack://enterprise-discovery-suite/./node_modules/fast-content-type-parse/index.js","webpack://enterprise-discovery-suite/./node_modules/lowdb/lib/adapters/node/DataFile.js","webpack://enterprise-discovery-suite/./node_modules/lowdb/lib/adapters/node/JSONFile.js","webpack://enterprise-discovery-suite/./node_modules/lowdb/lib/adapters/node/TextFile.js","webpack://enterprise-discovery-suite/./node_modules/lowdb/lib/core/Low.js","webpack://enterprise-discovery-suite/./node_modules/octokit/dist-bundle/index.js","webpack://enterprise-discovery-suite/./node_modules/papaparse/papaparse.js","webpack://enterprise-discovery-suite/./node_modules/semver/classes/comparator.js","webpack://enterprise-discovery-suite/./node_modules/semver/classes/range.js","webpack://enterprise-discovery-suite/./node_modules/semver/classes/semver.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/clean.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/cmp.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/coerce.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/compare-build.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/compare-loose.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/compare.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/diff.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/eq.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/gt.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/gte.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/inc.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/lt.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/lte.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/major.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/minor.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/neq.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/parse.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/patch.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/prerelease.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/rcompare.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/rsort.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/satisfies.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/sort.js","webpack://enterprise-discovery-suite/./node_modules/semver/functions/valid.js","webpack://enterprise-discovery-suite/./node_modules/semver/index.js","webpack://enterprise-discovery-suite/./node_modules/semver/internal/constants.js","webpack://enterprise-discovery-suite/./node_modules/semver/internal/debug.js","webpack://enterprise-discovery-suite/./node_modules/semver/internal/identifiers.js","webpack://enterprise-discovery-suite/./node_modules/semver/internal/lrucache.js","webpack://enterprise-discovery-suite/./node_modules/semver/internal/parse-options.js","webpack://enterprise-discovery-suite/./node_modules/semver/internal/re.js","webpack://enterprise-discovery-suite/./node_modules/semver/ranges/gtr.js","webpack://enterprise-discovery-suite/./node_modules/semver/ranges/intersects.js","webpack://enterprise-discovery-suite/./node_modules/semver/ranges/ltr.js","webpack://enterprise-discovery-suite/./node_modules/semver/ranges/max-satisfying.js","webpack://enterprise-discovery-suite/./node_modules/semver/ranges/min-satisfying.js","webpack://enterprise-discovery-suite/./node_modules/semver/ranges/min-version.js","webpack://enterprise-discovery-suite/./node_modules/semver/ranges/outside.js","webpack://enterprise-discovery-suite/./node_modules/semver/ranges/simplify.js","webpack://enterprise-discovery-suite/./node_modules/semver/ranges/subset.js","webpack://enterprise-discovery-suite/./node_modules/semver/ranges/to-comparators.js","webpack://enterprise-discovery-suite/./node_modules/semver/ranges/valid.js","webpack://enterprise-discovery-suite/./node_modules/steno/lib/index.js","webpack://enterprise-discovery-suite/./node_modules/toad-cache/dist/toad-cache.mjs","webpack://enterprise-discovery-suite/./node_modules/universal-github-app-jwt/index.js","webpack://enterprise-discovery-suite/./node_modules/universal-github-app-jwt/lib/crypto-node.js","webpack://enterprise-discovery-suite/./node_modules/universal-github-app-jwt/lib/get-token.js","webpack://enterprise-discovery-suite/./node_modules/universal-github-app-jwt/lib/utils.js","webpack://enterprise-discovery-suite/./node_modules/universal-user-agent/index.js","webpack://enterprise-discovery-suite/./node_modules/uuid/index.js","webpack://enterprise-discovery-suite/./node_modules/uuid/lib/bytesToUuid.js","webpack://enterprise-discovery-suite/./node_modules/uuid/lib/rng.js","webpack://enterprise-discovery-suite/./node_modules/uuid/v1.js","webpack://enterprise-discovery-suite/./node_modules/uuid/v4.js","webpack://enterprise-discovery-suite/./src/main/ipcHandlers.ts","webpack://enterprise-discovery-suite/./src/main/services/configService.ts","webpack://enterprise-discovery-suite/./src/main/services/consolidationEngine.ts","webpack://enterprise-discovery-suite/./src/main/services/credentialService.ts","webpack://enterprise-discovery-suite/./src/main/services/dashboardService.ts","webpack://enterprise-discovery-suite/./src/main/services/decisionTraceHelpers.ts","webpack://enterprise-discovery-suite/./src/main/services/decisionTraceService.ts","webpack://enterprise-discovery-suite/./src/main/services/environmentDetectionService.ts","webpack://enterprise-discovery-suite/./src/main/services/licenseService.ts","webpack://enterprise-discovery-suite/./src/main/services/logicEngineService.ts","webpack://enterprise-discovery-suite/./src/main/services/mockLogicEngineService.ts","webpack://enterprise-discovery-suite/./src/main/services/moduleRegistry.ts","webpack://enterprise-discovery-suite/./src/main/services/powerShellService.ts","webpack://enterprise-discovery-suite/./src/main/services/profileService.ts","webpack://enterprise-discovery-suite/./src/main/services/projectService.ts","webpack://enterprise-discovery-suite/./src/main/services/updateService.ts","webpack://enterprise-discovery-suite/./src/renderer/types/models/group.ts","webpack://enterprise-discovery-suite/./src/renderer/types/models/logicEngine.ts","webpack://enterprise-discovery-suite/external node-commonjs \"child_process\"","webpack://enterprise-discovery-suite/external commonjs \"chokidar\"","webpack://enterprise-discovery-suite/external node-commonjs \"crypto\"","webpack://enterprise-discovery-suite/external commonjs \"electron\"","webpack://enterprise-discovery-suite/external node-commonjs \"events\"","webpack://enterprise-discovery-suite/external node-commonjs \"fs\"","webpack://enterprise-discovery-suite/external node-commonjs \"fs/promises\"","webpack://enterprise-discovery-suite/external commonjs \"glob\"","webpack://enterprise-discovery-suite/external node-commonjs \"https\"","webpack://enterprise-discovery-suite/external node-commonjs \"net\"","webpack://enterprise-discovery-suite/external commonjs \"buffer\"","webpack://enterprise-discovery-suite/external node-commonjs \"node:crypto\"","webpack://enterprise-discovery-suite/external commonjs \"fs\"","webpack://enterprise-discovery-suite/external commonjs \"fs/promises\"","webpack://enterprise-discovery-suite/external commonjs \"path\"","webpack://enterprise-discovery-suite/external commonjs \"url\"","webpack://enterprise-discovery-suite/external node-commonjs \"os\"","webpack://enterprise-discovery-suite/external node-commonjs \"path\"","webpack://enterprise-discovery-suite/external node-commonjs \"stream\"","webpack://enterprise-discovery-suite/external node-commonjs \"tty\"","webpack://enterprise-discovery-suite/external node-commonjs \"util\"","webpack://enterprise-discovery-suite/webpack/bootstrap","webpack://enterprise-discovery-suite/webpack/runtime/create fake namespace object","webpack://enterprise-discovery-suite/webpack/runtime/require chunk loading","webpack://enterprise-discovery-suite/webpack/runtime/asset-relocator-loader","webpack://enterprise-discovery-suite/webpack/runtime/compat get default export","webpack://enterprise-discovery-suite/webpack/runtime/define property getters","webpack://enterprise-discovery-suite/webpack/runtime/ensure chunk","webpack://enterprise-discovery-suite/webpack/runtime/get javascript chunk filename","webpack://enterprise-discovery-suite/webpack/runtime/hasOwnProperty shorthand","webpack://enterprise-discovery-suite/webpack/runtime/make namespace object","webpack://enterprise-discovery-suite/./src/index.ts"],"sourcesContent":["// pkg/dist-src/index.js\nimport { Octokit as OctokitCore } from \"@octokit/core\";\nimport { createAppAuth as createAppAuth3 } from \"@octokit/auth-app\";\nimport { OAuthApp } from \"@octokit/oauth-app\";\n\n// pkg/dist-src/version.js\nvar VERSION = \"15.1.6\";\n\n// pkg/dist-src/webhooks.js\nimport { createAppAuth } from \"@octokit/auth-app\";\nimport { createUnauthenticatedAuth } from \"@octokit/auth-unauthenticated\";\nimport { Webhooks } from \"@octokit/webhooks\";\nfunction webhooks(appOctokit, options) {\n  return new Webhooks({\n    secret: options.secret,\n    transform: async (event) => {\n      if (!(\"installation\" in event.payload) || typeof event.payload.installation !== \"object\") {\n        const octokit2 = new appOctokit.constructor({\n          authStrategy: createUnauthenticatedAuth,\n          auth: {\n            reason: `\"installation\" key missing in webhook event payload`\n          }\n        });\n        return {\n          ...event,\n          octokit: octokit2\n        };\n      }\n      const installationId = event.payload.installation.id;\n      const octokit = await appOctokit.auth({\n        type: \"installation\",\n        installationId,\n        factory(auth) {\n          return new auth.octokit.constructor({\n            ...auth.octokitOptions,\n            authStrategy: createAppAuth,\n            ...{\n              auth: {\n                ...auth,\n                installationId\n              }\n            }\n          });\n        }\n      });\n      octokit.hook.before(\"request\", (options2) => {\n        options2.headers[\"x-github-delivery\"] = event.id;\n      });\n      return {\n        ...event,\n        octokit\n      };\n    }\n  });\n}\n\n// pkg/dist-src/each-installation.js\nimport { composePaginateRest } from \"@octokit/plugin-paginate-rest\";\n\n// pkg/dist-src/get-installation-octokit.js\nimport { createAppAuth as createAppAuth2 } from \"@octokit/auth-app\";\nasync function getInstallationOctokit(app, installationId) {\n  return app.octokit.auth({\n    type: \"installation\",\n    installationId,\n    factory(auth) {\n      const options = {\n        ...auth.octokitOptions,\n        authStrategy: createAppAuth2,\n        ...{ auth: { ...auth, installationId } }\n      };\n      return new auth.octokit.constructor(options);\n    }\n  });\n}\n\n// pkg/dist-src/each-installation.js\nfunction eachInstallationFactory(app) {\n  return Object.assign(eachInstallation.bind(null, app), {\n    iterator: eachInstallationIterator.bind(null, app)\n  });\n}\nasync function eachInstallation(app, callback) {\n  const i = eachInstallationIterator(app)[Symbol.asyncIterator]();\n  let result = await i.next();\n  while (!result.done) {\n    await callback(result.value);\n    result = await i.next();\n  }\n}\nfunction eachInstallationIterator(app) {\n  return {\n    async *[Symbol.asyncIterator]() {\n      const iterator = composePaginateRest.iterator(\n        app.octokit,\n        \"GET /app/installations\"\n      );\n      for await (const { data: installations } of iterator) {\n        for (const installation of installations) {\n          const installationOctokit = await getInstallationOctokit(\n            app,\n            installation.id\n          );\n          yield { octokit: installationOctokit, installation };\n        }\n      }\n    }\n  };\n}\n\n// pkg/dist-src/each-repository.js\nimport { composePaginateRest as composePaginateRest2 } from \"@octokit/plugin-paginate-rest\";\nfunction eachRepositoryFactory(app) {\n  return Object.assign(eachRepository.bind(null, app), {\n    iterator: eachRepositoryIterator.bind(null, app)\n  });\n}\nasync function eachRepository(app, queryOrCallback, callback) {\n  const i = eachRepositoryIterator(\n    app,\n    callback ? queryOrCallback : void 0\n  )[Symbol.asyncIterator]();\n  let result = await i.next();\n  while (!result.done) {\n    if (callback) {\n      await callback(result.value);\n    } else {\n      await queryOrCallback(result.value);\n    }\n    result = await i.next();\n  }\n}\nfunction singleInstallationIterator(app, installationId) {\n  return {\n    async *[Symbol.asyncIterator]() {\n      yield {\n        octokit: await app.getInstallationOctokit(installationId)\n      };\n    }\n  };\n}\nfunction eachRepositoryIterator(app, query) {\n  return {\n    async *[Symbol.asyncIterator]() {\n      const iterator = query ? singleInstallationIterator(app, query.installationId) : app.eachInstallation.iterator();\n      for await (const { octokit } of iterator) {\n        const repositoriesIterator = composePaginateRest2.iterator(\n          octokit,\n          \"GET /installation/repositories\"\n        );\n        for await (const { data: repositories } of repositoriesIterator) {\n          for (const repository of repositories) {\n            yield { octokit, repository };\n          }\n        }\n      }\n    }\n  };\n}\n\n// pkg/dist-src/get-installation-url.js\nfunction getInstallationUrlFactory(app) {\n  let installationUrlBasePromise;\n  return async function getInstallationUrl(options = {}) {\n    if (!installationUrlBasePromise) {\n      installationUrlBasePromise = getInstallationUrlBase(app);\n    }\n    const installationUrlBase = await installationUrlBasePromise;\n    const installationUrl = new URL(installationUrlBase);\n    if (options.target_id !== void 0) {\n      installationUrl.pathname += \"/permissions\";\n      installationUrl.searchParams.append(\n        \"target_id\",\n        options.target_id.toFixed()\n      );\n    }\n    if (options.state !== void 0) {\n      installationUrl.searchParams.append(\"state\", options.state);\n    }\n    return installationUrl.href;\n  };\n}\nasync function getInstallationUrlBase(app) {\n  const { data: appInfo } = await app.octokit.request(\"GET /app\");\n  if (!appInfo) {\n    throw new Error(\"[@octokit/app] unable to fetch metadata for app\");\n  }\n  return `${appInfo.html_url}/installations/new`;\n}\n\n// pkg/dist-src/middleware/node/index.js\nimport {\n  createNodeMiddleware as oauthNodeMiddleware,\n  sendNodeResponse,\n  unknownRouteResponse\n} from \"@octokit/oauth-app\";\nimport { createNodeMiddleware as webhooksNodeMiddleware } from \"@octokit/webhooks\";\nfunction noop() {\n}\nfunction createNodeMiddleware(app, options = {}) {\n  const log = Object.assign(\n    {\n      debug: noop,\n      info: noop,\n      warn: console.warn.bind(console),\n      error: console.error.bind(console)\n    },\n    options.log\n  );\n  const optionsWithDefaults = {\n    pathPrefix: \"/api/github\",\n    ...options,\n    log\n  };\n  const webhooksMiddleware = webhooksNodeMiddleware(app.webhooks, {\n    path: optionsWithDefaults.pathPrefix + \"/webhooks\",\n    log\n  });\n  const oauthMiddleware = oauthNodeMiddleware(app.oauth, {\n    pathPrefix: optionsWithDefaults.pathPrefix + \"/oauth\"\n  });\n  return middleware.bind(\n    null,\n    optionsWithDefaults.pathPrefix,\n    webhooksMiddleware,\n    oauthMiddleware\n  );\n}\nasync function middleware(pathPrefix, webhooksMiddleware, oauthMiddleware, request, response, next) {\n  const { pathname } = new URL(request.url, \"http://localhost\");\n  if (pathname.startsWith(`${pathPrefix}/`)) {\n    if (pathname === `${pathPrefix}/webhooks`) {\n      webhooksMiddleware(request, response);\n    } else if (pathname.startsWith(`${pathPrefix}/oauth/`)) {\n      oauthMiddleware(request, response);\n    } else {\n      sendNodeResponse(unknownRouteResponse(request), response);\n    }\n    return true;\n  } else {\n    next?.();\n    return false;\n  }\n}\n\n// pkg/dist-src/index.js\nvar App = class {\n  static VERSION = VERSION;\n  static defaults(defaults) {\n    const AppWithDefaults = class extends this {\n      constructor(...args) {\n        super({\n          ...defaults,\n          ...args[0]\n        });\n      }\n    };\n    return AppWithDefaults;\n  }\n  octokit;\n  // @ts-ignore calling app.webhooks will throw a helpful error when options.webhooks is not set\n  webhooks;\n  // @ts-ignore calling app.oauth will throw a helpful error when options.oauth is not set\n  oauth;\n  getInstallationOctokit;\n  eachInstallation;\n  eachRepository;\n  getInstallationUrl;\n  log;\n  constructor(options) {\n    const Octokit = options.Octokit || OctokitCore;\n    const authOptions = Object.assign(\n      {\n        appId: options.appId,\n        privateKey: options.privateKey\n      },\n      options.oauth ? {\n        clientId: options.oauth.clientId,\n        clientSecret: options.oauth.clientSecret\n      } : {}\n    );\n    const octokitOptions = {\n      authStrategy: createAppAuth3,\n      auth: authOptions\n    };\n    if (\"log\" in options && typeof options.log !== \"undefined\") {\n      octokitOptions.log = options.log;\n    }\n    this.octokit = new Octokit(octokitOptions);\n    this.log = Object.assign(\n      {\n        debug: () => {\n        },\n        info: () => {\n        },\n        warn: console.warn.bind(console),\n        error: console.error.bind(console)\n      },\n      options.log\n    );\n    if (options.webhooks) {\n      this.webhooks = webhooks(this.octokit, options.webhooks);\n    } else {\n      Object.defineProperty(this, \"webhooks\", {\n        get() {\n          throw new Error(\"[@octokit/app] webhooks option not set\");\n        }\n      });\n    }\n    if (options.oauth) {\n      this.oauth = new OAuthApp({\n        ...options.oauth,\n        clientType: \"github-app\",\n        Octokit\n      });\n    } else {\n      Object.defineProperty(this, \"oauth\", {\n        get() {\n          throw new Error(\n            \"[@octokit/app] oauth.clientId / oauth.clientSecret options are not set\"\n          );\n        }\n      });\n    }\n    this.getInstallationOctokit = getInstallationOctokit.bind(\n      null,\n      this\n    );\n    this.eachInstallation = eachInstallationFactory(\n      this\n    );\n    this.eachRepository = eachRepositoryFactory(\n      this\n    );\n    this.getInstallationUrl = getInstallationUrlFactory(this);\n  }\n};\nexport {\n  App,\n  createNodeMiddleware\n};\n","// pkg/dist-src/index.js\nimport { getUserAgent } from \"universal-user-agent\";\nimport { request as defaultRequest } from \"@octokit/request\";\nimport { createOAuthAppAuth } from \"@octokit/auth-oauth-app\";\n\n// pkg/dist-src/get-app-authentication.js\nimport githubAppJwt from \"universal-github-app-jwt\";\nasync function getAppAuthentication({\n  appId,\n  privateKey,\n  timeDifference\n}) {\n  try {\n    const authOptions = {\n      id: appId,\n      privateKey\n    };\n    if (timeDifference) {\n      Object.assign(authOptions, {\n        now: Math.floor(Date.now() / 1e3) + timeDifference\n      });\n    }\n    const appAuthentication = await githubAppJwt(authOptions);\n    return {\n      type: \"app\",\n      token: appAuthentication.token,\n      appId: appAuthentication.appId,\n      expiresAt: new Date(appAuthentication.expiration * 1e3).toISOString()\n    };\n  } catch (error) {\n    if (privateKey === \"-----BEGIN RSA PRIVATE KEY-----\") {\n      throw new Error(\n        \"The 'privateKey` option contains only the first line '-----BEGIN RSA PRIVATE KEY-----'. If you are setting it using a `.env` file, make sure it is set on a single line with newlines replaced by '\\n'\"\n      );\n    } else {\n      throw error;\n    }\n  }\n}\n\n// pkg/dist-src/cache.js\nimport { Lru } from \"toad-cache\";\nfunction getCache() {\n  return new Lru(\n    // cache max. 15000 tokens, that will use less than 10mb memory\n    15e3,\n    // Cache for 1 minute less than GitHub expiry\n    1e3 * 60 * 59\n  );\n}\nasync function get(cache, options) {\n  const cacheKey = optionsToCacheKey(options);\n  const result = await cache.get(cacheKey);\n  if (!result) {\n    return;\n  }\n  const [\n    token,\n    createdAt,\n    expiresAt,\n    repositorySelection,\n    permissionsString,\n    singleFileName\n  ] = result.split(\"|\");\n  const permissions = options.permissions || permissionsString.split(/,/).reduce((permissions2, string) => {\n    if (/!$/.test(string)) {\n      permissions2[string.slice(0, -1)] = \"write\";\n    } else {\n      permissions2[string] = \"read\";\n    }\n    return permissions2;\n  }, {});\n  return {\n    token,\n    createdAt,\n    expiresAt,\n    permissions,\n    repositoryIds: options.repositoryIds,\n    repositoryNames: options.repositoryNames,\n    singleFileName,\n    repositorySelection\n  };\n}\nasync function set(cache, options, data) {\n  const key = optionsToCacheKey(options);\n  const permissionsString = options.permissions ? \"\" : Object.keys(data.permissions).map(\n    (name) => `${name}${data.permissions[name] === \"write\" ? \"!\" : \"\"}`\n  ).join(\",\");\n  const value = [\n    data.token,\n    data.createdAt,\n    data.expiresAt,\n    data.repositorySelection,\n    permissionsString,\n    data.singleFileName\n  ].join(\"|\");\n  await cache.set(key, value);\n}\nfunction optionsToCacheKey({\n  installationId,\n  permissions = {},\n  repositoryIds = [],\n  repositoryNames = []\n}) {\n  const permissionsString = Object.keys(permissions).sort().map((name) => permissions[name] === \"read\" ? name : `${name}!`).join(\",\");\n  const repositoryIdsString = repositoryIds.sort().join(\",\");\n  const repositoryNamesString = repositoryNames.join(\",\");\n  return [\n    installationId,\n    repositoryIdsString,\n    repositoryNamesString,\n    permissionsString\n  ].filter(Boolean).join(\"|\");\n}\n\n// pkg/dist-src/to-token-authentication.js\nfunction toTokenAuthentication({\n  installationId,\n  token,\n  createdAt,\n  expiresAt,\n  repositorySelection,\n  permissions,\n  repositoryIds,\n  repositoryNames,\n  singleFileName\n}) {\n  return Object.assign(\n    {\n      type: \"token\",\n      tokenType: \"installation\",\n      token,\n      installationId,\n      permissions,\n      createdAt,\n      expiresAt,\n      repositorySelection\n    },\n    repositoryIds ? { repositoryIds } : null,\n    repositoryNames ? { repositoryNames } : null,\n    singleFileName ? { singleFileName } : null\n  );\n}\n\n// pkg/dist-src/get-installation-authentication.js\nasync function getInstallationAuthentication(state, options, customRequest) {\n  const installationId = Number(options.installationId || state.installationId);\n  if (!installationId) {\n    throw new Error(\n      \"[@octokit/auth-app] installationId option is required for installation authentication.\"\n    );\n  }\n  if (options.factory) {\n    const { type, factory, oauthApp, ...factoryAuthOptions } = {\n      ...state,\n      ...options\n    };\n    return factory(factoryAuthOptions);\n  }\n  const request = customRequest || state.request;\n  return getInstallationAuthenticationConcurrently(\n    state,\n    { ...options, installationId },\n    request\n  );\n}\nvar pendingPromises = /* @__PURE__ */ new Map();\nfunction getInstallationAuthenticationConcurrently(state, options, request) {\n  const cacheKey = optionsToCacheKey(options);\n  if (pendingPromises.has(cacheKey)) {\n    return pendingPromises.get(cacheKey);\n  }\n  const promise = getInstallationAuthenticationImpl(\n    state,\n    options,\n    request\n  ).finally(() => pendingPromises.delete(cacheKey));\n  pendingPromises.set(cacheKey, promise);\n  return promise;\n}\nasync function getInstallationAuthenticationImpl(state, options, request) {\n  if (!options.refresh) {\n    const result = await get(state.cache, options);\n    if (result) {\n      const {\n        token: token2,\n        createdAt: createdAt2,\n        expiresAt: expiresAt2,\n        permissions: permissions2,\n        repositoryIds: repositoryIds2,\n        repositoryNames: repositoryNames2,\n        singleFileName: singleFileName2,\n        repositorySelection: repositorySelection2\n      } = result;\n      return toTokenAuthentication({\n        installationId: options.installationId,\n        token: token2,\n        createdAt: createdAt2,\n        expiresAt: expiresAt2,\n        permissions: permissions2,\n        repositorySelection: repositorySelection2,\n        repositoryIds: repositoryIds2,\n        repositoryNames: repositoryNames2,\n        singleFileName: singleFileName2\n      });\n    }\n  }\n  const appAuthentication = await getAppAuthentication(state);\n  const payload = {\n    installation_id: options.installationId,\n    mediaType: {\n      previews: [\"machine-man\"]\n    },\n    headers: {\n      authorization: `bearer ${appAuthentication.token}`\n    }\n  };\n  if (options.repositoryIds) {\n    Object.assign(payload, { repository_ids: options.repositoryIds });\n  }\n  if (options.repositoryNames) {\n    Object.assign(payload, {\n      repositories: options.repositoryNames\n    });\n  }\n  if (options.permissions) {\n    Object.assign(payload, { permissions: options.permissions });\n  }\n  const {\n    data: {\n      token,\n      expires_at: expiresAt,\n      repositories,\n      permissions: permissionsOptional,\n      repository_selection: repositorySelectionOptional,\n      single_file: singleFileName\n    }\n  } = await request(\n    \"POST /app/installations/{installation_id}/access_tokens\",\n    payload\n  );\n  const permissions = permissionsOptional || {};\n  const repositorySelection = repositorySelectionOptional || \"all\";\n  const repositoryIds = repositories ? repositories.map((r) => r.id) : void 0;\n  const repositoryNames = repositories ? repositories.map((repo) => repo.name) : void 0;\n  const createdAt = (/* @__PURE__ */ new Date()).toISOString();\n  const cacheOptions = {\n    token,\n    createdAt,\n    expiresAt,\n    repositorySelection,\n    permissions,\n    repositoryIds,\n    repositoryNames\n  };\n  if (singleFileName) {\n    Object.assign(payload, { singleFileName });\n  }\n  await set(state.cache, options, cacheOptions);\n  const cacheData = {\n    installationId: options.installationId,\n    token,\n    createdAt,\n    expiresAt,\n    repositorySelection,\n    permissions,\n    repositoryIds,\n    repositoryNames\n  };\n  if (singleFileName) {\n    Object.assign(cacheData, { singleFileName });\n  }\n  return toTokenAuthentication(cacheData);\n}\n\n// pkg/dist-src/auth.js\nasync function auth(state, authOptions) {\n  switch (authOptions.type) {\n    case \"app\":\n      return getAppAuthentication(state);\n    case \"oauth-app\":\n      return state.oauthApp({ type: \"oauth-app\" });\n    case \"installation\":\n      authOptions;\n      return getInstallationAuthentication(state, {\n        ...authOptions,\n        type: \"installation\"\n      });\n    case \"oauth-user\":\n      return state.oauthApp(authOptions);\n    default:\n      throw new Error(`Invalid auth type: ${authOptions.type}`);\n  }\n}\n\n// pkg/dist-src/hook.js\nimport { requiresBasicAuth } from \"@octokit/auth-oauth-user\";\nimport { RequestError } from \"@octokit/request-error\";\n\n// pkg/dist-src/requires-app-auth.js\nvar PATHS = [\n  \"/app\",\n  \"/app/hook/config\",\n  \"/app/hook/deliveries\",\n  \"/app/hook/deliveries/{delivery_id}\",\n  \"/app/hook/deliveries/{delivery_id}/attempts\",\n  \"/app/installations\",\n  \"/app/installations/{installation_id}\",\n  \"/app/installations/{installation_id}/access_tokens\",\n  \"/app/installations/{installation_id}/suspended\",\n  \"/app/installation-requests\",\n  \"/marketplace_listing/accounts/{account_id}\",\n  \"/marketplace_listing/plan\",\n  \"/marketplace_listing/plans\",\n  \"/marketplace_listing/plans/{plan_id}/accounts\",\n  \"/marketplace_listing/stubbed/accounts/{account_id}\",\n  \"/marketplace_listing/stubbed/plan\",\n  \"/marketplace_listing/stubbed/plans\",\n  \"/marketplace_listing/stubbed/plans/{plan_id}/accounts\",\n  \"/orgs/{org}/installation\",\n  \"/repos/{owner}/{repo}/installation\",\n  \"/users/{username}/installation\"\n];\nfunction routeMatcher(paths) {\n  const regexes = paths.map(\n    (p) => p.split(\"/\").map((c) => c.startsWith(\"{\") ? \"(?:.+?)\" : c).join(\"/\")\n  );\n  const regex = `^(?:${regexes.map((r) => `(?:${r})`).join(\"|\")})$`;\n  return new RegExp(regex, \"i\");\n}\nvar REGEX = routeMatcher(PATHS);\nfunction requiresAppAuth(url) {\n  return !!url && REGEX.test(url.split(\"?\")[0]);\n}\n\n// pkg/dist-src/hook.js\nvar FIVE_SECONDS_IN_MS = 5 * 1e3;\nfunction isNotTimeSkewError(error) {\n  return !(error.message.match(\n    /'Expiration time' claim \\('exp'\\) must be a numeric value representing the future time at which the assertion expires/\n  ) || error.message.match(\n    /'Issued at' claim \\('iat'\\) must be an Integer representing the time that the assertion was issued/\n  ));\n}\nasync function hook(state, request, route, parameters) {\n  const endpoint = request.endpoint.merge(route, parameters);\n  const url = endpoint.url;\n  if (/\\/login\\/oauth\\/access_token$/.test(url)) {\n    return request(endpoint);\n  }\n  if (requiresAppAuth(url.replace(request.endpoint.DEFAULTS.baseUrl, \"\"))) {\n    const { token: token2 } = await getAppAuthentication(state);\n    endpoint.headers.authorization = `bearer ${token2}`;\n    let response;\n    try {\n      response = await request(endpoint);\n    } catch (error) {\n      if (isNotTimeSkewError(error)) {\n        throw error;\n      }\n      if (typeof error.response.headers.date === \"undefined\") {\n        throw error;\n      }\n      const diff = Math.floor(\n        (Date.parse(error.response.headers.date) - Date.parse((/* @__PURE__ */ new Date()).toString())) / 1e3\n      );\n      state.log.warn(error.message);\n      state.log.warn(\n        `[@octokit/auth-app] GitHub API time and system time are different by ${diff} seconds. Retrying request with the difference accounted for.`\n      );\n      const { token: token3 } = await getAppAuthentication({\n        ...state,\n        timeDifference: diff\n      });\n      endpoint.headers.authorization = `bearer ${token3}`;\n      return request(endpoint);\n    }\n    return response;\n  }\n  if (requiresBasicAuth(url)) {\n    const authentication = await state.oauthApp({ type: \"oauth-app\" });\n    endpoint.headers.authorization = authentication.headers.authorization;\n    return request(endpoint);\n  }\n  const { token, createdAt } = await getInstallationAuthentication(\n    state,\n    // @ts-expect-error TBD\n    {},\n    request.defaults({ baseUrl: endpoint.baseUrl })\n  );\n  endpoint.headers.authorization = `token ${token}`;\n  return sendRequestWithRetries(\n    state,\n    request,\n    endpoint,\n    createdAt\n  );\n}\nasync function sendRequestWithRetries(state, request, options, createdAt, retries = 0) {\n  const timeSinceTokenCreationInMs = +/* @__PURE__ */ new Date() - +new Date(createdAt);\n  try {\n    return await request(options);\n  } catch (error) {\n    if (error.status !== 401) {\n      throw error;\n    }\n    if (timeSinceTokenCreationInMs >= FIVE_SECONDS_IN_MS) {\n      if (retries > 0) {\n        error.message = `After ${retries} retries within ${timeSinceTokenCreationInMs / 1e3}s of creating the installation access token, the response remains 401. At this point, the cause may be an authentication problem or a system outage. Please check https://www.githubstatus.com for status information`;\n      }\n      throw error;\n    }\n    ++retries;\n    const awaitTime = retries * 1e3;\n    state.log.warn(\n      `[@octokit/auth-app] Retrying after 401 response to account for token replication delay (retry: ${retries}, wait: ${awaitTime / 1e3}s)`\n    );\n    await new Promise((resolve) => setTimeout(resolve, awaitTime));\n    return sendRequestWithRetries(state, request, options, createdAt, retries);\n  }\n}\n\n// pkg/dist-src/version.js\nvar VERSION = \"7.2.2\";\n\n// pkg/dist-src/index.js\nimport { createOAuthUserAuth } from \"@octokit/auth-oauth-user\";\nfunction createAppAuth(options) {\n  if (!options.appId) {\n    throw new Error(\"[@octokit/auth-app] appId option is required\");\n  }\n  if (!options.privateKey) {\n    throw new Error(\"[@octokit/auth-app] privateKey option is required\");\n  }\n  if (\"installationId\" in options && !options.installationId) {\n    throw new Error(\n      \"[@octokit/auth-app] installationId is set to a falsy value\"\n    );\n  }\n  const log = options.log || {};\n  if (typeof log.warn !== \"function\") {\n    log.warn = console.warn.bind(console);\n  }\n  const request = options.request || defaultRequest.defaults({\n    headers: {\n      \"user-agent\": `octokit-auth-app.js/${VERSION} ${getUserAgent()}`\n    }\n  });\n  const state = Object.assign(\n    {\n      request,\n      cache: getCache()\n    },\n    options,\n    options.installationId ? { installationId: Number(options.installationId) } : {},\n    {\n      log,\n      oauthApp: createOAuthAppAuth({\n        clientType: \"github-app\",\n        clientId: options.clientId || \"\",\n        clientSecret: options.clientSecret || \"\",\n        request\n      })\n    }\n  );\n  return Object.assign(auth.bind(null, state), {\n    hook: hook.bind(null, state)\n  });\n}\nexport {\n  createAppAuth,\n  createOAuthUserAuth\n};\n","// pkg/dist-src/index.js\nimport { getUserAgent } from \"universal-user-agent\";\nimport { request } from \"@octokit/request\";\n\n// pkg/dist-src/auth.js\nimport { createOAuthUserAuth } from \"@octokit/auth-oauth-user\";\nasync function auth(state, authOptions) {\n  if (authOptions.type === \"oauth-app\") {\n    return {\n      type: \"oauth-app\",\n      clientId: state.clientId,\n      clientSecret: state.clientSecret,\n      clientType: state.clientType,\n      headers: {\n        authorization: `basic ${btoa(\n          `${state.clientId}:${state.clientSecret}`\n        )}`\n      }\n    };\n  }\n  if (\"factory\" in authOptions) {\n    const { type, ...options } = {\n      ...authOptions,\n      ...state\n    };\n    return authOptions.factory(options);\n  }\n  const common = {\n    clientId: state.clientId,\n    clientSecret: state.clientSecret,\n    request: state.request,\n    ...authOptions\n  };\n  const userAuth = state.clientType === \"oauth-app\" ? await createOAuthUserAuth({\n    ...common,\n    clientType: state.clientType\n  }) : await createOAuthUserAuth({\n    ...common,\n    clientType: state.clientType\n  });\n  return userAuth();\n}\n\n// pkg/dist-src/hook.js\nimport { requiresBasicAuth } from \"@octokit/auth-oauth-user\";\nasync function hook(state, request2, route, parameters) {\n  let endpoint = request2.endpoint.merge(\n    route,\n    parameters\n  );\n  if (/\\/login\\/(oauth\\/access_token|device\\/code)$/.test(endpoint.url)) {\n    return request2(endpoint);\n  }\n  if (state.clientType === \"github-app\" && !requiresBasicAuth(endpoint.url)) {\n    throw new Error(\n      `[@octokit/auth-oauth-app] GitHub Apps cannot use their client ID/secret for basic authentication for endpoints other than \"/applications/{client_id}/**\". \"${endpoint.method} ${endpoint.url}\" is not supported.`\n    );\n  }\n  const credentials = btoa(`${state.clientId}:${state.clientSecret}`);\n  endpoint.headers.authorization = `basic ${credentials}`;\n  try {\n    return await request2(endpoint);\n  } catch (error) {\n    if (error.status !== 401) throw error;\n    error.message = `[@octokit/auth-oauth-app] \"${endpoint.method} ${endpoint.url}\" does not support clientId/clientSecret basic authentication.`;\n    throw error;\n  }\n}\n\n// pkg/dist-src/version.js\nvar VERSION = \"0.0.0-development\";\n\n// pkg/dist-src/index.js\nimport { createOAuthUserAuth as createOAuthUserAuth2 } from \"@octokit/auth-oauth-user\";\nfunction createOAuthAppAuth(options) {\n  const state = Object.assign(\n    {\n      request: request.defaults({\n        headers: {\n          \"user-agent\": `octokit-auth-oauth-app.js/${VERSION} ${getUserAgent()}`\n        }\n      }),\n      clientType: \"oauth-app\"\n    },\n    options\n  );\n  return Object.assign(auth.bind(null, state), {\n    hook: hook.bind(null, state)\n  });\n}\nexport {\n  createOAuthAppAuth,\n  createOAuthUserAuth2 as createOAuthUserAuth\n};\n","// pkg/dist-src/index.js\nimport { getUserAgent } from \"universal-user-agent\";\nimport { request as octokitRequest } from \"@octokit/request\";\n\n// pkg/dist-src/get-oauth-access-token.js\nimport { createDeviceCode, exchangeDeviceCode } from \"@octokit/oauth-methods\";\nasync function getOAuthAccessToken(state, options) {\n  const cachedAuthentication = getCachedAuthentication(state, options.auth);\n  if (cachedAuthentication) return cachedAuthentication;\n  const { data: verification } = await createDeviceCode({\n    clientType: state.clientType,\n    clientId: state.clientId,\n    request: options.request || state.request,\n    // @ts-expect-error the extra code to make TS happy is not worth it\n    scopes: options.auth.scopes || state.scopes\n  });\n  await state.onVerification(verification);\n  const authentication = await waitForAccessToken(\n    options.request || state.request,\n    state.clientId,\n    state.clientType,\n    verification\n  );\n  state.authentication = authentication;\n  return authentication;\n}\nfunction getCachedAuthentication(state, auth2) {\n  if (auth2.refresh === true) return false;\n  if (!state.authentication) return false;\n  if (state.clientType === \"github-app\") {\n    return state.authentication;\n  }\n  const authentication = state.authentication;\n  const newScope = (\"scopes\" in auth2 && auth2.scopes || state.scopes).join(\n    \" \"\n  );\n  const currentScope = authentication.scopes.join(\" \");\n  return newScope === currentScope ? authentication : false;\n}\nasync function wait(seconds) {\n  await new Promise((resolve) => setTimeout(resolve, seconds * 1e3));\n}\nasync function waitForAccessToken(request, clientId, clientType, verification) {\n  try {\n    const options = {\n      clientId,\n      request,\n      code: verification.device_code\n    };\n    const { authentication } = clientType === \"oauth-app\" ? await exchangeDeviceCode({\n      ...options,\n      clientType: \"oauth-app\"\n    }) : await exchangeDeviceCode({\n      ...options,\n      clientType: \"github-app\"\n    });\n    return {\n      type: \"token\",\n      tokenType: \"oauth\",\n      ...authentication\n    };\n  } catch (error) {\n    if (!error.response) throw error;\n    const errorType = error.response.data.error;\n    if (errorType === \"authorization_pending\") {\n      await wait(verification.interval);\n      return waitForAccessToken(request, clientId, clientType, verification);\n    }\n    if (errorType === \"slow_down\") {\n      await wait(verification.interval + 7);\n      return waitForAccessToken(request, clientId, clientType, verification);\n    }\n    throw error;\n  }\n}\n\n// pkg/dist-src/auth.js\nasync function auth(state, authOptions) {\n  return getOAuthAccessToken(state, {\n    auth: authOptions\n  });\n}\n\n// pkg/dist-src/hook.js\nasync function hook(state, request, route, parameters) {\n  let endpoint = request.endpoint.merge(\n    route,\n    parameters\n  );\n  if (/\\/login\\/(oauth\\/access_token|device\\/code)$/.test(endpoint.url)) {\n    return request(endpoint);\n  }\n  const { token } = await getOAuthAccessToken(state, {\n    request,\n    auth: { type: \"oauth\" }\n  });\n  endpoint.headers.authorization = `token ${token}`;\n  return request(endpoint);\n}\n\n// pkg/dist-src/version.js\nvar VERSION = \"0.0.0-development\";\n\n// pkg/dist-src/index.js\nfunction createOAuthDeviceAuth(options) {\n  const requestWithDefaults = options.request || octokitRequest.defaults({\n    headers: {\n      \"user-agent\": `octokit-auth-oauth-device.js/${VERSION} ${getUserAgent()}`\n    }\n  });\n  const { request = requestWithDefaults, ...otherOptions } = options;\n  const state = options.clientType === \"github-app\" ? {\n    ...otherOptions,\n    clientType: \"github-app\",\n    request\n  } : {\n    ...otherOptions,\n    clientType: \"oauth-app\",\n    request,\n    scopes: options.scopes || []\n  };\n  if (!options.clientId) {\n    throw new Error(\n      '[@octokit/auth-oauth-device] \"clientId\" option must be set (https://github.com/octokit/auth-oauth-device.js#usage)'\n    );\n  }\n  if (!options.onVerification) {\n    throw new Error(\n      '[@octokit/auth-oauth-device] \"onVerification\" option must be a function (https://github.com/octokit/auth-oauth-device.js#usage)'\n    );\n  }\n  return Object.assign(auth.bind(null, state), {\n    hook: hook.bind(null, state)\n  });\n}\nexport {\n  createOAuthDeviceAuth\n};\n","// pkg/dist-src/index.js\nimport { getUserAgent } from \"universal-user-agent\";\nimport { request as octokitRequest } from \"@octokit/request\";\n\n// pkg/dist-src/version.js\nvar VERSION = \"0.0.0-development\";\n\n// pkg/dist-src/get-authentication.js\nimport { createOAuthDeviceAuth } from \"@octokit/auth-oauth-device\";\nimport { exchangeWebFlowCode } from \"@octokit/oauth-methods\";\nasync function getAuthentication(state) {\n  if (\"code\" in state.strategyOptions) {\n    const { authentication } = await exchangeWebFlowCode({\n      clientId: state.clientId,\n      clientSecret: state.clientSecret,\n      clientType: state.clientType,\n      onTokenCreated: state.onTokenCreated,\n      ...state.strategyOptions,\n      request: state.request\n    });\n    return {\n      type: \"token\",\n      tokenType: \"oauth\",\n      ...authentication\n    };\n  }\n  if (\"onVerification\" in state.strategyOptions) {\n    const deviceAuth = createOAuthDeviceAuth({\n      clientType: state.clientType,\n      clientId: state.clientId,\n      onTokenCreated: state.onTokenCreated,\n      ...state.strategyOptions,\n      request: state.request\n    });\n    const authentication = await deviceAuth({\n      type: \"oauth\"\n    });\n    return {\n      clientSecret: state.clientSecret,\n      ...authentication\n    };\n  }\n  if (\"token\" in state.strategyOptions) {\n    return {\n      type: \"token\",\n      tokenType: \"oauth\",\n      clientId: state.clientId,\n      clientSecret: state.clientSecret,\n      clientType: state.clientType,\n      onTokenCreated: state.onTokenCreated,\n      ...state.strategyOptions\n    };\n  }\n  throw new Error(\"[@octokit/auth-oauth-user] Invalid strategy options\");\n}\n\n// pkg/dist-src/auth.js\nimport {\n  checkToken,\n  deleteAuthorization,\n  deleteToken,\n  refreshToken,\n  resetToken\n} from \"@octokit/oauth-methods\";\nasync function auth(state, options = {}) {\n  if (!state.authentication) {\n    state.authentication = state.clientType === \"oauth-app\" ? await getAuthentication(state) : await getAuthentication(state);\n  }\n  if (state.authentication.invalid) {\n    throw new Error(\"[@octokit/auth-oauth-user] Token is invalid\");\n  }\n  const currentAuthentication = state.authentication;\n  if (\"expiresAt\" in currentAuthentication) {\n    if (options.type === \"refresh\" || new Date(currentAuthentication.expiresAt) < /* @__PURE__ */ new Date()) {\n      const { authentication } = await refreshToken({\n        clientType: \"github-app\",\n        clientId: state.clientId,\n        clientSecret: state.clientSecret,\n        refreshToken: currentAuthentication.refreshToken,\n        request: state.request\n      });\n      state.authentication = {\n        tokenType: \"oauth\",\n        type: \"token\",\n        ...authentication\n      };\n    }\n  }\n  if (options.type === \"refresh\") {\n    if (state.clientType === \"oauth-app\") {\n      throw new Error(\n        \"[@octokit/auth-oauth-user] OAuth Apps do not support expiring tokens\"\n      );\n    }\n    if (!currentAuthentication.hasOwnProperty(\"expiresAt\")) {\n      throw new Error(\"[@octokit/auth-oauth-user] Refresh token missing\");\n    }\n    await state.onTokenCreated?.(state.authentication, {\n      type: options.type\n    });\n  }\n  if (options.type === \"check\" || options.type === \"reset\") {\n    const method = options.type === \"check\" ? checkToken : resetToken;\n    try {\n      const { authentication } = await method({\n        // @ts-expect-error making TS happy would require unnecessary code so no\n        clientType: state.clientType,\n        clientId: state.clientId,\n        clientSecret: state.clientSecret,\n        token: state.authentication.token,\n        request: state.request\n      });\n      state.authentication = {\n        tokenType: \"oauth\",\n        type: \"token\",\n        // @ts-expect-error TBD\n        ...authentication\n      };\n      if (options.type === \"reset\") {\n        await state.onTokenCreated?.(state.authentication, {\n          type: options.type\n        });\n      }\n      return state.authentication;\n    } catch (error) {\n      if (error.status === 404) {\n        error.message = \"[@octokit/auth-oauth-user] Token is invalid\";\n        state.authentication.invalid = true;\n      }\n      throw error;\n    }\n  }\n  if (options.type === \"delete\" || options.type === \"deleteAuthorization\") {\n    const method = options.type === \"delete\" ? deleteToken : deleteAuthorization;\n    try {\n      await method({\n        // @ts-expect-error making TS happy would require unnecessary code so no\n        clientType: state.clientType,\n        clientId: state.clientId,\n        clientSecret: state.clientSecret,\n        token: state.authentication.token,\n        request: state.request\n      });\n    } catch (error) {\n      if (error.status !== 404) throw error;\n    }\n    state.authentication.invalid = true;\n    return state.authentication;\n  }\n  return state.authentication;\n}\n\n// pkg/dist-src/requires-basic-auth.js\nvar ROUTES_REQUIRING_BASIC_AUTH = /\\/applications\\/[^/]+\\/(token|grant)s?/;\nfunction requiresBasicAuth(url) {\n  return url && ROUTES_REQUIRING_BASIC_AUTH.test(url);\n}\n\n// pkg/dist-src/hook.js\nasync function hook(state, request, route, parameters = {}) {\n  const endpoint = request.endpoint.merge(\n    route,\n    parameters\n  );\n  if (/\\/login\\/(oauth\\/access_token|device\\/code)$/.test(endpoint.url)) {\n    return request(endpoint);\n  }\n  if (requiresBasicAuth(endpoint.url)) {\n    const credentials = btoa(`${state.clientId}:${state.clientSecret}`);\n    endpoint.headers.authorization = `basic ${credentials}`;\n    return request(endpoint);\n  }\n  const { token } = state.clientType === \"oauth-app\" ? await auth({ ...state, request }) : await auth({ ...state, request });\n  endpoint.headers.authorization = \"token \" + token;\n  return request(endpoint);\n}\n\n// pkg/dist-src/index.js\nfunction createOAuthUserAuth({\n  clientId,\n  clientSecret,\n  clientType = \"oauth-app\",\n  request = octokitRequest.defaults({\n    headers: {\n      \"user-agent\": `octokit-auth-oauth-app.js/${VERSION} ${getUserAgent()}`\n    }\n  }),\n  onTokenCreated,\n  ...strategyOptions\n}) {\n  const state = Object.assign({\n    clientType,\n    clientId,\n    clientSecret,\n    onTokenCreated,\n    strategyOptions,\n    request\n  });\n  return Object.assign(auth.bind(null, state), {\n    // @ts-expect-error not worth the extra code needed to appease TS\n    hook: hook.bind(null, state)\n  });\n}\ncreateOAuthUserAuth.VERSION = VERSION;\nexport {\n  createOAuthUserAuth,\n  requiresBasicAuth\n};\n","// pkg/dist-src/is-jwt.js\nvar b64url = \"(?:[a-zA-Z0-9_-]+)\";\nvar sep = \"\\\\.\";\nvar jwtRE = new RegExp(`^${b64url}${sep}${b64url}${sep}${b64url}$`);\nvar isJWT = jwtRE.test.bind(jwtRE);\n\n// pkg/dist-src/auth.js\nasync function auth(token) {\n  const isApp = isJWT(token);\n  const isInstallation = token.startsWith(\"v1.\") || token.startsWith(\"ghs_\");\n  const isUserToServer = token.startsWith(\"ghu_\");\n  const tokenType = isApp ? \"app\" : isInstallation ? \"installation\" : isUserToServer ? \"user-to-server\" : \"oauth\";\n  return {\n    type: \"token\",\n    token,\n    tokenType\n  };\n}\n\n// pkg/dist-src/with-authorization-prefix.js\nfunction withAuthorizationPrefix(token) {\n  if (token.split(/\\./).length === 3) {\n    return `bearer ${token}`;\n  }\n  return `token ${token}`;\n}\n\n// pkg/dist-src/hook.js\nasync function hook(token, request, route, parameters) {\n  const endpoint = request.endpoint.merge(\n    route,\n    parameters\n  );\n  endpoint.headers.authorization = withAuthorizationPrefix(token);\n  return request(endpoint);\n}\n\n// pkg/dist-src/index.js\nvar createTokenAuth = function createTokenAuth2(token) {\n  if (!token) {\n    throw new Error(\"[@octokit/auth-token] No token passed to createTokenAuth\");\n  }\n  if (typeof token !== \"string\") {\n    throw new Error(\n      \"[@octokit/auth-token] Token passed to createTokenAuth is not a string\"\n    );\n  }\n  token = token.replace(/^(token|bearer) +/i, \"\");\n  return Object.assign(auth.bind(null, token), {\n    hook: hook.bind(null, token)\n  });\n};\nexport {\n  createTokenAuth\n};\n","// pkg/dist-src/auth.js\nasync function auth(reason) {\n  return {\n    type: \"unauthenticated\",\n    reason\n  };\n}\n\n// pkg/dist-src/is-rate-limit-error.js\nfunction isRateLimitError(error) {\n  if (error.status !== 403) {\n    return false;\n  }\n  if (!error.response) {\n    return false;\n  }\n  return error.response.headers[\"x-ratelimit-remaining\"] === \"0\";\n}\n\n// pkg/dist-src/is-abuse-limit-error.js\nvar REGEX_ABUSE_LIMIT_MESSAGE = /\\babuse\\b/i;\nfunction isAbuseLimitError(error) {\n  if (error.status !== 403) {\n    return false;\n  }\n  return REGEX_ABUSE_LIMIT_MESSAGE.test(error.message);\n}\n\n// pkg/dist-src/hook.js\nasync function hook(reason, request, route, parameters) {\n  const endpoint = request.endpoint.merge(\n    route,\n    parameters\n  );\n  return request(endpoint).catch((error) => {\n    if (error.status === 404) {\n      error.message = `Not found. May be due to lack of authentication. Reason: ${reason}`;\n      throw error;\n    }\n    if (isRateLimitError(error)) {\n      error.message = `API rate limit exceeded. This maybe caused by the lack of authentication. Reason: ${reason}`;\n      throw error;\n    }\n    if (isAbuseLimitError(error)) {\n      error.message = `You have triggered an abuse detection mechanism. This maybe caused by the lack of authentication. Reason: ${reason}`;\n      throw error;\n    }\n    if (error.status === 401) {\n      error.message = `Unauthorized. \"${endpoint.method} ${endpoint.url}\" failed most likely due to lack of authentication. Reason: ${reason}`;\n      throw error;\n    }\n    if (error.status >= 400 && error.status < 500) {\n      error.message = error.message.replace(\n        /\\.?$/,\n        `. May be caused by lack of authentication (${reason}).`\n      );\n    }\n    throw error;\n  });\n}\n\n// pkg/dist-src/index.js\nvar createUnauthenticatedAuth = function createUnauthenticatedAuth2(options) {\n  if (!options || !options.reason) {\n    throw new Error(\n      \"[@octokit/auth-unauthenticated] No reason passed to createUnauthenticatedAuth\"\n    );\n  }\n  return Object.assign(auth.bind(null, options.reason), {\n    hook: hook.bind(null, options.reason)\n  });\n};\nexport {\n  createUnauthenticatedAuth\n};\n","import { getUserAgent } from \"universal-user-agent\";\nimport Hook from \"before-after-hook\";\nimport { request } from \"@octokit/request\";\nimport { withCustomRequest } from \"@octokit/graphql\";\nimport { createTokenAuth } from \"@octokit/auth-token\";\nimport { VERSION } from \"./version.js\";\nconst noop = () => {\n};\nconst consoleWarn = console.warn.bind(console);\nconst consoleError = console.error.bind(console);\nfunction createLogger(logger = {}) {\n  if (typeof logger.debug !== \"function\") {\n    logger.debug = noop;\n  }\n  if (typeof logger.info !== \"function\") {\n    logger.info = noop;\n  }\n  if (typeof logger.warn !== \"function\") {\n    logger.warn = consoleWarn;\n  }\n  if (typeof logger.error !== \"function\") {\n    logger.error = consoleError;\n  }\n  return logger;\n}\nconst userAgentTrail = `octokit-core.js/${VERSION} ${getUserAgent()}`;\nclass Octokit {\n  static VERSION = VERSION;\n  static defaults(defaults) {\n    const OctokitWithDefaults = class extends this {\n      constructor(...args) {\n        const options = args[0] || {};\n        if (typeof defaults === \"function\") {\n          super(defaults(options));\n          return;\n        }\n        super(\n          Object.assign(\n            {},\n            defaults,\n            options,\n            options.userAgent && defaults.userAgent ? {\n              userAgent: `${options.userAgent} ${defaults.userAgent}`\n            } : null\n          )\n        );\n      }\n    };\n    return OctokitWithDefaults;\n  }\n  static plugins = [];\n  /**\n   * Attach a plugin (or many) to your Octokit instance.\n   *\n   * @example\n   * const API = Octokit.plugin(plugin1, plugin2, plugin3, ...)\n   */\n  static plugin(...newPlugins) {\n    const currentPlugins = this.plugins;\n    const NewOctokit = class extends this {\n      static plugins = currentPlugins.concat(\n        newPlugins.filter((plugin) => !currentPlugins.includes(plugin))\n      );\n    };\n    return NewOctokit;\n  }\n  constructor(options = {}) {\n    const hook = new Hook.Collection();\n    const requestDefaults = {\n      baseUrl: request.endpoint.DEFAULTS.baseUrl,\n      headers: {},\n      request: Object.assign({}, options.request, {\n        // @ts-ignore internal usage only, no need to type\n        hook: hook.bind(null, \"request\")\n      }),\n      mediaType: {\n        previews: [],\n        format: \"\"\n      }\n    };\n    requestDefaults.headers[\"user-agent\"] = options.userAgent ? `${options.userAgent} ${userAgentTrail}` : userAgentTrail;\n    if (options.baseUrl) {\n      requestDefaults.baseUrl = options.baseUrl;\n    }\n    if (options.previews) {\n      requestDefaults.mediaType.previews = options.previews;\n    }\n    if (options.timeZone) {\n      requestDefaults.headers[\"time-zone\"] = options.timeZone;\n    }\n    this.request = request.defaults(requestDefaults);\n    this.graphql = withCustomRequest(this.request).defaults(requestDefaults);\n    this.log = createLogger(options.log);\n    this.hook = hook;\n    if (!options.authStrategy) {\n      if (!options.auth) {\n        this.auth = async () => ({\n          type: \"unauthenticated\"\n        });\n      } else {\n        const auth = createTokenAuth(options.auth);\n        hook.wrap(\"request\", auth.hook);\n        this.auth = auth;\n      }\n    } else {\n      const { authStrategy, ...otherOptions } = options;\n      const auth = authStrategy(\n        Object.assign(\n          {\n            request: this.request,\n            log: this.log,\n            // we pass the current octokit instance as well as its constructor options\n            // to allow for authentication strategies that return a new octokit instance\n            // that shares the same internal state as the current one. The original\n            // requirement for this was the \"event-octokit\" authentication strategy\n            // of https://github.com/probot/octokit-auth-probot.\n            octokit: this,\n            octokitOptions: otherOptions\n          },\n          options.auth\n        )\n      );\n      hook.wrap(\"request\", auth.hook);\n      this.auth = auth;\n    }\n    const classConstructor = this.constructor;\n    for (let i = 0; i < classConstructor.plugins.length; ++i) {\n      Object.assign(this, classConstructor.plugins[i](this, options));\n    }\n  }\n  // assigned during constructor\n  request;\n  graphql;\n  log;\n  hook;\n  // TODO: type `octokit.auth` based on passed options.authStrategy\n  auth;\n}\nexport {\n  Octokit\n};\n","const VERSION = \"6.1.6\";\nexport {\n  VERSION\n};\n","// pkg/dist-src/defaults.js\nimport { getUserAgent } from \"universal-user-agent\";\n\n// pkg/dist-src/version.js\nvar VERSION = \"0.0.0-development\";\n\n// pkg/dist-src/defaults.js\nvar userAgent = `octokit-endpoint.js/${VERSION} ${getUserAgent()}`;\nvar DEFAULTS = {\n  method: \"GET\",\n  baseUrl: \"https://api.github.com\",\n  headers: {\n    accept: \"application/vnd.github.v3+json\",\n    \"user-agent\": userAgent\n  },\n  mediaType: {\n    format: \"\"\n  }\n};\n\n// pkg/dist-src/util/lowercase-keys.js\nfunction lowercaseKeys(object) {\n  if (!object) {\n    return {};\n  }\n  return Object.keys(object).reduce((newObj, key) => {\n    newObj[key.toLowerCase()] = object[key];\n    return newObj;\n  }, {});\n}\n\n// pkg/dist-src/util/is-plain-object.js\nfunction isPlainObject(value) {\n  if (typeof value !== \"object\" || value === null) return false;\n  if (Object.prototype.toString.call(value) !== \"[object Object]\") return false;\n  const proto = Object.getPrototypeOf(value);\n  if (proto === null) return true;\n  const Ctor = Object.prototype.hasOwnProperty.call(proto, \"constructor\") && proto.constructor;\n  return typeof Ctor === \"function\" && Ctor instanceof Ctor && Function.prototype.call(Ctor) === Function.prototype.call(value);\n}\n\n// pkg/dist-src/util/merge-deep.js\nfunction mergeDeep(defaults, options) {\n  const result = Object.assign({}, defaults);\n  Object.keys(options).forEach((key) => {\n    if (isPlainObject(options[key])) {\n      if (!(key in defaults)) Object.assign(result, { [key]: options[key] });\n      else result[key] = mergeDeep(defaults[key], options[key]);\n    } else {\n      Object.assign(result, { [key]: options[key] });\n    }\n  });\n  return result;\n}\n\n// pkg/dist-src/util/remove-undefined-properties.js\nfunction removeUndefinedProperties(obj) {\n  for (const key in obj) {\n    if (obj[key] === void 0) {\n      delete obj[key];\n    }\n  }\n  return obj;\n}\n\n// pkg/dist-src/merge.js\nfunction merge(defaults, route, options) {\n  if (typeof route === \"string\") {\n    let [method, url] = route.split(\" \");\n    options = Object.assign(url ? { method, url } : { url: method }, options);\n  } else {\n    options = Object.assign({}, route);\n  }\n  options.headers = lowercaseKeys(options.headers);\n  removeUndefinedProperties(options);\n  removeUndefinedProperties(options.headers);\n  const mergedOptions = mergeDeep(defaults || {}, options);\n  if (options.url === \"/graphql\") {\n    if (defaults && defaults.mediaType.previews?.length) {\n      mergedOptions.mediaType.previews = defaults.mediaType.previews.filter(\n        (preview) => !mergedOptions.mediaType.previews.includes(preview)\n      ).concat(mergedOptions.mediaType.previews);\n    }\n    mergedOptions.mediaType.previews = (mergedOptions.mediaType.previews || []).map((preview) => preview.replace(/-preview/, \"\"));\n  }\n  return mergedOptions;\n}\n\n// pkg/dist-src/util/add-query-parameters.js\nfunction addQueryParameters(url, parameters) {\n  const separator = /\\?/.test(url) ? \"&\" : \"?\";\n  const names = Object.keys(parameters);\n  if (names.length === 0) {\n    return url;\n  }\n  return url + separator + names.map((name) => {\n    if (name === \"q\") {\n      return \"q=\" + parameters.q.split(\"+\").map(encodeURIComponent).join(\"+\");\n    }\n    return `${name}=${encodeURIComponent(parameters[name])}`;\n  }).join(\"&\");\n}\n\n// pkg/dist-src/util/extract-url-variable-names.js\nvar urlVariableRegex = /\\{[^{}}]+\\}/g;\nfunction removeNonChars(variableName) {\n  return variableName.replace(/(?:^\\W+)|(?:(?<!\\W)\\W+$)/g, \"\").split(/,/);\n}\nfunction extractUrlVariableNames(url) {\n  const matches = url.match(urlVariableRegex);\n  if (!matches) {\n    return [];\n  }\n  return matches.map(removeNonChars).reduce((a, b) => a.concat(b), []);\n}\n\n// pkg/dist-src/util/omit.js\nfunction omit(object, keysToOmit) {\n  const result = { __proto__: null };\n  for (const key of Object.keys(object)) {\n    if (keysToOmit.indexOf(key) === -1) {\n      result[key] = object[key];\n    }\n  }\n  return result;\n}\n\n// pkg/dist-src/util/url-template.js\nfunction encodeReserved(str) {\n  return str.split(/(%[0-9A-Fa-f]{2})/g).map(function(part) {\n    if (!/%[0-9A-Fa-f]/.test(part)) {\n      part = encodeURI(part).replace(/%5B/g, \"[\").replace(/%5D/g, \"]\");\n    }\n    return part;\n  }).join(\"\");\n}\nfunction encodeUnreserved(str) {\n  return encodeURIComponent(str).replace(/[!'()*]/g, function(c) {\n    return \"%\" + c.charCodeAt(0).toString(16).toUpperCase();\n  });\n}\nfunction encodeValue(operator, value, key) {\n  value = operator === \"+\" || operator === \"#\" ? encodeReserved(value) : encodeUnreserved(value);\n  if (key) {\n    return encodeUnreserved(key) + \"=\" + value;\n  } else {\n    return value;\n  }\n}\nfunction isDefined(value) {\n  return value !== void 0 && value !== null;\n}\nfunction isKeyOperator(operator) {\n  return operator === \";\" || operator === \"&\" || operator === \"?\";\n}\nfunction getValues(context, operator, key, modifier) {\n  var value = context[key], result = [];\n  if (isDefined(value) && value !== \"\") {\n    if (typeof value === \"string\" || typeof value === \"number\" || typeof value === \"boolean\") {\n      value = value.toString();\n      if (modifier && modifier !== \"*\") {\n        value = value.substring(0, parseInt(modifier, 10));\n      }\n      result.push(\n        encodeValue(operator, value, isKeyOperator(operator) ? key : \"\")\n      );\n    } else {\n      if (modifier === \"*\") {\n        if (Array.isArray(value)) {\n          value.filter(isDefined).forEach(function(value2) {\n            result.push(\n              encodeValue(operator, value2, isKeyOperator(operator) ? key : \"\")\n            );\n          });\n        } else {\n          Object.keys(value).forEach(function(k) {\n            if (isDefined(value[k])) {\n              result.push(encodeValue(operator, value[k], k));\n            }\n          });\n        }\n      } else {\n        const tmp = [];\n        if (Array.isArray(value)) {\n          value.filter(isDefined).forEach(function(value2) {\n            tmp.push(encodeValue(operator, value2));\n          });\n        } else {\n          Object.keys(value).forEach(function(k) {\n            if (isDefined(value[k])) {\n              tmp.push(encodeUnreserved(k));\n              tmp.push(encodeValue(operator, value[k].toString()));\n            }\n          });\n        }\n        if (isKeyOperator(operator)) {\n          result.push(encodeUnreserved(key) + \"=\" + tmp.join(\",\"));\n        } else if (tmp.length !== 0) {\n          result.push(tmp.join(\",\"));\n        }\n      }\n    }\n  } else {\n    if (operator === \";\") {\n      if (isDefined(value)) {\n        result.push(encodeUnreserved(key));\n      }\n    } else if (value === \"\" && (operator === \"&\" || operator === \"?\")) {\n      result.push(encodeUnreserved(key) + \"=\");\n    } else if (value === \"\") {\n      result.push(\"\");\n    }\n  }\n  return result;\n}\nfunction parseUrl(template) {\n  return {\n    expand: expand.bind(null, template)\n  };\n}\nfunction expand(template, context) {\n  var operators = [\"+\", \"#\", \".\", \"/\", \";\", \"?\", \"&\"];\n  template = template.replace(\n    /\\{([^\\{\\}]+)\\}|([^\\{\\}]+)/g,\n    function(_, expression, literal) {\n      if (expression) {\n        let operator = \"\";\n        const values = [];\n        if (operators.indexOf(expression.charAt(0)) !== -1) {\n          operator = expression.charAt(0);\n          expression = expression.substr(1);\n        }\n        expression.split(/,/g).forEach(function(variable) {\n          var tmp = /([^:\\*]*)(?::(\\d+)|(\\*))?/.exec(variable);\n          values.push(getValues(context, operator, tmp[1], tmp[2] || tmp[3]));\n        });\n        if (operator && operator !== \"+\") {\n          var separator = \",\";\n          if (operator === \"?\") {\n            separator = \"&\";\n          } else if (operator !== \"#\") {\n            separator = operator;\n          }\n          return (values.length !== 0 ? operator : \"\") + values.join(separator);\n        } else {\n          return values.join(\",\");\n        }\n      } else {\n        return encodeReserved(literal);\n      }\n    }\n  );\n  if (template === \"/\") {\n    return template;\n  } else {\n    return template.replace(/\\/$/, \"\");\n  }\n}\n\n// pkg/dist-src/parse.js\nfunction parse(options) {\n  let method = options.method.toUpperCase();\n  let url = (options.url || \"/\").replace(/:([a-z]\\w+)/g, \"{$1}\");\n  let headers = Object.assign({}, options.headers);\n  let body;\n  let parameters = omit(options, [\n    \"method\",\n    \"baseUrl\",\n    \"url\",\n    \"headers\",\n    \"request\",\n    \"mediaType\"\n  ]);\n  const urlVariableNames = extractUrlVariableNames(url);\n  url = parseUrl(url).expand(parameters);\n  if (!/^http/.test(url)) {\n    url = options.baseUrl + url;\n  }\n  const omittedParameters = Object.keys(options).filter((option) => urlVariableNames.includes(option)).concat(\"baseUrl\");\n  const remainingParameters = omit(parameters, omittedParameters);\n  const isBinaryRequest = /application\\/octet-stream/i.test(headers.accept);\n  if (!isBinaryRequest) {\n    if (options.mediaType.format) {\n      headers.accept = headers.accept.split(/,/).map(\n        (format) => format.replace(\n          /application\\/vnd(\\.\\w+)(\\.v3)?(\\.\\w+)?(\\+json)?$/,\n          `application/vnd$1$2.${options.mediaType.format}`\n        )\n      ).join(\",\");\n    }\n    if (url.endsWith(\"/graphql\")) {\n      if (options.mediaType.previews?.length) {\n        const previewsFromAcceptHeader = headers.accept.match(/(?<![\\w-])[\\w-]+(?=-preview)/g) || [];\n        headers.accept = previewsFromAcceptHeader.concat(options.mediaType.previews).map((preview) => {\n          const format = options.mediaType.format ? `.${options.mediaType.format}` : \"+json\";\n          return `application/vnd.github.${preview}-preview${format}`;\n        }).join(\",\");\n      }\n    }\n  }\n  if ([\"GET\", \"HEAD\"].includes(method)) {\n    url = addQueryParameters(url, remainingParameters);\n  } else {\n    if (\"data\" in remainingParameters) {\n      body = remainingParameters.data;\n    } else {\n      if (Object.keys(remainingParameters).length) {\n        body = remainingParameters;\n      }\n    }\n  }\n  if (!headers[\"content-type\"] && typeof body !== \"undefined\") {\n    headers[\"content-type\"] = \"application/json; charset=utf-8\";\n  }\n  if ([\"PATCH\", \"PUT\"].includes(method) && typeof body === \"undefined\") {\n    body = \"\";\n  }\n  return Object.assign(\n    { method, url, headers },\n    typeof body !== \"undefined\" ? { body } : null,\n    options.request ? { request: options.request } : null\n  );\n}\n\n// pkg/dist-src/endpoint-with-defaults.js\nfunction endpointWithDefaults(defaults, route, options) {\n  return parse(merge(defaults, route, options));\n}\n\n// pkg/dist-src/with-defaults.js\nfunction withDefaults(oldDefaults, newDefaults) {\n  const DEFAULTS2 = merge(oldDefaults, newDefaults);\n  const endpoint2 = endpointWithDefaults.bind(null, DEFAULTS2);\n  return Object.assign(endpoint2, {\n    DEFAULTS: DEFAULTS2,\n    defaults: withDefaults.bind(null, DEFAULTS2),\n    merge: merge.bind(null, DEFAULTS2),\n    parse\n  });\n}\n\n// pkg/dist-src/index.js\nvar endpoint = withDefaults(null, DEFAULTS);\nexport {\n  endpoint\n};\n","// pkg/dist-src/index.js\nimport { request } from \"@octokit/request\";\nimport { getUserAgent } from \"universal-user-agent\";\n\n// pkg/dist-src/version.js\nvar VERSION = \"0.0.0-development\";\n\n// pkg/dist-src/with-defaults.js\nimport { request as Request2 } from \"@octokit/request\";\n\n// pkg/dist-src/graphql.js\nimport { request as Request } from \"@octokit/request\";\n\n// pkg/dist-src/error.js\nfunction _buildMessageForResponseErrors(data) {\n  return `Request failed due to following response errors:\n` + data.errors.map((e) => ` - ${e.message}`).join(\"\\n\");\n}\nvar GraphqlResponseError = class extends Error {\n  constructor(request2, headers, response) {\n    super(_buildMessageForResponseErrors(response));\n    this.request = request2;\n    this.headers = headers;\n    this.response = response;\n    this.errors = response.errors;\n    this.data = response.data;\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n  }\n  name = \"GraphqlResponseError\";\n  errors;\n  data;\n};\n\n// pkg/dist-src/graphql.js\nvar NON_VARIABLE_OPTIONS = [\n  \"method\",\n  \"baseUrl\",\n  \"url\",\n  \"headers\",\n  \"request\",\n  \"query\",\n  \"mediaType\",\n  \"operationName\"\n];\nvar FORBIDDEN_VARIABLE_OPTIONS = [\"query\", \"method\", \"url\"];\nvar GHES_V3_SUFFIX_REGEX = /\\/api\\/v3\\/?$/;\nfunction graphql(request2, query, options) {\n  if (options) {\n    if (typeof query === \"string\" && \"query\" in options) {\n      return Promise.reject(\n        new Error(`[@octokit/graphql] \"query\" cannot be used as variable name`)\n      );\n    }\n    for (const key in options) {\n      if (!FORBIDDEN_VARIABLE_OPTIONS.includes(key)) continue;\n      return Promise.reject(\n        new Error(\n          `[@octokit/graphql] \"${key}\" cannot be used as variable name`\n        )\n      );\n    }\n  }\n  const parsedOptions = typeof query === \"string\" ? Object.assign({ query }, options) : query;\n  const requestOptions = Object.keys(\n    parsedOptions\n  ).reduce((result, key) => {\n    if (NON_VARIABLE_OPTIONS.includes(key)) {\n      result[key] = parsedOptions[key];\n      return result;\n    }\n    if (!result.variables) {\n      result.variables = {};\n    }\n    result.variables[key] = parsedOptions[key];\n    return result;\n  }, {});\n  const baseUrl = parsedOptions.baseUrl || request2.endpoint.DEFAULTS.baseUrl;\n  if (GHES_V3_SUFFIX_REGEX.test(baseUrl)) {\n    requestOptions.url = baseUrl.replace(GHES_V3_SUFFIX_REGEX, \"/api/graphql\");\n  }\n  return request2(requestOptions).then((response) => {\n    if (response.data.errors) {\n      const headers = {};\n      for (const key of Object.keys(response.headers)) {\n        headers[key] = response.headers[key];\n      }\n      throw new GraphqlResponseError(\n        requestOptions,\n        headers,\n        response.data\n      );\n    }\n    return response.data.data;\n  });\n}\n\n// pkg/dist-src/with-defaults.js\nfunction withDefaults(request2, newDefaults) {\n  const newRequest = request2.defaults(newDefaults);\n  const newApi = (query, options) => {\n    return graphql(newRequest, query, options);\n  };\n  return Object.assign(newApi, {\n    defaults: withDefaults.bind(null, newRequest),\n    endpoint: newRequest.endpoint\n  });\n}\n\n// pkg/dist-src/index.js\nvar graphql2 = withDefaults(request, {\n  headers: {\n    \"user-agent\": `octokit-graphql.js/${VERSION} ${getUserAgent()}`\n  },\n  method: \"POST\",\n  url: \"/graphql\"\n});\nfunction withCustomRequest(customRequest) {\n  return withDefaults(customRequest, {\n    method: \"POST\",\n    url: \"/graphql\"\n  });\n}\nexport {\n  GraphqlResponseError,\n  graphql2 as graphql,\n  withCustomRequest\n};\n","// pkg/dist-src/index.js\nimport { createOAuthAppAuth } from \"@octokit/auth-oauth-app\";\n\n// pkg/dist-src/version.js\nvar VERSION = \"7.1.6\";\n\n// pkg/dist-src/add-event-handler.js\nfunction addEventHandler(state, eventName, eventHandler) {\n  if (Array.isArray(eventName)) {\n    for (const singleEventName of eventName) {\n      addEventHandler(state, singleEventName, eventHandler);\n    }\n    return;\n  }\n  if (!state.eventHandlers[eventName]) {\n    state.eventHandlers[eventName] = [];\n  }\n  state.eventHandlers[eventName].push(eventHandler);\n}\n\n// pkg/dist-src/oauth-app-octokit.js\nimport { Octokit } from \"@octokit/core\";\nimport { getUserAgent } from \"universal-user-agent\";\nvar OAuthAppOctokit = Octokit.defaults({\n  userAgent: `octokit-oauth-app.js/${VERSION} ${getUserAgent()}`\n});\n\n// pkg/dist-src/methods/get-user-octokit.js\nimport { createOAuthUserAuth } from \"@octokit/auth-oauth-user\";\n\n// pkg/dist-src/emit-event.js\nasync function emitEvent(state, context) {\n  const { name, action } = context;\n  if (state.eventHandlers[`${name}.${action}`]) {\n    for (const eventHandler of state.eventHandlers[`${name}.${action}`]) {\n      await eventHandler(context);\n    }\n  }\n  if (state.eventHandlers[name]) {\n    for (const eventHandler of state.eventHandlers[name]) {\n      await eventHandler(context);\n    }\n  }\n}\n\n// pkg/dist-src/methods/get-user-octokit.js\nasync function getUserOctokitWithState(state, options) {\n  return state.octokit.auth({\n    type: \"oauth-user\",\n    ...options,\n    async factory(options2) {\n      const octokit = new state.Octokit({\n        authStrategy: createOAuthUserAuth,\n        auth: options2\n      });\n      const authentication = await octokit.auth({\n        type: \"get\"\n      });\n      await emitEvent(state, {\n        name: \"token\",\n        action: \"created\",\n        token: authentication.token,\n        scopes: authentication.scopes,\n        authentication,\n        octokit\n      });\n      return octokit;\n    }\n  });\n}\n\n// pkg/dist-src/methods/get-web-flow-authorization-url.js\nimport * as OAuthMethods from \"@octokit/oauth-methods\";\nfunction getWebFlowAuthorizationUrlWithState(state, options) {\n  const optionsWithDefaults = {\n    clientId: state.clientId,\n    request: state.octokit.request,\n    ...options,\n    allowSignup: state.allowSignup ?? options.allowSignup,\n    redirectUrl: options.redirectUrl ?? state.redirectUrl,\n    scopes: options.scopes ?? state.defaultScopes\n  };\n  return OAuthMethods.getWebFlowAuthorizationUrl({\n    clientType: state.clientType,\n    ...optionsWithDefaults\n  });\n}\n\n// pkg/dist-src/methods/create-token.js\nimport * as OAuthAppAuth from \"@octokit/auth-oauth-app\";\nasync function createTokenWithState(state, options) {\n  const authentication = await state.octokit.auth({\n    type: \"oauth-user\",\n    ...options\n  });\n  await emitEvent(state, {\n    name: \"token\",\n    action: \"created\",\n    token: authentication.token,\n    scopes: authentication.scopes,\n    authentication,\n    octokit: new state.Octokit({\n      authStrategy: OAuthAppAuth.createOAuthUserAuth,\n      auth: {\n        clientType: state.clientType,\n        clientId: state.clientId,\n        clientSecret: state.clientSecret,\n        token: authentication.token,\n        scopes: authentication.scopes,\n        refreshToken: authentication.refreshToken,\n        expiresAt: authentication.expiresAt,\n        refreshTokenExpiresAt: authentication.refreshTokenExpiresAt\n      }\n    })\n  });\n  return { authentication };\n}\n\n// pkg/dist-src/methods/check-token.js\nimport * as OAuthMethods2 from \"@octokit/oauth-methods\";\nasync function checkTokenWithState(state, options) {\n  const result = await OAuthMethods2.checkToken({\n    // @ts-expect-error not worth the extra code to appease TS\n    clientType: state.clientType,\n    clientId: state.clientId,\n    clientSecret: state.clientSecret,\n    request: state.octokit.request,\n    ...options\n  });\n  Object.assign(result.authentication, { type: \"token\", tokenType: \"oauth\" });\n  return result;\n}\n\n// pkg/dist-src/methods/reset-token.js\nimport * as OAuthMethods3 from \"@octokit/oauth-methods\";\nimport { createOAuthUserAuth as createOAuthUserAuth3 } from \"@octokit/auth-oauth-user\";\nasync function resetTokenWithState(state, options) {\n  const optionsWithDefaults = {\n    clientId: state.clientId,\n    clientSecret: state.clientSecret,\n    request: state.octokit.request,\n    ...options\n  };\n  if (state.clientType === \"oauth-app\") {\n    const response2 = await OAuthMethods3.resetToken({\n      clientType: \"oauth-app\",\n      ...optionsWithDefaults\n    });\n    const authentication2 = Object.assign(response2.authentication, {\n      type: \"token\",\n      tokenType: \"oauth\"\n    });\n    await emitEvent(state, {\n      name: \"token\",\n      action: \"reset\",\n      token: response2.authentication.token,\n      scopes: response2.authentication.scopes || void 0,\n      authentication: authentication2,\n      octokit: new state.Octokit({\n        authStrategy: createOAuthUserAuth3,\n        auth: {\n          clientType: state.clientType,\n          clientId: state.clientId,\n          clientSecret: state.clientSecret,\n          token: response2.authentication.token,\n          scopes: response2.authentication.scopes\n        }\n      })\n    });\n    return { ...response2, authentication: authentication2 };\n  }\n  const response = await OAuthMethods3.resetToken({\n    clientType: \"github-app\",\n    ...optionsWithDefaults\n  });\n  const authentication = Object.assign(response.authentication, {\n    type: \"token\",\n    tokenType: \"oauth\"\n  });\n  await emitEvent(state, {\n    name: \"token\",\n    action: \"reset\",\n    token: response.authentication.token,\n    authentication,\n    octokit: new state.Octokit({\n      authStrategy: createOAuthUserAuth3,\n      auth: {\n        clientType: state.clientType,\n        clientId: state.clientId,\n        clientSecret: state.clientSecret,\n        token: response.authentication.token\n      }\n    })\n  });\n  return { ...response, authentication };\n}\n\n// pkg/dist-src/methods/refresh-token.js\nimport * as OAuthMethods4 from \"@octokit/oauth-methods\";\nimport { createOAuthUserAuth as createOAuthUserAuth4 } from \"@octokit/auth-oauth-user\";\nasync function refreshTokenWithState(state, options) {\n  if (state.clientType === \"oauth-app\") {\n    throw new Error(\n      \"[@octokit/oauth-app] app.refreshToken() is not supported for OAuth Apps\"\n    );\n  }\n  const response = await OAuthMethods4.refreshToken({\n    clientType: \"github-app\",\n    clientId: state.clientId,\n    clientSecret: state.clientSecret,\n    request: state.octokit.request,\n    refreshToken: options.refreshToken\n  });\n  const authentication = Object.assign(response.authentication, {\n    type: \"token\",\n    tokenType: \"oauth\"\n  });\n  await emitEvent(state, {\n    name: \"token\",\n    action: \"refreshed\",\n    token: response.authentication.token,\n    authentication,\n    octokit: new state.Octokit({\n      authStrategy: createOAuthUserAuth4,\n      auth: {\n        clientType: state.clientType,\n        clientId: state.clientId,\n        clientSecret: state.clientSecret,\n        token: response.authentication.token\n      }\n    })\n  });\n  return { ...response, authentication };\n}\n\n// pkg/dist-src/methods/scope-token.js\nimport * as OAuthMethods5 from \"@octokit/oauth-methods\";\nimport { createOAuthUserAuth as createOAuthUserAuth5 } from \"@octokit/auth-oauth-user\";\nasync function scopeTokenWithState(state, options) {\n  if (state.clientType === \"oauth-app\") {\n    throw new Error(\n      \"[@octokit/oauth-app] app.scopeToken() is not supported for OAuth Apps\"\n    );\n  }\n  const response = await OAuthMethods5.scopeToken({\n    clientType: \"github-app\",\n    clientId: state.clientId,\n    clientSecret: state.clientSecret,\n    request: state.octokit.request,\n    ...options\n  });\n  const authentication = Object.assign(response.authentication, {\n    type: \"token\",\n    tokenType: \"oauth\"\n  });\n  await emitEvent(state, {\n    name: \"token\",\n    action: \"scoped\",\n    token: response.authentication.token,\n    authentication,\n    octokit: new state.Octokit({\n      authStrategy: createOAuthUserAuth5,\n      auth: {\n        clientType: state.clientType,\n        clientId: state.clientId,\n        clientSecret: state.clientSecret,\n        token: response.authentication.token\n      }\n    })\n  });\n  return { ...response, authentication };\n}\n\n// pkg/dist-src/methods/delete-token.js\nimport * as OAuthMethods6 from \"@octokit/oauth-methods\";\nimport { createUnauthenticatedAuth } from \"@octokit/auth-unauthenticated\";\nasync function deleteTokenWithState(state, options) {\n  const optionsWithDefaults = {\n    clientId: state.clientId,\n    clientSecret: state.clientSecret,\n    request: state.octokit.request,\n    ...options\n  };\n  const response = state.clientType === \"oauth-app\" ? await OAuthMethods6.deleteToken({\n    clientType: \"oauth-app\",\n    ...optionsWithDefaults\n  }) : (\n    /* v8 ignore next 4 */\n    await OAuthMethods6.deleteToken({\n      clientType: \"github-app\",\n      ...optionsWithDefaults\n    })\n  );\n  await emitEvent(state, {\n    name: \"token\",\n    action: \"deleted\",\n    token: options.token,\n    octokit: new state.Octokit({\n      authStrategy: createUnauthenticatedAuth,\n      auth: {\n        reason: `Handling \"token.deleted\" event. The access for the token has been revoked.`\n      }\n    })\n  });\n  return response;\n}\n\n// pkg/dist-src/methods/delete-authorization.js\nimport * as OAuthMethods7 from \"@octokit/oauth-methods\";\nimport { createUnauthenticatedAuth as createUnauthenticatedAuth2 } from \"@octokit/auth-unauthenticated\";\nasync function deleteAuthorizationWithState(state, options) {\n  const optionsWithDefaults = {\n    clientId: state.clientId,\n    clientSecret: state.clientSecret,\n    request: state.octokit.request,\n    ...options\n  };\n  const response = state.clientType === \"oauth-app\" ? await OAuthMethods7.deleteAuthorization({\n    clientType: \"oauth-app\",\n    ...optionsWithDefaults\n  }) : (\n    /* v8 ignore next 4 */\n    await OAuthMethods7.deleteAuthorization({\n      clientType: \"github-app\",\n      ...optionsWithDefaults\n    })\n  );\n  await emitEvent(state, {\n    name: \"token\",\n    action: \"deleted\",\n    token: options.token,\n    octokit: new state.Octokit({\n      authStrategy: createUnauthenticatedAuth2,\n      auth: {\n        reason: `Handling \"token.deleted\" event. The access for the token has been revoked.`\n      }\n    })\n  });\n  await emitEvent(state, {\n    name: \"authorization\",\n    action: \"deleted\",\n    token: options.token,\n    octokit: new state.Octokit({\n      authStrategy: createUnauthenticatedAuth2,\n      auth: {\n        reason: `Handling \"authorization.deleted\" event. The access for the app has been revoked.`\n      }\n    })\n  });\n  return response;\n}\n\n// pkg/dist-src/middleware/unknown-route-response.js\nfunction unknownRouteResponse(request) {\n  return {\n    status: 404,\n    headers: { \"content-type\": \"application/json\" },\n    text: JSON.stringify({\n      error: `Unknown route: ${request.method} ${request.url}`\n    })\n  };\n}\n\n// pkg/dist-src/middleware/handle-request.js\nasync function handleRequest(app, { pathPrefix = \"/api/github/oauth\" }, request) {\n  let { pathname } = new URL(request.url, \"http://localhost\");\n  if (!pathname.startsWith(`${pathPrefix}/`)) {\n    return void 0;\n  }\n  if (request.method === \"OPTIONS\") {\n    return {\n      status: 200,\n      headers: {\n        \"access-control-allow-origin\": \"*\",\n        \"access-control-allow-methods\": \"*\",\n        \"access-control-allow-headers\": \"Content-Type, User-Agent, Authorization\"\n      }\n    };\n  }\n  pathname = pathname.slice(pathPrefix.length + 1);\n  const route = [request.method, pathname].join(\" \");\n  const routes = {\n    getLogin: `GET login`,\n    getCallback: `GET callback`,\n    createToken: `POST token`,\n    getToken: `GET token`,\n    patchToken: `PATCH token`,\n    patchRefreshToken: `PATCH refresh-token`,\n    scopeToken: `POST token/scoped`,\n    deleteToken: `DELETE token`,\n    deleteGrant: `DELETE grant`\n  };\n  if (!Object.values(routes).includes(route)) {\n    return unknownRouteResponse(request);\n  }\n  let json;\n  try {\n    const text = await request.text();\n    json = text ? JSON.parse(text) : {};\n  } catch (error) {\n    return {\n      status: 400,\n      headers: {\n        \"content-type\": \"application/json\",\n        \"access-control-allow-origin\": \"*\"\n      },\n      text: JSON.stringify({\n        error: \"[@octokit/oauth-app] request error\"\n      })\n    };\n  }\n  const { searchParams } = new URL(request.url, \"http://localhost\");\n  const query = Object.fromEntries(searchParams);\n  const headers = request.headers;\n  try {\n    if (route === routes.getLogin) {\n      const authOptions = {};\n      if (query.state) {\n        Object.assign(authOptions, { state: query.state });\n      }\n      if (query.scopes) {\n        Object.assign(authOptions, { scopes: query.scopes.split(\",\") });\n      }\n      if (query.allowSignup) {\n        Object.assign(authOptions, {\n          allowSignup: query.allowSignup === \"true\"\n        });\n      }\n      if (query.redirectUrl) {\n        Object.assign(authOptions, { redirectUrl: query.redirectUrl });\n      }\n      const { url } = app.getWebFlowAuthorizationUrl(authOptions);\n      return { status: 302, headers: { location: url } };\n    }\n    if (route === routes.getCallback) {\n      if (query.error) {\n        throw new Error(\n          `[@octokit/oauth-app] ${query.error} ${query.error_description}`\n        );\n      }\n      if (!query.code) {\n        throw new Error('[@octokit/oauth-app] \"code\" parameter is required');\n      }\n      const {\n        authentication: { token: token2 }\n      } = await app.createToken({\n        code: query.code\n      });\n      return {\n        status: 200,\n        headers: {\n          \"content-type\": \"text/html\"\n        },\n        text: `<h1>Token created successfully</h1>\n\n<p>Your token is: <strong>${token2}</strong>. Copy it now as it cannot be shown again.</p>`\n      };\n    }\n    if (route === routes.createToken) {\n      const { code, redirectUrl } = json;\n      if (!code) {\n        throw new Error('[@octokit/oauth-app] \"code\" parameter is required');\n      }\n      const result = await app.createToken({\n        code,\n        redirectUrl\n      });\n      delete result.authentication.clientSecret;\n      return {\n        status: 201,\n        headers: {\n          \"content-type\": \"application/json\",\n          \"access-control-allow-origin\": \"*\"\n        },\n        text: JSON.stringify(result)\n      };\n    }\n    if (route === routes.getToken) {\n      const token2 = headers.authorization?.substr(\"token \".length);\n      if (!token2) {\n        throw new Error(\n          '[@octokit/oauth-app] \"Authorization\" header is required'\n        );\n      }\n      const result = await app.checkToken({\n        token: token2\n      });\n      delete result.authentication.clientSecret;\n      return {\n        status: 200,\n        headers: {\n          \"content-type\": \"application/json\",\n          \"access-control-allow-origin\": \"*\"\n        },\n        text: JSON.stringify(result)\n      };\n    }\n    if (route === routes.patchToken) {\n      const token2 = headers.authorization?.substr(\"token \".length);\n      if (!token2) {\n        throw new Error(\n          '[@octokit/oauth-app] \"Authorization\" header is required'\n        );\n      }\n      const result = await app.resetToken({ token: token2 });\n      delete result.authentication.clientSecret;\n      return {\n        status: 200,\n        headers: {\n          \"content-type\": \"application/json\",\n          \"access-control-allow-origin\": \"*\"\n        },\n        text: JSON.stringify(result)\n      };\n    }\n    if (route === routes.patchRefreshToken) {\n      const token2 = headers.authorization?.substr(\"token \".length);\n      if (!token2) {\n        throw new Error(\n          '[@octokit/oauth-app] \"Authorization\" header is required'\n        );\n      }\n      const { refreshToken: refreshToken2 } = json;\n      if (!refreshToken2) {\n        throw new Error(\n          \"[@octokit/oauth-app] refreshToken must be sent in request body\"\n        );\n      }\n      const result = await app.refreshToken({ refreshToken: refreshToken2 });\n      delete result.authentication.clientSecret;\n      return {\n        status: 200,\n        headers: {\n          \"content-type\": \"application/json\",\n          \"access-control-allow-origin\": \"*\"\n        },\n        text: JSON.stringify(result)\n      };\n    }\n    if (route === routes.scopeToken) {\n      const token2 = headers.authorization?.substr(\"token \".length);\n      if (!token2) {\n        throw new Error(\n          '[@octokit/oauth-app] \"Authorization\" header is required'\n        );\n      }\n      const result = await app.scopeToken({\n        token: token2,\n        ...json\n      });\n      delete result.authentication.clientSecret;\n      return {\n        status: 200,\n        headers: {\n          \"content-type\": \"application/json\",\n          \"access-control-allow-origin\": \"*\"\n        },\n        text: JSON.stringify(result)\n      };\n    }\n    if (route === routes.deleteToken) {\n      const token2 = headers.authorization?.substr(\"token \".length);\n      if (!token2) {\n        throw new Error(\n          '[@octokit/oauth-app] \"Authorization\" header is required'\n        );\n      }\n      await app.deleteToken({\n        token: token2\n      });\n      return {\n        status: 204,\n        headers: { \"access-control-allow-origin\": \"*\" }\n      };\n    }\n    const token = headers.authorization?.substr(\"token \".length);\n    if (!token) {\n      throw new Error(\n        '[@octokit/oauth-app] \"Authorization\" header is required'\n      );\n    }\n    await app.deleteAuthorization({\n      token\n    });\n    return {\n      status: 204,\n      headers: { \"access-control-allow-origin\": \"*\" }\n    };\n  } catch (error) {\n    return {\n      status: 400,\n      headers: {\n        \"content-type\": \"application/json\",\n        \"access-control-allow-origin\": \"*\"\n      },\n      text: JSON.stringify({ error: error.message })\n    };\n  }\n}\n\n// pkg/dist-src/middleware/node/parse-request.js\nfunction parseRequest(request) {\n  const { method, url, headers } = request;\n  async function text() {\n    const text2 = await new Promise((resolve, reject) => {\n      let bodyChunks = [];\n      request.on(\"error\", reject).on(\"data\", (chunk) => bodyChunks.push(chunk)).on(\"end\", () => resolve(Buffer.concat(bodyChunks).toString()));\n    });\n    return text2;\n  }\n  return { method, url, headers, text };\n}\n\n// pkg/dist-src/middleware/node/send-response.js\nfunction sendResponse(octokitResponse, response) {\n  response.writeHead(octokitResponse.status, octokitResponse.headers);\n  response.end(octokitResponse.text);\n}\n\n// pkg/dist-src/middleware/node/index.js\nfunction createNodeMiddleware(app, options = {}) {\n  return async function(request, response, next) {\n    const octokitRequest = await parseRequest(request);\n    const octokitResponse = await handleRequest(app, options, octokitRequest);\n    if (octokitResponse) {\n      sendResponse(octokitResponse, response);\n      return true;\n    } else {\n      next?.();\n      return false;\n    }\n  };\n}\n\n// pkg/dist-src/middleware/web-worker/parse-request.js\nfunction parseRequest2(request) {\n  const headers = Object.fromEntries(request.headers.entries());\n  return {\n    method: request.method,\n    url: request.url,\n    headers,\n    text: () => request.text()\n  };\n}\n\n// pkg/dist-src/middleware/web-worker/send-response.js\nfunction sendResponse2(octokitResponse) {\n  const responseOptions = {\n    status: octokitResponse.status\n  };\n  if (octokitResponse.headers) {\n    Object.assign(responseOptions, { headers: octokitResponse.headers });\n  }\n  return new Response(octokitResponse.text, responseOptions);\n}\n\n// pkg/dist-src/middleware/web-worker/index.js\nfunction createWebWorkerHandler(app, options = {}) {\n  return async function(request) {\n    const octokitRequest = await parseRequest2(request);\n    const octokitResponse = await handleRequest(app, options, octokitRequest);\n    return octokitResponse ? sendResponse2(octokitResponse) : void 0;\n  };\n}\n\n// pkg/dist-src/middleware/aws-lambda/api-gateway-v2-parse-request.js\nfunction parseRequest3(request) {\n  const { method } = request.requestContext.http;\n  let url = request.rawPath;\n  const { stage } = request.requestContext;\n  if (url.startsWith(\"/\" + stage)) url = url.substring(stage.length + 1);\n  if (request.rawQueryString) url += \"?\" + request.rawQueryString;\n  const headers = request.headers;\n  const text = async () => request.body || \"\";\n  return { method, url, headers, text };\n}\n\n// pkg/dist-src/middleware/aws-lambda/api-gateway-v2-send-response.js\nfunction sendResponse3(octokitResponse) {\n  return {\n    statusCode: octokitResponse.status,\n    headers: octokitResponse.headers,\n    body: octokitResponse.text\n  };\n}\n\n// pkg/dist-src/middleware/aws-lambda/api-gateway-v2.js\nfunction createAWSLambdaAPIGatewayV2Handler(app, options = {}) {\n  return async function(event) {\n    const request = parseRequest3(event);\n    const response = await handleRequest(app, options, request);\n    return response ? sendResponse3(response) : void 0;\n  };\n}\n\n// pkg/dist-src/index.js\nvar OAuthApp = class {\n  static VERSION = VERSION;\n  static defaults(defaults) {\n    const OAuthAppWithDefaults = class extends this {\n      constructor(...args) {\n        super({\n          ...defaults,\n          ...args[0]\n        });\n      }\n    };\n    return OAuthAppWithDefaults;\n  }\n  constructor(options) {\n    const Octokit2 = options.Octokit || OAuthAppOctokit;\n    this.type = options.clientType || \"oauth-app\";\n    const octokit = new Octokit2({\n      authStrategy: createOAuthAppAuth,\n      auth: {\n        clientType: this.type,\n        clientId: options.clientId,\n        clientSecret: options.clientSecret\n      }\n    });\n    const state = {\n      clientType: this.type,\n      clientId: options.clientId,\n      clientSecret: options.clientSecret,\n      // @ts-expect-error defaultScopes not permitted for GitHub Apps\n      defaultScopes: options.defaultScopes || [],\n      allowSignup: options.allowSignup,\n      baseUrl: options.baseUrl,\n      redirectUrl: options.redirectUrl,\n      log: options.log,\n      Octokit: Octokit2,\n      octokit,\n      eventHandlers: {}\n    };\n    this.on = addEventHandler.bind(null, state);\n    this.octokit = octokit;\n    this.getUserOctokit = getUserOctokitWithState.bind(null, state);\n    this.getWebFlowAuthorizationUrl = getWebFlowAuthorizationUrlWithState.bind(\n      null,\n      state\n    );\n    this.createToken = createTokenWithState.bind(\n      null,\n      state\n    );\n    this.checkToken = checkTokenWithState.bind(\n      null,\n      state\n    );\n    this.resetToken = resetTokenWithState.bind(\n      null,\n      state\n    );\n    this.refreshToken = refreshTokenWithState.bind(\n      null,\n      state\n    );\n    this.scopeToken = scopeTokenWithState.bind(\n      null,\n      state\n    );\n    this.deleteToken = deleteTokenWithState.bind(null, state);\n    this.deleteAuthorization = deleteAuthorizationWithState.bind(null, state);\n  }\n  // assigned during constructor\n  type;\n  on;\n  octokit;\n  getUserOctokit;\n  getWebFlowAuthorizationUrl;\n  createToken;\n  checkToken;\n  resetToken;\n  refreshToken;\n  scopeToken;\n  deleteToken;\n  deleteAuthorization;\n};\nexport {\n  OAuthApp,\n  createAWSLambdaAPIGatewayV2Handler,\n  createNodeMiddleware,\n  createWebWorkerHandler,\n  handleRequest,\n  sendResponse as sendNodeResponse,\n  unknownRouteResponse\n};\n","function oauthAuthorizationUrl(options) {\n  const clientType = options.clientType || \"oauth-app\";\n  const baseUrl = options.baseUrl || \"https://github.com\";\n  const result = {\n    clientType,\n    allowSignup: options.allowSignup === false ? false : true,\n    clientId: options.clientId,\n    login: options.login || null,\n    redirectUrl: options.redirectUrl || null,\n    state: options.state || Math.random().toString(36).substr(2),\n    url: \"\"\n  };\n  if (clientType === \"oauth-app\") {\n    const scopes = \"scopes\" in options ? options.scopes : [];\n    result.scopes = typeof scopes === \"string\" ? scopes.split(/[,\\s]+/).filter(Boolean) : scopes;\n  }\n  result.url = urlBuilderAuthorize(`${baseUrl}/login/oauth/authorize`, result);\n  return result;\n}\nfunction urlBuilderAuthorize(base, options) {\n  const map = {\n    allowSignup: \"allow_signup\",\n    clientId: \"client_id\",\n    login: \"login\",\n    redirectUrl: \"redirect_uri\",\n    scopes: \"scope\",\n    state: \"state\"\n  };\n  let url = base;\n  Object.keys(map).filter((k) => options[k] !== null).filter((k) => {\n    if (k !== \"scopes\")\n      return true;\n    if (options.clientType === \"github-app\")\n      return false;\n    return !Array.isArray(options[k]) || options[k].length > 0;\n  }).map((key) => [map[key], `${options[key]}`]).forEach(([key, value], index) => {\n    url += index === 0 ? `?` : \"&\";\n    url += `${key}=${encodeURIComponent(value)}`;\n  });\n  return url;\n}\nexport {\n  oauthAuthorizationUrl\n};\n","// pkg/dist-src/version.js\nvar VERSION = \"0.0.0-development\";\n\n// pkg/dist-src/get-web-flow-authorization-url.js\nimport { oauthAuthorizationUrl } from \"@octokit/oauth-authorization-url\";\nimport { request as defaultRequest } from \"@octokit/request\";\n\n// pkg/dist-src/utils.js\nimport { RequestError } from \"@octokit/request-error\";\nfunction requestToOAuthBaseUrl(request) {\n  const endpointDefaults = request.endpoint.DEFAULTS;\n  return /^https:\\/\\/(api\\.)?github\\.com$/.test(endpointDefaults.baseUrl) ? \"https://github.com\" : endpointDefaults.baseUrl.replace(\"/api/v3\", \"\");\n}\nasync function oauthRequest(request, route, parameters) {\n  const withOAuthParameters = {\n    baseUrl: requestToOAuthBaseUrl(request),\n    headers: {\n      accept: \"application/json\"\n    },\n    ...parameters\n  };\n  const response = await request(route, withOAuthParameters);\n  if (\"error\" in response.data) {\n    const error = new RequestError(\n      `${response.data.error_description} (${response.data.error}, ${response.data.error_uri})`,\n      400,\n      {\n        request: request.endpoint.merge(\n          route,\n          withOAuthParameters\n        )\n      }\n    );\n    error.response = response;\n    throw error;\n  }\n  return response;\n}\n\n// pkg/dist-src/get-web-flow-authorization-url.js\nfunction getWebFlowAuthorizationUrl({\n  request = defaultRequest,\n  ...options\n}) {\n  const baseUrl = requestToOAuthBaseUrl(request);\n  return oauthAuthorizationUrl({\n    ...options,\n    baseUrl\n  });\n}\n\n// pkg/dist-src/exchange-web-flow-code.js\nimport { request as defaultRequest2 } from \"@octokit/request\";\nasync function exchangeWebFlowCode(options) {\n  const request = options.request || defaultRequest2;\n  const response = await oauthRequest(\n    request,\n    \"POST /login/oauth/access_token\",\n    {\n      client_id: options.clientId,\n      client_secret: options.clientSecret,\n      code: options.code,\n      redirect_uri: options.redirectUrl\n    }\n  );\n  const authentication = {\n    clientType: options.clientType,\n    clientId: options.clientId,\n    clientSecret: options.clientSecret,\n    token: response.data.access_token,\n    scopes: response.data.scope.split(/\\s+/).filter(Boolean)\n  };\n  if (options.clientType === \"github-app\") {\n    if (\"refresh_token\" in response.data) {\n      const apiTimeInMs = new Date(response.headers.date).getTime();\n      authentication.refreshToken = response.data.refresh_token, authentication.expiresAt = toTimestamp(\n        apiTimeInMs,\n        response.data.expires_in\n      ), authentication.refreshTokenExpiresAt = toTimestamp(\n        apiTimeInMs,\n        response.data.refresh_token_expires_in\n      );\n    }\n    delete authentication.scopes;\n  }\n  return { ...response, authentication };\n}\nfunction toTimestamp(apiTimeInMs, expirationInSeconds) {\n  return new Date(apiTimeInMs + expirationInSeconds * 1e3).toISOString();\n}\n\n// pkg/dist-src/create-device-code.js\nimport { request as defaultRequest3 } from \"@octokit/request\";\nasync function createDeviceCode(options) {\n  const request = options.request || defaultRequest3;\n  const parameters = {\n    client_id: options.clientId\n  };\n  if (\"scopes\" in options && Array.isArray(options.scopes)) {\n    parameters.scope = options.scopes.join(\" \");\n  }\n  return oauthRequest(request, \"POST /login/device/code\", parameters);\n}\n\n// pkg/dist-src/exchange-device-code.js\nimport { request as defaultRequest4 } from \"@octokit/request\";\nasync function exchangeDeviceCode(options) {\n  const request = options.request || defaultRequest4;\n  const response = await oauthRequest(\n    request,\n    \"POST /login/oauth/access_token\",\n    {\n      client_id: options.clientId,\n      device_code: options.code,\n      grant_type: \"urn:ietf:params:oauth:grant-type:device_code\"\n    }\n  );\n  const authentication = {\n    clientType: options.clientType,\n    clientId: options.clientId,\n    token: response.data.access_token,\n    scopes: response.data.scope.split(/\\s+/).filter(Boolean)\n  };\n  if (\"clientSecret\" in options) {\n    authentication.clientSecret = options.clientSecret;\n  }\n  if (options.clientType === \"github-app\") {\n    if (\"refresh_token\" in response.data) {\n      const apiTimeInMs = new Date(response.headers.date).getTime();\n      authentication.refreshToken = response.data.refresh_token, authentication.expiresAt = toTimestamp2(\n        apiTimeInMs,\n        response.data.expires_in\n      ), authentication.refreshTokenExpiresAt = toTimestamp2(\n        apiTimeInMs,\n        response.data.refresh_token_expires_in\n      );\n    }\n    delete authentication.scopes;\n  }\n  return { ...response, authentication };\n}\nfunction toTimestamp2(apiTimeInMs, expirationInSeconds) {\n  return new Date(apiTimeInMs + expirationInSeconds * 1e3).toISOString();\n}\n\n// pkg/dist-src/check-token.js\nimport { request as defaultRequest5 } from \"@octokit/request\";\nasync function checkToken(options) {\n  const request = options.request || defaultRequest5;\n  const response = await request(\"POST /applications/{client_id}/token\", {\n    headers: {\n      authorization: `basic ${btoa(\n        `${options.clientId}:${options.clientSecret}`\n      )}`\n    },\n    client_id: options.clientId,\n    access_token: options.token\n  });\n  const authentication = {\n    clientType: options.clientType,\n    clientId: options.clientId,\n    clientSecret: options.clientSecret,\n    token: options.token,\n    scopes: response.data.scopes\n  };\n  if (response.data.expires_at)\n    authentication.expiresAt = response.data.expires_at;\n  if (options.clientType === \"github-app\") {\n    delete authentication.scopes;\n  }\n  return { ...response, authentication };\n}\n\n// pkg/dist-src/refresh-token.js\nimport { request as defaultRequest6 } from \"@octokit/request\";\nasync function refreshToken(options) {\n  const request = options.request || defaultRequest6;\n  const response = await oauthRequest(\n    request,\n    \"POST /login/oauth/access_token\",\n    {\n      client_id: options.clientId,\n      client_secret: options.clientSecret,\n      grant_type: \"refresh_token\",\n      refresh_token: options.refreshToken\n    }\n  );\n  const apiTimeInMs = new Date(response.headers.date).getTime();\n  const authentication = {\n    clientType: \"github-app\",\n    clientId: options.clientId,\n    clientSecret: options.clientSecret,\n    token: response.data.access_token,\n    refreshToken: response.data.refresh_token,\n    expiresAt: toTimestamp3(apiTimeInMs, response.data.expires_in),\n    refreshTokenExpiresAt: toTimestamp3(\n      apiTimeInMs,\n      response.data.refresh_token_expires_in\n    )\n  };\n  return { ...response, authentication };\n}\nfunction toTimestamp3(apiTimeInMs, expirationInSeconds) {\n  return new Date(apiTimeInMs + expirationInSeconds * 1e3).toISOString();\n}\n\n// pkg/dist-src/scope-token.js\nimport { request as defaultRequest7 } from \"@octokit/request\";\nasync function scopeToken(options) {\n  const {\n    request: optionsRequest,\n    clientType,\n    clientId,\n    clientSecret,\n    token,\n    ...requestOptions\n  } = options;\n  const request = options.request || defaultRequest7;\n  const response = await request(\n    \"POST /applications/{client_id}/token/scoped\",\n    {\n      headers: {\n        authorization: `basic ${btoa(`${clientId}:${clientSecret}`)}`\n      },\n      client_id: clientId,\n      access_token: token,\n      ...requestOptions\n    }\n  );\n  const authentication = Object.assign(\n    {\n      clientType,\n      clientId,\n      clientSecret,\n      token: response.data.token\n    },\n    response.data.expires_at ? { expiresAt: response.data.expires_at } : {}\n  );\n  return { ...response, authentication };\n}\n\n// pkg/dist-src/reset-token.js\nimport { request as defaultRequest8 } from \"@octokit/request\";\nasync function resetToken(options) {\n  const request = options.request || defaultRequest8;\n  const auth = btoa(`${options.clientId}:${options.clientSecret}`);\n  const response = await request(\n    \"PATCH /applications/{client_id}/token\",\n    {\n      headers: {\n        authorization: `basic ${auth}`\n      },\n      client_id: options.clientId,\n      access_token: options.token\n    }\n  );\n  const authentication = {\n    clientType: options.clientType,\n    clientId: options.clientId,\n    clientSecret: options.clientSecret,\n    token: response.data.token,\n    scopes: response.data.scopes\n  };\n  if (response.data.expires_at)\n    authentication.expiresAt = response.data.expires_at;\n  if (options.clientType === \"github-app\") {\n    delete authentication.scopes;\n  }\n  return { ...response, authentication };\n}\n\n// pkg/dist-src/delete-token.js\nimport { request as defaultRequest9 } from \"@octokit/request\";\nasync function deleteToken(options) {\n  const request = options.request || defaultRequest9;\n  const auth = btoa(`${options.clientId}:${options.clientSecret}`);\n  return request(\n    \"DELETE /applications/{client_id}/token\",\n    {\n      headers: {\n        authorization: `basic ${auth}`\n      },\n      client_id: options.clientId,\n      access_token: options.token\n    }\n  );\n}\n\n// pkg/dist-src/delete-authorization.js\nimport { request as defaultRequest10 } from \"@octokit/request\";\nasync function deleteAuthorization(options) {\n  const request = options.request || defaultRequest10;\n  const auth = btoa(`${options.clientId}:${options.clientSecret}`);\n  return request(\n    \"DELETE /applications/{client_id}/grant\",\n    {\n      headers: {\n        authorization: `basic ${auth}`\n      },\n      client_id: options.clientId,\n      access_token: options.token\n    }\n  );\n}\nexport {\n  VERSION,\n  checkToken,\n  createDeviceCode,\n  deleteAuthorization,\n  deleteToken,\n  exchangeDeviceCode,\n  exchangeWebFlowCode,\n  getWebFlowAuthorizationUrl,\n  refreshToken,\n  resetToken,\n  scopeToken\n};\n","// pkg/dist-src/errors.js\nvar generateMessage = (path, cursorValue) => `The cursor at \"${path.join(\n  \",\"\n)}\" did not change its value \"${cursorValue}\" after a page transition. Please make sure your that your query is set up correctly.`;\nvar MissingCursorChange = class extends Error {\n  constructor(pageInfo, cursorValue) {\n    super(generateMessage(pageInfo.pathInQuery, cursorValue));\n    this.pageInfo = pageInfo;\n    this.cursorValue = cursorValue;\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n  }\n  name = \"MissingCursorChangeError\";\n};\nvar MissingPageInfo = class extends Error {\n  constructor(response) {\n    super(\n      `No pageInfo property found in response. Please make sure to specify the pageInfo in your query. Response-Data: ${JSON.stringify(\n        response,\n        null,\n        2\n      )}`\n    );\n    this.response = response;\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n  }\n  name = \"MissingPageInfo\";\n};\n\n// pkg/dist-src/object-helpers.js\nvar isObject = (value) => Object.prototype.toString.call(value) === \"[object Object]\";\nfunction findPaginatedResourcePath(responseData) {\n  const paginatedResourcePath = deepFindPathToProperty(\n    responseData,\n    \"pageInfo\"\n  );\n  if (paginatedResourcePath.length === 0) {\n    throw new MissingPageInfo(responseData);\n  }\n  return paginatedResourcePath;\n}\nvar deepFindPathToProperty = (object, searchProp, path = []) => {\n  for (const key of Object.keys(object)) {\n    const currentPath = [...path, key];\n    const currentValue = object[key];\n    if (isObject(currentValue)) {\n      if (currentValue.hasOwnProperty(searchProp)) {\n        return currentPath;\n      }\n      const result = deepFindPathToProperty(\n        currentValue,\n        searchProp,\n        currentPath\n      );\n      if (result.length > 0) {\n        return result;\n      }\n    }\n  }\n  return [];\n};\nvar get = (object, path) => {\n  return path.reduce((current, nextProperty) => current[nextProperty], object);\n};\nvar set = (object, path, mutator) => {\n  const lastProperty = path[path.length - 1];\n  const parentPath = [...path].slice(0, -1);\n  const parent = get(object, parentPath);\n  if (typeof mutator === \"function\") {\n    parent[lastProperty] = mutator(parent[lastProperty]);\n  } else {\n    parent[lastProperty] = mutator;\n  }\n};\n\n// pkg/dist-src/extract-page-info.js\nvar extractPageInfos = (responseData) => {\n  const pageInfoPath = findPaginatedResourcePath(responseData);\n  return {\n    pathInQuery: pageInfoPath,\n    pageInfo: get(responseData, [...pageInfoPath, \"pageInfo\"])\n  };\n};\n\n// pkg/dist-src/page-info.js\nvar isForwardSearch = (givenPageInfo) => {\n  return givenPageInfo.hasOwnProperty(\"hasNextPage\");\n};\nvar getCursorFrom = (pageInfo) => isForwardSearch(pageInfo) ? pageInfo.endCursor : pageInfo.startCursor;\nvar hasAnotherPage = (pageInfo) => isForwardSearch(pageInfo) ? pageInfo.hasNextPage : pageInfo.hasPreviousPage;\n\n// pkg/dist-src/iterator.js\nvar createIterator = (octokit) => {\n  return (query, initialParameters = {}) => {\n    let nextPageExists = true;\n    let parameters = { ...initialParameters };\n    return {\n      [Symbol.asyncIterator]: () => ({\n        async next() {\n          if (!nextPageExists) return { done: true, value: {} };\n          const response = await octokit.graphql(\n            query,\n            parameters\n          );\n          const pageInfoContext = extractPageInfos(response);\n          const nextCursorValue = getCursorFrom(pageInfoContext.pageInfo);\n          nextPageExists = hasAnotherPage(pageInfoContext.pageInfo);\n          if (nextPageExists && nextCursorValue === parameters.cursor) {\n            throw new MissingCursorChange(pageInfoContext, nextCursorValue);\n          }\n          parameters = {\n            ...parameters,\n            cursor: nextCursorValue\n          };\n          return { done: false, value: response };\n        }\n      })\n    };\n  };\n};\n\n// pkg/dist-src/merge-responses.js\nvar mergeResponses = (response1, response2) => {\n  if (Object.keys(response1).length === 0) {\n    return Object.assign(response1, response2);\n  }\n  const path = findPaginatedResourcePath(response1);\n  const nodesPath = [...path, \"nodes\"];\n  const newNodes = get(response2, nodesPath);\n  if (newNodes) {\n    set(response1, nodesPath, (values) => {\n      return [...values, ...newNodes];\n    });\n  }\n  const edgesPath = [...path, \"edges\"];\n  const newEdges = get(response2, edgesPath);\n  if (newEdges) {\n    set(response1, edgesPath, (values) => {\n      return [...values, ...newEdges];\n    });\n  }\n  const pageInfoPath = [...path, \"pageInfo\"];\n  set(response1, pageInfoPath, get(response2, pageInfoPath));\n  return response1;\n};\n\n// pkg/dist-src/paginate.js\nvar createPaginate = (octokit) => {\n  const iterator = createIterator(octokit);\n  return async (query, initialParameters = {}) => {\n    let mergedResponse = {};\n    for await (const response of iterator(\n      query,\n      initialParameters\n    )) {\n      mergedResponse = mergeResponses(mergedResponse, response);\n    }\n    return mergedResponse;\n  };\n};\n\n// pkg/dist-src/version.js\nvar VERSION = \"0.0.0-development\";\n\n// pkg/dist-src/index.js\nfunction paginateGraphQL(octokit) {\n  return {\n    graphql: Object.assign(octokit.graphql, {\n      paginate: Object.assign(createPaginate(octokit), {\n        iterator: createIterator(octokit)\n      })\n    })\n  };\n}\nexport {\n  VERSION,\n  paginateGraphQL\n};\n","// pkg/dist-src/version.js\nvar VERSION = \"0.0.0-development\";\n\n// pkg/dist-src/normalize-paginated-list-response.js\nfunction normalizePaginatedListResponse(response) {\n  if (!response.data) {\n    return {\n      ...response,\n      data: []\n    };\n  }\n  const responseNeedsNormalization = \"total_count\" in response.data && !(\"url\" in response.data);\n  if (!responseNeedsNormalization) return response;\n  const incompleteResults = response.data.incomplete_results;\n  const repositorySelection = response.data.repository_selection;\n  const totalCount = response.data.total_count;\n  delete response.data.incomplete_results;\n  delete response.data.repository_selection;\n  delete response.data.total_count;\n  const namespaceKey = Object.keys(response.data)[0];\n  const data = response.data[namespaceKey];\n  response.data = data;\n  if (typeof incompleteResults !== \"undefined\") {\n    response.data.incomplete_results = incompleteResults;\n  }\n  if (typeof repositorySelection !== \"undefined\") {\n    response.data.repository_selection = repositorySelection;\n  }\n  response.data.total_count = totalCount;\n  return response;\n}\n\n// pkg/dist-src/iterator.js\nfunction iterator(octokit, route, parameters) {\n  const options = typeof route === \"function\" ? route.endpoint(parameters) : octokit.request.endpoint(route, parameters);\n  const requestMethod = typeof route === \"function\" ? route : octokit.request;\n  const method = options.method;\n  const headers = options.headers;\n  let url = options.url;\n  return {\n    [Symbol.asyncIterator]: () => ({\n      async next() {\n        if (!url) return { done: true };\n        try {\n          const response = await requestMethod({ method, url, headers });\n          const normalizedResponse = normalizePaginatedListResponse(response);\n          url = ((normalizedResponse.headers.link || \"\").match(\n            /<([^<>]+)>;\\s*rel=\"next\"/\n          ) || [])[1];\n          return { value: normalizedResponse };\n        } catch (error) {\n          if (error.status !== 409) throw error;\n          url = \"\";\n          return {\n            value: {\n              status: 200,\n              headers: {},\n              data: []\n            }\n          };\n        }\n      }\n    })\n  };\n}\n\n// pkg/dist-src/paginate.js\nfunction paginate(octokit, route, parameters, mapFn) {\n  if (typeof parameters === \"function\") {\n    mapFn = parameters;\n    parameters = void 0;\n  }\n  return gather(\n    octokit,\n    [],\n    iterator(octokit, route, parameters)[Symbol.asyncIterator](),\n    mapFn\n  );\n}\nfunction gather(octokit, results, iterator2, mapFn) {\n  return iterator2.next().then((result) => {\n    if (result.done) {\n      return results;\n    }\n    let earlyExit = false;\n    function done() {\n      earlyExit = true;\n    }\n    results = results.concat(\n      mapFn ? mapFn(result.value, done) : result.value.data\n    );\n    if (earlyExit) {\n      return results;\n    }\n    return gather(octokit, results, iterator2, mapFn);\n  });\n}\n\n// pkg/dist-src/compose-paginate.js\nvar composePaginateRest = Object.assign(paginate, {\n  iterator\n});\n\n// pkg/dist-src/generated/paginating-endpoints.js\nvar paginatingEndpoints = [\n  \"GET /advisories\",\n  \"GET /app/hook/deliveries\",\n  \"GET /app/installation-requests\",\n  \"GET /app/installations\",\n  \"GET /assignments/{assignment_id}/accepted_assignments\",\n  \"GET /classrooms\",\n  \"GET /classrooms/{classroom_id}/assignments\",\n  \"GET /enterprises/{enterprise}/code-security/configurations\",\n  \"GET /enterprises/{enterprise}/code-security/configurations/{configuration_id}/repositories\",\n  \"GET /enterprises/{enterprise}/dependabot/alerts\",\n  \"GET /enterprises/{enterprise}/secret-scanning/alerts\",\n  \"GET /events\",\n  \"GET /gists\",\n  \"GET /gists/public\",\n  \"GET /gists/starred\",\n  \"GET /gists/{gist_id}/comments\",\n  \"GET /gists/{gist_id}/commits\",\n  \"GET /gists/{gist_id}/forks\",\n  \"GET /installation/repositories\",\n  \"GET /issues\",\n  \"GET /licenses\",\n  \"GET /marketplace_listing/plans\",\n  \"GET /marketplace_listing/plans/{plan_id}/accounts\",\n  \"GET /marketplace_listing/stubbed/plans\",\n  \"GET /marketplace_listing/stubbed/plans/{plan_id}/accounts\",\n  \"GET /networks/{owner}/{repo}/events\",\n  \"GET /notifications\",\n  \"GET /organizations\",\n  \"GET /orgs/{org}/actions/cache/usage-by-repository\",\n  \"GET /orgs/{org}/actions/hosted-runners\",\n  \"GET /orgs/{org}/actions/permissions/repositories\",\n  \"GET /orgs/{org}/actions/runner-groups\",\n  \"GET /orgs/{org}/actions/runner-groups/{runner_group_id}/hosted-runners\",\n  \"GET /orgs/{org}/actions/runner-groups/{runner_group_id}/repositories\",\n  \"GET /orgs/{org}/actions/runner-groups/{runner_group_id}/runners\",\n  \"GET /orgs/{org}/actions/runners\",\n  \"GET /orgs/{org}/actions/secrets\",\n  \"GET /orgs/{org}/actions/secrets/{secret_name}/repositories\",\n  \"GET /orgs/{org}/actions/variables\",\n  \"GET /orgs/{org}/actions/variables/{name}/repositories\",\n  \"GET /orgs/{org}/attestations/{subject_digest}\",\n  \"GET /orgs/{org}/blocks\",\n  \"GET /orgs/{org}/campaigns\",\n  \"GET /orgs/{org}/code-scanning/alerts\",\n  \"GET /orgs/{org}/code-security/configurations\",\n  \"GET /orgs/{org}/code-security/configurations/{configuration_id}/repositories\",\n  \"GET /orgs/{org}/codespaces\",\n  \"GET /orgs/{org}/codespaces/secrets\",\n  \"GET /orgs/{org}/codespaces/secrets/{secret_name}/repositories\",\n  \"GET /orgs/{org}/copilot/billing/seats\",\n  \"GET /orgs/{org}/copilot/metrics\",\n  \"GET /orgs/{org}/dependabot/alerts\",\n  \"GET /orgs/{org}/dependabot/secrets\",\n  \"GET /orgs/{org}/dependabot/secrets/{secret_name}/repositories\",\n  \"GET /orgs/{org}/events\",\n  \"GET /orgs/{org}/failed_invitations\",\n  \"GET /orgs/{org}/hooks\",\n  \"GET /orgs/{org}/hooks/{hook_id}/deliveries\",\n  \"GET /orgs/{org}/insights/api/route-stats/{actor_type}/{actor_id}\",\n  \"GET /orgs/{org}/insights/api/subject-stats\",\n  \"GET /orgs/{org}/insights/api/user-stats/{user_id}\",\n  \"GET /orgs/{org}/installations\",\n  \"GET /orgs/{org}/invitations\",\n  \"GET /orgs/{org}/invitations/{invitation_id}/teams\",\n  \"GET /orgs/{org}/issues\",\n  \"GET /orgs/{org}/members\",\n  \"GET /orgs/{org}/members/{username}/codespaces\",\n  \"GET /orgs/{org}/migrations\",\n  \"GET /orgs/{org}/migrations/{migration_id}/repositories\",\n  \"GET /orgs/{org}/organization-roles/{role_id}/teams\",\n  \"GET /orgs/{org}/organization-roles/{role_id}/users\",\n  \"GET /orgs/{org}/outside_collaborators\",\n  \"GET /orgs/{org}/packages\",\n  \"GET /orgs/{org}/packages/{package_type}/{package_name}/versions\",\n  \"GET /orgs/{org}/personal-access-token-requests\",\n  \"GET /orgs/{org}/personal-access-token-requests/{pat_request_id}/repositories\",\n  \"GET /orgs/{org}/personal-access-tokens\",\n  \"GET /orgs/{org}/personal-access-tokens/{pat_id}/repositories\",\n  \"GET /orgs/{org}/private-registries\",\n  \"GET /orgs/{org}/projects\",\n  \"GET /orgs/{org}/properties/values\",\n  \"GET /orgs/{org}/public_members\",\n  \"GET /orgs/{org}/repos\",\n  \"GET /orgs/{org}/rulesets\",\n  \"GET /orgs/{org}/rulesets/rule-suites\",\n  \"GET /orgs/{org}/rulesets/{ruleset_id}/history\",\n  \"GET /orgs/{org}/secret-scanning/alerts\",\n  \"GET /orgs/{org}/security-advisories\",\n  \"GET /orgs/{org}/settings/network-configurations\",\n  \"GET /orgs/{org}/team/{team_slug}/copilot/metrics\",\n  \"GET /orgs/{org}/teams\",\n  \"GET /orgs/{org}/teams/{team_slug}/discussions\",\n  \"GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments\",\n  \"GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions\",\n  \"GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions\",\n  \"GET /orgs/{org}/teams/{team_slug}/invitations\",\n  \"GET /orgs/{org}/teams/{team_slug}/members\",\n  \"GET /orgs/{org}/teams/{team_slug}/projects\",\n  \"GET /orgs/{org}/teams/{team_slug}/repos\",\n  \"GET /orgs/{org}/teams/{team_slug}/teams\",\n  \"GET /projects/columns/{column_id}/cards\",\n  \"GET /projects/{project_id}/collaborators\",\n  \"GET /projects/{project_id}/columns\",\n  \"GET /repos/{owner}/{repo}/actions/artifacts\",\n  \"GET /repos/{owner}/{repo}/actions/caches\",\n  \"GET /repos/{owner}/{repo}/actions/organization-secrets\",\n  \"GET /repos/{owner}/{repo}/actions/organization-variables\",\n  \"GET /repos/{owner}/{repo}/actions/runners\",\n  \"GET /repos/{owner}/{repo}/actions/runs\",\n  \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts\",\n  \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs\",\n  \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs\",\n  \"GET /repos/{owner}/{repo}/actions/secrets\",\n  \"GET /repos/{owner}/{repo}/actions/variables\",\n  \"GET /repos/{owner}/{repo}/actions/workflows\",\n  \"GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs\",\n  \"GET /repos/{owner}/{repo}/activity\",\n  \"GET /repos/{owner}/{repo}/assignees\",\n  \"GET /repos/{owner}/{repo}/attestations/{subject_digest}\",\n  \"GET /repos/{owner}/{repo}/branches\",\n  \"GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations\",\n  \"GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs\",\n  \"GET /repos/{owner}/{repo}/code-scanning/alerts\",\n  \"GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances\",\n  \"GET /repos/{owner}/{repo}/code-scanning/analyses\",\n  \"GET /repos/{owner}/{repo}/codespaces\",\n  \"GET /repos/{owner}/{repo}/codespaces/devcontainers\",\n  \"GET /repos/{owner}/{repo}/codespaces/secrets\",\n  \"GET /repos/{owner}/{repo}/collaborators\",\n  \"GET /repos/{owner}/{repo}/comments\",\n  \"GET /repos/{owner}/{repo}/comments/{comment_id}/reactions\",\n  \"GET /repos/{owner}/{repo}/commits\",\n  \"GET /repos/{owner}/{repo}/commits/{commit_sha}/comments\",\n  \"GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls\",\n  \"GET /repos/{owner}/{repo}/commits/{ref}/check-runs\",\n  \"GET /repos/{owner}/{repo}/commits/{ref}/check-suites\",\n  \"GET /repos/{owner}/{repo}/commits/{ref}/status\",\n  \"GET /repos/{owner}/{repo}/commits/{ref}/statuses\",\n  \"GET /repos/{owner}/{repo}/contributors\",\n  \"GET /repos/{owner}/{repo}/dependabot/alerts\",\n  \"GET /repos/{owner}/{repo}/dependabot/secrets\",\n  \"GET /repos/{owner}/{repo}/deployments\",\n  \"GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses\",\n  \"GET /repos/{owner}/{repo}/environments\",\n  \"GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies\",\n  \"GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/apps\",\n  \"GET /repos/{owner}/{repo}/environments/{environment_name}/secrets\",\n  \"GET /repos/{owner}/{repo}/environments/{environment_name}/variables\",\n  \"GET /repos/{owner}/{repo}/events\",\n  \"GET /repos/{owner}/{repo}/forks\",\n  \"GET /repos/{owner}/{repo}/hooks\",\n  \"GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries\",\n  \"GET /repos/{owner}/{repo}/invitations\",\n  \"GET /repos/{owner}/{repo}/issues\",\n  \"GET /repos/{owner}/{repo}/issues/comments\",\n  \"GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions\",\n  \"GET /repos/{owner}/{repo}/issues/events\",\n  \"GET /repos/{owner}/{repo}/issues/{issue_number}/comments\",\n  \"GET /repos/{owner}/{repo}/issues/{issue_number}/events\",\n  \"GET /repos/{owner}/{repo}/issues/{issue_number}/labels\",\n  \"GET /repos/{owner}/{repo}/issues/{issue_number}/reactions\",\n  \"GET /repos/{owner}/{repo}/issues/{issue_number}/sub_issues\",\n  \"GET /repos/{owner}/{repo}/issues/{issue_number}/timeline\",\n  \"GET /repos/{owner}/{repo}/keys\",\n  \"GET /repos/{owner}/{repo}/labels\",\n  \"GET /repos/{owner}/{repo}/milestones\",\n  \"GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels\",\n  \"GET /repos/{owner}/{repo}/notifications\",\n  \"GET /repos/{owner}/{repo}/pages/builds\",\n  \"GET /repos/{owner}/{repo}/projects\",\n  \"GET /repos/{owner}/{repo}/pulls\",\n  \"GET /repos/{owner}/{repo}/pulls/comments\",\n  \"GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions\",\n  \"GET /repos/{owner}/{repo}/pulls/{pull_number}/comments\",\n  \"GET /repos/{owner}/{repo}/pulls/{pull_number}/commits\",\n  \"GET /repos/{owner}/{repo}/pulls/{pull_number}/files\",\n  \"GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews\",\n  \"GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments\",\n  \"GET /repos/{owner}/{repo}/releases\",\n  \"GET /repos/{owner}/{repo}/releases/{release_id}/assets\",\n  \"GET /repos/{owner}/{repo}/releases/{release_id}/reactions\",\n  \"GET /repos/{owner}/{repo}/rules/branches/{branch}\",\n  \"GET /repos/{owner}/{repo}/rulesets\",\n  \"GET /repos/{owner}/{repo}/rulesets/rule-suites\",\n  \"GET /repos/{owner}/{repo}/rulesets/{ruleset_id}/history\",\n  \"GET /repos/{owner}/{repo}/secret-scanning/alerts\",\n  \"GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}/locations\",\n  \"GET /repos/{owner}/{repo}/security-advisories\",\n  \"GET /repos/{owner}/{repo}/stargazers\",\n  \"GET /repos/{owner}/{repo}/subscribers\",\n  \"GET /repos/{owner}/{repo}/tags\",\n  \"GET /repos/{owner}/{repo}/teams\",\n  \"GET /repos/{owner}/{repo}/topics\",\n  \"GET /repositories\",\n  \"GET /search/code\",\n  \"GET /search/commits\",\n  \"GET /search/issues\",\n  \"GET /search/labels\",\n  \"GET /search/repositories\",\n  \"GET /search/topics\",\n  \"GET /search/users\",\n  \"GET /teams/{team_id}/discussions\",\n  \"GET /teams/{team_id}/discussions/{discussion_number}/comments\",\n  \"GET /teams/{team_id}/discussions/{discussion_number}/comments/{comment_number}/reactions\",\n  \"GET /teams/{team_id}/discussions/{discussion_number}/reactions\",\n  \"GET /teams/{team_id}/invitations\",\n  \"GET /teams/{team_id}/members\",\n  \"GET /teams/{team_id}/projects\",\n  \"GET /teams/{team_id}/repos\",\n  \"GET /teams/{team_id}/teams\",\n  \"GET /user/blocks\",\n  \"GET /user/codespaces\",\n  \"GET /user/codespaces/secrets\",\n  \"GET /user/emails\",\n  \"GET /user/followers\",\n  \"GET /user/following\",\n  \"GET /user/gpg_keys\",\n  \"GET /user/installations\",\n  \"GET /user/installations/{installation_id}/repositories\",\n  \"GET /user/issues\",\n  \"GET /user/keys\",\n  \"GET /user/marketplace_purchases\",\n  \"GET /user/marketplace_purchases/stubbed\",\n  \"GET /user/memberships/orgs\",\n  \"GET /user/migrations\",\n  \"GET /user/migrations/{migration_id}/repositories\",\n  \"GET /user/orgs\",\n  \"GET /user/packages\",\n  \"GET /user/packages/{package_type}/{package_name}/versions\",\n  \"GET /user/public_emails\",\n  \"GET /user/repos\",\n  \"GET /user/repository_invitations\",\n  \"GET /user/social_accounts\",\n  \"GET /user/ssh_signing_keys\",\n  \"GET /user/starred\",\n  \"GET /user/subscriptions\",\n  \"GET /user/teams\",\n  \"GET /users\",\n  \"GET /users/{username}/attestations/{subject_digest}\",\n  \"GET /users/{username}/events\",\n  \"GET /users/{username}/events/orgs/{org}\",\n  \"GET /users/{username}/events/public\",\n  \"GET /users/{username}/followers\",\n  \"GET /users/{username}/following\",\n  \"GET /users/{username}/gists\",\n  \"GET /users/{username}/gpg_keys\",\n  \"GET /users/{username}/keys\",\n  \"GET /users/{username}/orgs\",\n  \"GET /users/{username}/packages\",\n  \"GET /users/{username}/projects\",\n  \"GET /users/{username}/received_events\",\n  \"GET /users/{username}/received_events/public\",\n  \"GET /users/{username}/repos\",\n  \"GET /users/{username}/social_accounts\",\n  \"GET /users/{username}/ssh_signing_keys\",\n  \"GET /users/{username}/starred\",\n  \"GET /users/{username}/subscriptions\"\n];\n\n// pkg/dist-src/paginating-endpoints.js\nfunction isPaginatingEndpoint(arg) {\n  if (typeof arg === \"string\") {\n    return paginatingEndpoints.includes(arg);\n  } else {\n    return false;\n  }\n}\n\n// pkg/dist-src/index.js\nfunction paginateRest(octokit) {\n  return {\n    paginate: Object.assign(paginate.bind(null, octokit), {\n      iterator: iterator.bind(null, octokit)\n    })\n  };\n}\npaginateRest.VERSION = VERSION;\nexport {\n  composePaginateRest,\n  isPaginatingEndpoint,\n  paginateRest,\n  paginatingEndpoints\n};\n","import ENDPOINTS from \"./generated/endpoints.js\";\nconst endpointMethodsMap = /* @__PURE__ */ new Map();\nfor (const [scope, endpoints] of Object.entries(ENDPOINTS)) {\n  for (const [methodName, endpoint] of Object.entries(endpoints)) {\n    const [route, defaults, decorations] = endpoint;\n    const [method, url] = route.split(/ /);\n    const endpointDefaults = Object.assign(\n      {\n        method,\n        url\n      },\n      defaults\n    );\n    if (!endpointMethodsMap.has(scope)) {\n      endpointMethodsMap.set(scope, /* @__PURE__ */ new Map());\n    }\n    endpointMethodsMap.get(scope).set(methodName, {\n      scope,\n      methodName,\n      endpointDefaults,\n      decorations\n    });\n  }\n}\nconst handler = {\n  has({ scope }, methodName) {\n    return endpointMethodsMap.get(scope).has(methodName);\n  },\n  getOwnPropertyDescriptor(target, methodName) {\n    return {\n      value: this.get(target, methodName),\n      // ensures method is in the cache\n      configurable: true,\n      writable: true,\n      enumerable: true\n    };\n  },\n  defineProperty(target, methodName, descriptor) {\n    Object.defineProperty(target.cache, methodName, descriptor);\n    return true;\n  },\n  deleteProperty(target, methodName) {\n    delete target.cache[methodName];\n    return true;\n  },\n  ownKeys({ scope }) {\n    return [...endpointMethodsMap.get(scope).keys()];\n  },\n  set(target, methodName, value) {\n    return target.cache[methodName] = value;\n  },\n  get({ octokit, scope, cache }, methodName) {\n    if (cache[methodName]) {\n      return cache[methodName];\n    }\n    const method = endpointMethodsMap.get(scope).get(methodName);\n    if (!method) {\n      return void 0;\n    }\n    const { endpointDefaults, decorations } = method;\n    if (decorations) {\n      cache[methodName] = decorate(\n        octokit,\n        scope,\n        methodName,\n        endpointDefaults,\n        decorations\n      );\n    } else {\n      cache[methodName] = octokit.request.defaults(endpointDefaults);\n    }\n    return cache[methodName];\n  }\n};\nfunction endpointsToMethods(octokit) {\n  const newMethods = {};\n  for (const scope of endpointMethodsMap.keys()) {\n    newMethods[scope] = new Proxy({ octokit, scope, cache: {} }, handler);\n  }\n  return newMethods;\n}\nfunction decorate(octokit, scope, methodName, defaults, decorations) {\n  const requestWithDefaults = octokit.request.defaults(defaults);\n  function withDecorations(...args) {\n    let options = requestWithDefaults.endpoint.merge(...args);\n    if (decorations.mapToData) {\n      options = Object.assign({}, options, {\n        data: options[decorations.mapToData],\n        [decorations.mapToData]: void 0\n      });\n      return requestWithDefaults(options);\n    }\n    if (decorations.renamed) {\n      const [newScope, newMethodName] = decorations.renamed;\n      octokit.log.warn(\n        `octokit.${scope}.${methodName}() has been renamed to octokit.${newScope}.${newMethodName}()`\n      );\n    }\n    if (decorations.deprecated) {\n      octokit.log.warn(decorations.deprecated);\n    }\n    if (decorations.renamedParameters) {\n      const options2 = requestWithDefaults.endpoint.merge(...args);\n      for (const [name, alias] of Object.entries(\n        decorations.renamedParameters\n      )) {\n        if (name in options2) {\n          octokit.log.warn(\n            `\"${name}\" parameter is deprecated for \"octokit.${scope}.${methodName}()\". Use \"${alias}\" instead`\n          );\n          if (!(alias in options2)) {\n            options2[alias] = options2[name];\n          }\n          delete options2[name];\n        }\n      }\n      return requestWithDefaults(options2);\n    }\n    return requestWithDefaults(...args);\n  }\n  return Object.assign(withDecorations, requestWithDefaults);\n}\nexport {\n  endpointsToMethods\n};\n//# sourceMappingURL=endpoints-to-methods.js.map\n","const Endpoints = {\n  actions: {\n    addCustomLabelsToSelfHostedRunnerForOrg: [\n      \"POST /orgs/{org}/actions/runners/{runner_id}/labels\"\n    ],\n    addCustomLabelsToSelfHostedRunnerForRepo: [\n      \"POST /repos/{owner}/{repo}/actions/runners/{runner_id}/labels\"\n    ],\n    addRepoAccessToSelfHostedRunnerGroupInOrg: [\n      \"PUT /orgs/{org}/actions/runner-groups/{runner_group_id}/repositories/{repository_id}\"\n    ],\n    addSelectedRepoToOrgSecret: [\n      \"PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}\"\n    ],\n    addSelectedRepoToOrgVariable: [\n      \"PUT /orgs/{org}/actions/variables/{name}/repositories/{repository_id}\"\n    ],\n    approveWorkflowRun: [\n      \"POST /repos/{owner}/{repo}/actions/runs/{run_id}/approve\"\n    ],\n    cancelWorkflowRun: [\n      \"POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel\"\n    ],\n    createEnvironmentVariable: [\n      \"POST /repos/{owner}/{repo}/environments/{environment_name}/variables\"\n    ],\n    createHostedRunnerForOrg: [\"POST /orgs/{org}/actions/hosted-runners\"],\n    createOrUpdateEnvironmentSecret: [\n      \"PUT /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}\"\n    ],\n    createOrUpdateOrgSecret: [\"PUT /orgs/{org}/actions/secrets/{secret_name}\"],\n    createOrUpdateRepoSecret: [\n      \"PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}\"\n    ],\n    createOrgVariable: [\"POST /orgs/{org}/actions/variables\"],\n    createRegistrationTokenForOrg: [\n      \"POST /orgs/{org}/actions/runners/registration-token\"\n    ],\n    createRegistrationTokenForRepo: [\n      \"POST /repos/{owner}/{repo}/actions/runners/registration-token\"\n    ],\n    createRemoveTokenForOrg: [\"POST /orgs/{org}/actions/runners/remove-token\"],\n    createRemoveTokenForRepo: [\n      \"POST /repos/{owner}/{repo}/actions/runners/remove-token\"\n    ],\n    createRepoVariable: [\"POST /repos/{owner}/{repo}/actions/variables\"],\n    createWorkflowDispatch: [\n      \"POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches\"\n    ],\n    deleteActionsCacheById: [\n      \"DELETE /repos/{owner}/{repo}/actions/caches/{cache_id}\"\n    ],\n    deleteActionsCacheByKey: [\n      \"DELETE /repos/{owner}/{repo}/actions/caches{?key,ref}\"\n    ],\n    deleteArtifact: [\n      \"DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}\"\n    ],\n    deleteEnvironmentSecret: [\n      \"DELETE /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}\"\n    ],\n    deleteEnvironmentVariable: [\n      \"DELETE /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}\"\n    ],\n    deleteHostedRunnerForOrg: [\n      \"DELETE /orgs/{org}/actions/hosted-runners/{hosted_runner_id}\"\n    ],\n    deleteOrgSecret: [\"DELETE /orgs/{org}/actions/secrets/{secret_name}\"],\n    deleteOrgVariable: [\"DELETE /orgs/{org}/actions/variables/{name}\"],\n    deleteRepoSecret: [\n      \"DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}\"\n    ],\n    deleteRepoVariable: [\n      \"DELETE /repos/{owner}/{repo}/actions/variables/{name}\"\n    ],\n    deleteSelfHostedRunnerFromOrg: [\n      \"DELETE /orgs/{org}/actions/runners/{runner_id}\"\n    ],\n    deleteSelfHostedRunnerFromRepo: [\n      \"DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}\"\n    ],\n    deleteWorkflowRun: [\"DELETE /repos/{owner}/{repo}/actions/runs/{run_id}\"],\n    deleteWorkflowRunLogs: [\n      \"DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs\"\n    ],\n    disableSelectedRepositoryGithubActionsOrganization: [\n      \"DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}\"\n    ],\n    disableWorkflow: [\n      \"PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable\"\n    ],\n    downloadArtifact: [\n      \"GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}\"\n    ],\n    downloadJobLogsForWorkflowRun: [\n      \"GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs\"\n    ],\n    downloadWorkflowRunAttemptLogs: [\n      \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/logs\"\n    ],\n    downloadWorkflowRunLogs: [\n      \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs\"\n    ],\n    enableSelectedRepositoryGithubActionsOrganization: [\n      \"PUT /orgs/{org}/actions/permissions/repositories/{repository_id}\"\n    ],\n    enableWorkflow: [\n      \"PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable\"\n    ],\n    forceCancelWorkflowRun: [\n      \"POST /repos/{owner}/{repo}/actions/runs/{run_id}/force-cancel\"\n    ],\n    generateRunnerJitconfigForOrg: [\n      \"POST /orgs/{org}/actions/runners/generate-jitconfig\"\n    ],\n    generateRunnerJitconfigForRepo: [\n      \"POST /repos/{owner}/{repo}/actions/runners/generate-jitconfig\"\n    ],\n    getActionsCacheList: [\"GET /repos/{owner}/{repo}/actions/caches\"],\n    getActionsCacheUsage: [\"GET /repos/{owner}/{repo}/actions/cache/usage\"],\n    getActionsCacheUsageByRepoForOrg: [\n      \"GET /orgs/{org}/actions/cache/usage-by-repository\"\n    ],\n    getActionsCacheUsageForOrg: [\"GET /orgs/{org}/actions/cache/usage\"],\n    getAllowedActionsOrganization: [\n      \"GET /orgs/{org}/actions/permissions/selected-actions\"\n    ],\n    getAllowedActionsRepository: [\n      \"GET /repos/{owner}/{repo}/actions/permissions/selected-actions\"\n    ],\n    getArtifact: [\"GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}\"],\n    getCustomOidcSubClaimForRepo: [\n      \"GET /repos/{owner}/{repo}/actions/oidc/customization/sub\"\n    ],\n    getEnvironmentPublicKey: [\n      \"GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/public-key\"\n    ],\n    getEnvironmentSecret: [\n      \"GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}\"\n    ],\n    getEnvironmentVariable: [\n      \"GET /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}\"\n    ],\n    getGithubActionsDefaultWorkflowPermissionsOrganization: [\n      \"GET /orgs/{org}/actions/permissions/workflow\"\n    ],\n    getGithubActionsDefaultWorkflowPermissionsRepository: [\n      \"GET /repos/{owner}/{repo}/actions/permissions/workflow\"\n    ],\n    getGithubActionsPermissionsOrganization: [\n      \"GET /orgs/{org}/actions/permissions\"\n    ],\n    getGithubActionsPermissionsRepository: [\n      \"GET /repos/{owner}/{repo}/actions/permissions\"\n    ],\n    getHostedRunnerForOrg: [\n      \"GET /orgs/{org}/actions/hosted-runners/{hosted_runner_id}\"\n    ],\n    getHostedRunnersGithubOwnedImagesForOrg: [\n      \"GET /orgs/{org}/actions/hosted-runners/images/github-owned\"\n    ],\n    getHostedRunnersLimitsForOrg: [\n      \"GET /orgs/{org}/actions/hosted-runners/limits\"\n    ],\n    getHostedRunnersMachineSpecsForOrg: [\n      \"GET /orgs/{org}/actions/hosted-runners/machine-sizes\"\n    ],\n    getHostedRunnersPartnerImagesForOrg: [\n      \"GET /orgs/{org}/actions/hosted-runners/images/partner\"\n    ],\n    getHostedRunnersPlatformsForOrg: [\n      \"GET /orgs/{org}/actions/hosted-runners/platforms\"\n    ],\n    getJobForWorkflowRun: [\"GET /repos/{owner}/{repo}/actions/jobs/{job_id}\"],\n    getOrgPublicKey: [\"GET /orgs/{org}/actions/secrets/public-key\"],\n    getOrgSecret: [\"GET /orgs/{org}/actions/secrets/{secret_name}\"],\n    getOrgVariable: [\"GET /orgs/{org}/actions/variables/{name}\"],\n    getPendingDeploymentsForRun: [\n      \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments\"\n    ],\n    getRepoPermissions: [\n      \"GET /repos/{owner}/{repo}/actions/permissions\",\n      {},\n      { renamed: [\"actions\", \"getGithubActionsPermissionsRepository\"] }\n    ],\n    getRepoPublicKey: [\"GET /repos/{owner}/{repo}/actions/secrets/public-key\"],\n    getRepoSecret: [\"GET /repos/{owner}/{repo}/actions/secrets/{secret_name}\"],\n    getRepoVariable: [\"GET /repos/{owner}/{repo}/actions/variables/{name}\"],\n    getReviewsForRun: [\n      \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/approvals\"\n    ],\n    getSelfHostedRunnerForOrg: [\"GET /orgs/{org}/actions/runners/{runner_id}\"],\n    getSelfHostedRunnerForRepo: [\n      \"GET /repos/{owner}/{repo}/actions/runners/{runner_id}\"\n    ],\n    getWorkflow: [\"GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}\"],\n    getWorkflowAccessToRepository: [\n      \"GET /repos/{owner}/{repo}/actions/permissions/access\"\n    ],\n    getWorkflowRun: [\"GET /repos/{owner}/{repo}/actions/runs/{run_id}\"],\n    getWorkflowRunAttempt: [\n      \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}\"\n    ],\n    getWorkflowRunUsage: [\n      \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing\"\n    ],\n    getWorkflowUsage: [\n      \"GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing\"\n    ],\n    listArtifactsForRepo: [\"GET /repos/{owner}/{repo}/actions/artifacts\"],\n    listEnvironmentSecrets: [\n      \"GET /repos/{owner}/{repo}/environments/{environment_name}/secrets\"\n    ],\n    listEnvironmentVariables: [\n      \"GET /repos/{owner}/{repo}/environments/{environment_name}/variables\"\n    ],\n    listGithubHostedRunnersInGroupForOrg: [\n      \"GET /orgs/{org}/actions/runner-groups/{runner_group_id}/hosted-runners\"\n    ],\n    listHostedRunnersForOrg: [\"GET /orgs/{org}/actions/hosted-runners\"],\n    listJobsForWorkflowRun: [\n      \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs\"\n    ],\n    listJobsForWorkflowRunAttempt: [\n      \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs\"\n    ],\n    listLabelsForSelfHostedRunnerForOrg: [\n      \"GET /orgs/{org}/actions/runners/{runner_id}/labels\"\n    ],\n    listLabelsForSelfHostedRunnerForRepo: [\n      \"GET /repos/{owner}/{repo}/actions/runners/{runner_id}/labels\"\n    ],\n    listOrgSecrets: [\"GET /orgs/{org}/actions/secrets\"],\n    listOrgVariables: [\"GET /orgs/{org}/actions/variables\"],\n    listRepoOrganizationSecrets: [\n      \"GET /repos/{owner}/{repo}/actions/organization-secrets\"\n    ],\n    listRepoOrganizationVariables: [\n      \"GET /repos/{owner}/{repo}/actions/organization-variables\"\n    ],\n    listRepoSecrets: [\"GET /repos/{owner}/{repo}/actions/secrets\"],\n    listRepoVariables: [\"GET /repos/{owner}/{repo}/actions/variables\"],\n    listRepoWorkflows: [\"GET /repos/{owner}/{repo}/actions/workflows\"],\n    listRunnerApplicationsForOrg: [\"GET /orgs/{org}/actions/runners/downloads\"],\n    listRunnerApplicationsForRepo: [\n      \"GET /repos/{owner}/{repo}/actions/runners/downloads\"\n    ],\n    listSelectedReposForOrgSecret: [\n      \"GET /orgs/{org}/actions/secrets/{secret_name}/repositories\"\n    ],\n    listSelectedReposForOrgVariable: [\n      \"GET /orgs/{org}/actions/variables/{name}/repositories\"\n    ],\n    listSelectedRepositoriesEnabledGithubActionsOrganization: [\n      \"GET /orgs/{org}/actions/permissions/repositories\"\n    ],\n    listSelfHostedRunnersForOrg: [\"GET /orgs/{org}/actions/runners\"],\n    listSelfHostedRunnersForRepo: [\"GET /repos/{owner}/{repo}/actions/runners\"],\n    listWorkflowRunArtifacts: [\n      \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts\"\n    ],\n    listWorkflowRuns: [\n      \"GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs\"\n    ],\n    listWorkflowRunsForRepo: [\"GET /repos/{owner}/{repo}/actions/runs\"],\n    reRunJobForWorkflowRun: [\n      \"POST /repos/{owner}/{repo}/actions/jobs/{job_id}/rerun\"\n    ],\n    reRunWorkflow: [\"POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun\"],\n    reRunWorkflowFailedJobs: [\n      \"POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun-failed-jobs\"\n    ],\n    removeAllCustomLabelsFromSelfHostedRunnerForOrg: [\n      \"DELETE /orgs/{org}/actions/runners/{runner_id}/labels\"\n    ],\n    removeAllCustomLabelsFromSelfHostedRunnerForRepo: [\n      \"DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels\"\n    ],\n    removeCustomLabelFromSelfHostedRunnerForOrg: [\n      \"DELETE /orgs/{org}/actions/runners/{runner_id}/labels/{name}\"\n    ],\n    removeCustomLabelFromSelfHostedRunnerForRepo: [\n      \"DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels/{name}\"\n    ],\n    removeSelectedRepoFromOrgSecret: [\n      \"DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}\"\n    ],\n    removeSelectedRepoFromOrgVariable: [\n      \"DELETE /orgs/{org}/actions/variables/{name}/repositories/{repository_id}\"\n    ],\n    reviewCustomGatesForRun: [\n      \"POST /repos/{owner}/{repo}/actions/runs/{run_id}/deployment_protection_rule\"\n    ],\n    reviewPendingDeploymentsForRun: [\n      \"POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments\"\n    ],\n    setAllowedActionsOrganization: [\n      \"PUT /orgs/{org}/actions/permissions/selected-actions\"\n    ],\n    setAllowedActionsRepository: [\n      \"PUT /repos/{owner}/{repo}/actions/permissions/selected-actions\"\n    ],\n    setCustomLabelsForSelfHostedRunnerForOrg: [\n      \"PUT /orgs/{org}/actions/runners/{runner_id}/labels\"\n    ],\n    setCustomLabelsForSelfHostedRunnerForRepo: [\n      \"PUT /repos/{owner}/{repo}/actions/runners/{runner_id}/labels\"\n    ],\n    setCustomOidcSubClaimForRepo: [\n      \"PUT /repos/{owner}/{repo}/actions/oidc/customization/sub\"\n    ],\n    setGithubActionsDefaultWorkflowPermissionsOrganization: [\n      \"PUT /orgs/{org}/actions/permissions/workflow\"\n    ],\n    setGithubActionsDefaultWorkflowPermissionsRepository: [\n      \"PUT /repos/{owner}/{repo}/actions/permissions/workflow\"\n    ],\n    setGithubActionsPermissionsOrganization: [\n      \"PUT /orgs/{org}/actions/permissions\"\n    ],\n    setGithubActionsPermissionsRepository: [\n      \"PUT /repos/{owner}/{repo}/actions/permissions\"\n    ],\n    setSelectedReposForOrgSecret: [\n      \"PUT /orgs/{org}/actions/secrets/{secret_name}/repositories\"\n    ],\n    setSelectedReposForOrgVariable: [\n      \"PUT /orgs/{org}/actions/variables/{name}/repositories\"\n    ],\n    setSelectedRepositoriesEnabledGithubActionsOrganization: [\n      \"PUT /orgs/{org}/actions/permissions/repositories\"\n    ],\n    setWorkflowAccessToRepository: [\n      \"PUT /repos/{owner}/{repo}/actions/permissions/access\"\n    ],\n    updateEnvironmentVariable: [\n      \"PATCH /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}\"\n    ],\n    updateHostedRunnerForOrg: [\n      \"PATCH /orgs/{org}/actions/hosted-runners/{hosted_runner_id}\"\n    ],\n    updateOrgVariable: [\"PATCH /orgs/{org}/actions/variables/{name}\"],\n    updateRepoVariable: [\n      \"PATCH /repos/{owner}/{repo}/actions/variables/{name}\"\n    ]\n  },\n  activity: {\n    checkRepoIsStarredByAuthenticatedUser: [\"GET /user/starred/{owner}/{repo}\"],\n    deleteRepoSubscription: [\"DELETE /repos/{owner}/{repo}/subscription\"],\n    deleteThreadSubscription: [\n      \"DELETE /notifications/threads/{thread_id}/subscription\"\n    ],\n    getFeeds: [\"GET /feeds\"],\n    getRepoSubscription: [\"GET /repos/{owner}/{repo}/subscription\"],\n    getThread: [\"GET /notifications/threads/{thread_id}\"],\n    getThreadSubscriptionForAuthenticatedUser: [\n      \"GET /notifications/threads/{thread_id}/subscription\"\n    ],\n    listEventsForAuthenticatedUser: [\"GET /users/{username}/events\"],\n    listNotificationsForAuthenticatedUser: [\"GET /notifications\"],\n    listOrgEventsForAuthenticatedUser: [\n      \"GET /users/{username}/events/orgs/{org}\"\n    ],\n    listPublicEvents: [\"GET /events\"],\n    listPublicEventsForRepoNetwork: [\"GET /networks/{owner}/{repo}/events\"],\n    listPublicEventsForUser: [\"GET /users/{username}/events/public\"],\n    listPublicOrgEvents: [\"GET /orgs/{org}/events\"],\n    listReceivedEventsForUser: [\"GET /users/{username}/received_events\"],\n    listReceivedPublicEventsForUser: [\n      \"GET /users/{username}/received_events/public\"\n    ],\n    listRepoEvents: [\"GET /repos/{owner}/{repo}/events\"],\n    listRepoNotificationsForAuthenticatedUser: [\n      \"GET /repos/{owner}/{repo}/notifications\"\n    ],\n    listReposStarredByAuthenticatedUser: [\"GET /user/starred\"],\n    listReposStarredByUser: [\"GET /users/{username}/starred\"],\n    listReposWatchedByUser: [\"GET /users/{username}/subscriptions\"],\n    listStargazersForRepo: [\"GET /repos/{owner}/{repo}/stargazers\"],\n    listWatchedReposForAuthenticatedUser: [\"GET /user/subscriptions\"],\n    listWatchersForRepo: [\"GET /repos/{owner}/{repo}/subscribers\"],\n    markNotificationsAsRead: [\"PUT /notifications\"],\n    markRepoNotificationsAsRead: [\"PUT /repos/{owner}/{repo}/notifications\"],\n    markThreadAsDone: [\"DELETE /notifications/threads/{thread_id}\"],\n    markThreadAsRead: [\"PATCH /notifications/threads/{thread_id}\"],\n    setRepoSubscription: [\"PUT /repos/{owner}/{repo}/subscription\"],\n    setThreadSubscription: [\n      \"PUT /notifications/threads/{thread_id}/subscription\"\n    ],\n    starRepoForAuthenticatedUser: [\"PUT /user/starred/{owner}/{repo}\"],\n    unstarRepoForAuthenticatedUser: [\"DELETE /user/starred/{owner}/{repo}\"]\n  },\n  apps: {\n    addRepoToInstallation: [\n      \"PUT /user/installations/{installation_id}/repositories/{repository_id}\",\n      {},\n      { renamed: [\"apps\", \"addRepoToInstallationForAuthenticatedUser\"] }\n    ],\n    addRepoToInstallationForAuthenticatedUser: [\n      \"PUT /user/installations/{installation_id}/repositories/{repository_id}\"\n    ],\n    checkToken: [\"POST /applications/{client_id}/token\"],\n    createFromManifest: [\"POST /app-manifests/{code}/conversions\"],\n    createInstallationAccessToken: [\n      \"POST /app/installations/{installation_id}/access_tokens\"\n    ],\n    deleteAuthorization: [\"DELETE /applications/{client_id}/grant\"],\n    deleteInstallation: [\"DELETE /app/installations/{installation_id}\"],\n    deleteToken: [\"DELETE /applications/{client_id}/token\"],\n    getAuthenticated: [\"GET /app\"],\n    getBySlug: [\"GET /apps/{app_slug}\"],\n    getInstallation: [\"GET /app/installations/{installation_id}\"],\n    getOrgInstallation: [\"GET /orgs/{org}/installation\"],\n    getRepoInstallation: [\"GET /repos/{owner}/{repo}/installation\"],\n    getSubscriptionPlanForAccount: [\n      \"GET /marketplace_listing/accounts/{account_id}\"\n    ],\n    getSubscriptionPlanForAccountStubbed: [\n      \"GET /marketplace_listing/stubbed/accounts/{account_id}\"\n    ],\n    getUserInstallation: [\"GET /users/{username}/installation\"],\n    getWebhookConfigForApp: [\"GET /app/hook/config\"],\n    getWebhookDelivery: [\"GET /app/hook/deliveries/{delivery_id}\"],\n    listAccountsForPlan: [\"GET /marketplace_listing/plans/{plan_id}/accounts\"],\n    listAccountsForPlanStubbed: [\n      \"GET /marketplace_listing/stubbed/plans/{plan_id}/accounts\"\n    ],\n    listInstallationReposForAuthenticatedUser: [\n      \"GET /user/installations/{installation_id}/repositories\"\n    ],\n    listInstallationRequestsForAuthenticatedApp: [\n      \"GET /app/installation-requests\"\n    ],\n    listInstallations: [\"GET /app/installations\"],\n    listInstallationsForAuthenticatedUser: [\"GET /user/installations\"],\n    listPlans: [\"GET /marketplace_listing/plans\"],\n    listPlansStubbed: [\"GET /marketplace_listing/stubbed/plans\"],\n    listReposAccessibleToInstallation: [\"GET /installation/repositories\"],\n    listSubscriptionsForAuthenticatedUser: [\"GET /user/marketplace_purchases\"],\n    listSubscriptionsForAuthenticatedUserStubbed: [\n      \"GET /user/marketplace_purchases/stubbed\"\n    ],\n    listWebhookDeliveries: [\"GET /app/hook/deliveries\"],\n    redeliverWebhookDelivery: [\n      \"POST /app/hook/deliveries/{delivery_id}/attempts\"\n    ],\n    removeRepoFromInstallation: [\n      \"DELETE /user/installations/{installation_id}/repositories/{repository_id}\",\n      {},\n      { renamed: [\"apps\", \"removeRepoFromInstallationForAuthenticatedUser\"] }\n    ],\n    removeRepoFromInstallationForAuthenticatedUser: [\n      \"DELETE /user/installations/{installation_id}/repositories/{repository_id}\"\n    ],\n    resetToken: [\"PATCH /applications/{client_id}/token\"],\n    revokeInstallationAccessToken: [\"DELETE /installation/token\"],\n    scopeToken: [\"POST /applications/{client_id}/token/scoped\"],\n    suspendInstallation: [\"PUT /app/installations/{installation_id}/suspended\"],\n    unsuspendInstallation: [\n      \"DELETE /app/installations/{installation_id}/suspended\"\n    ],\n    updateWebhookConfigForApp: [\"PATCH /app/hook/config\"]\n  },\n  billing: {\n    getGithubActionsBillingOrg: [\"GET /orgs/{org}/settings/billing/actions\"],\n    getGithubActionsBillingUser: [\n      \"GET /users/{username}/settings/billing/actions\"\n    ],\n    getGithubBillingUsageReportOrg: [\n      \"GET /organizations/{org}/settings/billing/usage\"\n    ],\n    getGithubPackagesBillingOrg: [\"GET /orgs/{org}/settings/billing/packages\"],\n    getGithubPackagesBillingUser: [\n      \"GET /users/{username}/settings/billing/packages\"\n    ],\n    getSharedStorageBillingOrg: [\n      \"GET /orgs/{org}/settings/billing/shared-storage\"\n    ],\n    getSharedStorageBillingUser: [\n      \"GET /users/{username}/settings/billing/shared-storage\"\n    ]\n  },\n  campaigns: {\n    createCampaign: [\"POST /orgs/{org}/campaigns\"],\n    deleteCampaign: [\"DELETE /orgs/{org}/campaigns/{campaign_number}\"],\n    getCampaignSummary: [\"GET /orgs/{org}/campaigns/{campaign_number}\"],\n    listOrgCampaigns: [\"GET /orgs/{org}/campaigns\"],\n    updateCampaign: [\"PATCH /orgs/{org}/campaigns/{campaign_number}\"]\n  },\n  checks: {\n    create: [\"POST /repos/{owner}/{repo}/check-runs\"],\n    createSuite: [\"POST /repos/{owner}/{repo}/check-suites\"],\n    get: [\"GET /repos/{owner}/{repo}/check-runs/{check_run_id}\"],\n    getSuite: [\"GET /repos/{owner}/{repo}/check-suites/{check_suite_id}\"],\n    listAnnotations: [\n      \"GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations\"\n    ],\n    listForRef: [\"GET /repos/{owner}/{repo}/commits/{ref}/check-runs\"],\n    listForSuite: [\n      \"GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs\"\n    ],\n    listSuitesForRef: [\"GET /repos/{owner}/{repo}/commits/{ref}/check-suites\"],\n    rerequestRun: [\n      \"POST /repos/{owner}/{repo}/check-runs/{check_run_id}/rerequest\"\n    ],\n    rerequestSuite: [\n      \"POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest\"\n    ],\n    setSuitesPreferences: [\n      \"PATCH /repos/{owner}/{repo}/check-suites/preferences\"\n    ],\n    update: [\"PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}\"]\n  },\n  codeScanning: {\n    commitAutofix: [\n      \"POST /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix/commits\"\n    ],\n    createAutofix: [\n      \"POST /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix\"\n    ],\n    createVariantAnalysis: [\n      \"POST /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses\"\n    ],\n    deleteAnalysis: [\n      \"DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}\"\n    ],\n    deleteCodeqlDatabase: [\n      \"DELETE /repos/{owner}/{repo}/code-scanning/codeql/databases/{language}\"\n    ],\n    getAlert: [\n      \"GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}\",\n      {},\n      { renamedParameters: { alert_id: \"alert_number\" } }\n    ],\n    getAnalysis: [\n      \"GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}\"\n    ],\n    getAutofix: [\n      \"GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix\"\n    ],\n    getCodeqlDatabase: [\n      \"GET /repos/{owner}/{repo}/code-scanning/codeql/databases/{language}\"\n    ],\n    getDefaultSetup: [\"GET /repos/{owner}/{repo}/code-scanning/default-setup\"],\n    getSarif: [\"GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}\"],\n    getVariantAnalysis: [\n      \"GET /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses/{codeql_variant_analysis_id}\"\n    ],\n    getVariantAnalysisRepoTask: [\n      \"GET /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses/{codeql_variant_analysis_id}/repos/{repo_owner}/{repo_name}\"\n    ],\n    listAlertInstances: [\n      \"GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances\"\n    ],\n    listAlertsForOrg: [\"GET /orgs/{org}/code-scanning/alerts\"],\n    listAlertsForRepo: [\"GET /repos/{owner}/{repo}/code-scanning/alerts\"],\n    listAlertsInstances: [\n      \"GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances\",\n      {},\n      { renamed: [\"codeScanning\", \"listAlertInstances\"] }\n    ],\n    listCodeqlDatabases: [\n      \"GET /repos/{owner}/{repo}/code-scanning/codeql/databases\"\n    ],\n    listRecentAnalyses: [\"GET /repos/{owner}/{repo}/code-scanning/analyses\"],\n    updateAlert: [\n      \"PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}\"\n    ],\n    updateDefaultSetup: [\n      \"PATCH /repos/{owner}/{repo}/code-scanning/default-setup\"\n    ],\n    uploadSarif: [\"POST /repos/{owner}/{repo}/code-scanning/sarifs\"]\n  },\n  codeSecurity: {\n    attachConfiguration: [\n      \"POST /orgs/{org}/code-security/configurations/{configuration_id}/attach\"\n    ],\n    attachEnterpriseConfiguration: [\n      \"POST /enterprises/{enterprise}/code-security/configurations/{configuration_id}/attach\"\n    ],\n    createConfiguration: [\"POST /orgs/{org}/code-security/configurations\"],\n    createConfigurationForEnterprise: [\n      \"POST /enterprises/{enterprise}/code-security/configurations\"\n    ],\n    deleteConfiguration: [\n      \"DELETE /orgs/{org}/code-security/configurations/{configuration_id}\"\n    ],\n    deleteConfigurationForEnterprise: [\n      \"DELETE /enterprises/{enterprise}/code-security/configurations/{configuration_id}\"\n    ],\n    detachConfiguration: [\n      \"DELETE /orgs/{org}/code-security/configurations/detach\"\n    ],\n    getConfiguration: [\n      \"GET /orgs/{org}/code-security/configurations/{configuration_id}\"\n    ],\n    getConfigurationForRepository: [\n      \"GET /repos/{owner}/{repo}/code-security-configuration\"\n    ],\n    getConfigurationsForEnterprise: [\n      \"GET /enterprises/{enterprise}/code-security/configurations\"\n    ],\n    getConfigurationsForOrg: [\"GET /orgs/{org}/code-security/configurations\"],\n    getDefaultConfigurations: [\n      \"GET /orgs/{org}/code-security/configurations/defaults\"\n    ],\n    getDefaultConfigurationsForEnterprise: [\n      \"GET /enterprises/{enterprise}/code-security/configurations/defaults\"\n    ],\n    getRepositoriesForConfiguration: [\n      \"GET /orgs/{org}/code-security/configurations/{configuration_id}/repositories\"\n    ],\n    getRepositoriesForEnterpriseConfiguration: [\n      \"GET /enterprises/{enterprise}/code-security/configurations/{configuration_id}/repositories\"\n    ],\n    getSingleConfigurationForEnterprise: [\n      \"GET /enterprises/{enterprise}/code-security/configurations/{configuration_id}\"\n    ],\n    setConfigurationAsDefault: [\n      \"PUT /orgs/{org}/code-security/configurations/{configuration_id}/defaults\"\n    ],\n    setConfigurationAsDefaultForEnterprise: [\n      \"PUT /enterprises/{enterprise}/code-security/configurations/{configuration_id}/defaults\"\n    ],\n    updateConfiguration: [\n      \"PATCH /orgs/{org}/code-security/configurations/{configuration_id}\"\n    ],\n    updateEnterpriseConfiguration: [\n      \"PATCH /enterprises/{enterprise}/code-security/configurations/{configuration_id}\"\n    ]\n  },\n  codesOfConduct: {\n    getAllCodesOfConduct: [\"GET /codes_of_conduct\"],\n    getConductCode: [\"GET /codes_of_conduct/{key}\"]\n  },\n  codespaces: {\n    addRepositoryForSecretForAuthenticatedUser: [\n      \"PUT /user/codespaces/secrets/{secret_name}/repositories/{repository_id}\"\n    ],\n    addSelectedRepoToOrgSecret: [\n      \"PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}\"\n    ],\n    checkPermissionsForDevcontainer: [\n      \"GET /repos/{owner}/{repo}/codespaces/permissions_check\"\n    ],\n    codespaceMachinesForAuthenticatedUser: [\n      \"GET /user/codespaces/{codespace_name}/machines\"\n    ],\n    createForAuthenticatedUser: [\"POST /user/codespaces\"],\n    createOrUpdateOrgSecret: [\n      \"PUT /orgs/{org}/codespaces/secrets/{secret_name}\"\n    ],\n    createOrUpdateRepoSecret: [\n      \"PUT /repos/{owner}/{repo}/codespaces/secrets/{secret_name}\"\n    ],\n    createOrUpdateSecretForAuthenticatedUser: [\n      \"PUT /user/codespaces/secrets/{secret_name}\"\n    ],\n    createWithPrForAuthenticatedUser: [\n      \"POST /repos/{owner}/{repo}/pulls/{pull_number}/codespaces\"\n    ],\n    createWithRepoForAuthenticatedUser: [\n      \"POST /repos/{owner}/{repo}/codespaces\"\n    ],\n    deleteForAuthenticatedUser: [\"DELETE /user/codespaces/{codespace_name}\"],\n    deleteFromOrganization: [\n      \"DELETE /orgs/{org}/members/{username}/codespaces/{codespace_name}\"\n    ],\n    deleteOrgSecret: [\"DELETE /orgs/{org}/codespaces/secrets/{secret_name}\"],\n    deleteRepoSecret: [\n      \"DELETE /repos/{owner}/{repo}/codespaces/secrets/{secret_name}\"\n    ],\n    deleteSecretForAuthenticatedUser: [\n      \"DELETE /user/codespaces/secrets/{secret_name}\"\n    ],\n    exportForAuthenticatedUser: [\n      \"POST /user/codespaces/{codespace_name}/exports\"\n    ],\n    getCodespacesForUserInOrg: [\n      \"GET /orgs/{org}/members/{username}/codespaces\"\n    ],\n    getExportDetailsForAuthenticatedUser: [\n      \"GET /user/codespaces/{codespace_name}/exports/{export_id}\"\n    ],\n    getForAuthenticatedUser: [\"GET /user/codespaces/{codespace_name}\"],\n    getOrgPublicKey: [\"GET /orgs/{org}/codespaces/secrets/public-key\"],\n    getOrgSecret: [\"GET /orgs/{org}/codespaces/secrets/{secret_name}\"],\n    getPublicKeyForAuthenticatedUser: [\n      \"GET /user/codespaces/secrets/public-key\"\n    ],\n    getRepoPublicKey: [\n      \"GET /repos/{owner}/{repo}/codespaces/secrets/public-key\"\n    ],\n    getRepoSecret: [\n      \"GET /repos/{owner}/{repo}/codespaces/secrets/{secret_name}\"\n    ],\n    getSecretForAuthenticatedUser: [\n      \"GET /user/codespaces/secrets/{secret_name}\"\n    ],\n    listDevcontainersInRepositoryForAuthenticatedUser: [\n      \"GET /repos/{owner}/{repo}/codespaces/devcontainers\"\n    ],\n    listForAuthenticatedUser: [\"GET /user/codespaces\"],\n    listInOrganization: [\n      \"GET /orgs/{org}/codespaces\",\n      {},\n      { renamedParameters: { org_id: \"org\" } }\n    ],\n    listInRepositoryForAuthenticatedUser: [\n      \"GET /repos/{owner}/{repo}/codespaces\"\n    ],\n    listOrgSecrets: [\"GET /orgs/{org}/codespaces/secrets\"],\n    listRepoSecrets: [\"GET /repos/{owner}/{repo}/codespaces/secrets\"],\n    listRepositoriesForSecretForAuthenticatedUser: [\n      \"GET /user/codespaces/secrets/{secret_name}/repositories\"\n    ],\n    listSecretsForAuthenticatedUser: [\"GET /user/codespaces/secrets\"],\n    listSelectedReposForOrgSecret: [\n      \"GET /orgs/{org}/codespaces/secrets/{secret_name}/repositories\"\n    ],\n    preFlightWithRepoForAuthenticatedUser: [\n      \"GET /repos/{owner}/{repo}/codespaces/new\"\n    ],\n    publishForAuthenticatedUser: [\n      \"POST /user/codespaces/{codespace_name}/publish\"\n    ],\n    removeRepositoryForSecretForAuthenticatedUser: [\n      \"DELETE /user/codespaces/secrets/{secret_name}/repositories/{repository_id}\"\n    ],\n    removeSelectedRepoFromOrgSecret: [\n      \"DELETE /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}\"\n    ],\n    repoMachinesForAuthenticatedUser: [\n      \"GET /repos/{owner}/{repo}/codespaces/machines\"\n    ],\n    setRepositoriesForSecretForAuthenticatedUser: [\n      \"PUT /user/codespaces/secrets/{secret_name}/repositories\"\n    ],\n    setSelectedReposForOrgSecret: [\n      \"PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories\"\n    ],\n    startForAuthenticatedUser: [\"POST /user/codespaces/{codespace_name}/start\"],\n    stopForAuthenticatedUser: [\"POST /user/codespaces/{codespace_name}/stop\"],\n    stopInOrganization: [\n      \"POST /orgs/{org}/members/{username}/codespaces/{codespace_name}/stop\"\n    ],\n    updateForAuthenticatedUser: [\"PATCH /user/codespaces/{codespace_name}\"]\n  },\n  copilot: {\n    addCopilotSeatsForTeams: [\n      \"POST /orgs/{org}/copilot/billing/selected_teams\"\n    ],\n    addCopilotSeatsForUsers: [\n      \"POST /orgs/{org}/copilot/billing/selected_users\"\n    ],\n    cancelCopilotSeatAssignmentForTeams: [\n      \"DELETE /orgs/{org}/copilot/billing/selected_teams\"\n    ],\n    cancelCopilotSeatAssignmentForUsers: [\n      \"DELETE /orgs/{org}/copilot/billing/selected_users\"\n    ],\n    copilotMetricsForOrganization: [\"GET /orgs/{org}/copilot/metrics\"],\n    copilotMetricsForTeam: [\"GET /orgs/{org}/team/{team_slug}/copilot/metrics\"],\n    getCopilotOrganizationDetails: [\"GET /orgs/{org}/copilot/billing\"],\n    getCopilotSeatDetailsForUser: [\n      \"GET /orgs/{org}/members/{username}/copilot\"\n    ],\n    listCopilotSeats: [\"GET /orgs/{org}/copilot/billing/seats\"]\n  },\n  dependabot: {\n    addSelectedRepoToOrgSecret: [\n      \"PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}\"\n    ],\n    createOrUpdateOrgSecret: [\n      \"PUT /orgs/{org}/dependabot/secrets/{secret_name}\"\n    ],\n    createOrUpdateRepoSecret: [\n      \"PUT /repos/{owner}/{repo}/dependabot/secrets/{secret_name}\"\n    ],\n    deleteOrgSecret: [\"DELETE /orgs/{org}/dependabot/secrets/{secret_name}\"],\n    deleteRepoSecret: [\n      \"DELETE /repos/{owner}/{repo}/dependabot/secrets/{secret_name}\"\n    ],\n    getAlert: [\"GET /repos/{owner}/{repo}/dependabot/alerts/{alert_number}\"],\n    getOrgPublicKey: [\"GET /orgs/{org}/dependabot/secrets/public-key\"],\n    getOrgSecret: [\"GET /orgs/{org}/dependabot/secrets/{secret_name}\"],\n    getRepoPublicKey: [\n      \"GET /repos/{owner}/{repo}/dependabot/secrets/public-key\"\n    ],\n    getRepoSecret: [\n      \"GET /repos/{owner}/{repo}/dependabot/secrets/{secret_name}\"\n    ],\n    listAlertsForEnterprise: [\n      \"GET /enterprises/{enterprise}/dependabot/alerts\"\n    ],\n    listAlertsForOrg: [\"GET /orgs/{org}/dependabot/alerts\"],\n    listAlertsForRepo: [\"GET /repos/{owner}/{repo}/dependabot/alerts\"],\n    listOrgSecrets: [\"GET /orgs/{org}/dependabot/secrets\"],\n    listRepoSecrets: [\"GET /repos/{owner}/{repo}/dependabot/secrets\"],\n    listSelectedReposForOrgSecret: [\n      \"GET /orgs/{org}/dependabot/secrets/{secret_name}/repositories\"\n    ],\n    removeSelectedRepoFromOrgSecret: [\n      \"DELETE /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}\"\n    ],\n    setSelectedReposForOrgSecret: [\n      \"PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories\"\n    ],\n    updateAlert: [\n      \"PATCH /repos/{owner}/{repo}/dependabot/alerts/{alert_number}\"\n    ]\n  },\n  dependencyGraph: {\n    createRepositorySnapshot: [\n      \"POST /repos/{owner}/{repo}/dependency-graph/snapshots\"\n    ],\n    diffRange: [\n      \"GET /repos/{owner}/{repo}/dependency-graph/compare/{basehead}\"\n    ],\n    exportSbom: [\"GET /repos/{owner}/{repo}/dependency-graph/sbom\"]\n  },\n  emojis: { get: [\"GET /emojis\"] },\n  gists: {\n    checkIsStarred: [\"GET /gists/{gist_id}/star\"],\n    create: [\"POST /gists\"],\n    createComment: [\"POST /gists/{gist_id}/comments\"],\n    delete: [\"DELETE /gists/{gist_id}\"],\n    deleteComment: [\"DELETE /gists/{gist_id}/comments/{comment_id}\"],\n    fork: [\"POST /gists/{gist_id}/forks\"],\n    get: [\"GET /gists/{gist_id}\"],\n    getComment: [\"GET /gists/{gist_id}/comments/{comment_id}\"],\n    getRevision: [\"GET /gists/{gist_id}/{sha}\"],\n    list: [\"GET /gists\"],\n    listComments: [\"GET /gists/{gist_id}/comments\"],\n    listCommits: [\"GET /gists/{gist_id}/commits\"],\n    listForUser: [\"GET /users/{username}/gists\"],\n    listForks: [\"GET /gists/{gist_id}/forks\"],\n    listPublic: [\"GET /gists/public\"],\n    listStarred: [\"GET /gists/starred\"],\n    star: [\"PUT /gists/{gist_id}/star\"],\n    unstar: [\"DELETE /gists/{gist_id}/star\"],\n    update: [\"PATCH /gists/{gist_id}\"],\n    updateComment: [\"PATCH /gists/{gist_id}/comments/{comment_id}\"]\n  },\n  git: {\n    createBlob: [\"POST /repos/{owner}/{repo}/git/blobs\"],\n    createCommit: [\"POST /repos/{owner}/{repo}/git/commits\"],\n    createRef: [\"POST /repos/{owner}/{repo}/git/refs\"],\n    createTag: [\"POST /repos/{owner}/{repo}/git/tags\"],\n    createTree: [\"POST /repos/{owner}/{repo}/git/trees\"],\n    deleteRef: [\"DELETE /repos/{owner}/{repo}/git/refs/{ref}\"],\n    getBlob: [\"GET /repos/{owner}/{repo}/git/blobs/{file_sha}\"],\n    getCommit: [\"GET /repos/{owner}/{repo}/git/commits/{commit_sha}\"],\n    getRef: [\"GET /repos/{owner}/{repo}/git/ref/{ref}\"],\n    getTag: [\"GET /repos/{owner}/{repo}/git/tags/{tag_sha}\"],\n    getTree: [\"GET /repos/{owner}/{repo}/git/trees/{tree_sha}\"],\n    listMatchingRefs: [\"GET /repos/{owner}/{repo}/git/matching-refs/{ref}\"],\n    updateRef: [\"PATCH /repos/{owner}/{repo}/git/refs/{ref}\"]\n  },\n  gitignore: {\n    getAllTemplates: [\"GET /gitignore/templates\"],\n    getTemplate: [\"GET /gitignore/templates/{name}\"]\n  },\n  hostedCompute: {\n    createNetworkConfigurationForOrg: [\n      \"POST /orgs/{org}/settings/network-configurations\"\n    ],\n    deleteNetworkConfigurationFromOrg: [\n      \"DELETE /orgs/{org}/settings/network-configurations/{network_configuration_id}\"\n    ],\n    getNetworkConfigurationForOrg: [\n      \"GET /orgs/{org}/settings/network-configurations/{network_configuration_id}\"\n    ],\n    getNetworkSettingsForOrg: [\n      \"GET /orgs/{org}/settings/network-settings/{network_settings_id}\"\n    ],\n    listNetworkConfigurationsForOrg: [\n      \"GET /orgs/{org}/settings/network-configurations\"\n    ],\n    updateNetworkConfigurationForOrg: [\n      \"PATCH /orgs/{org}/settings/network-configurations/{network_configuration_id}\"\n    ]\n  },\n  interactions: {\n    getRestrictionsForAuthenticatedUser: [\"GET /user/interaction-limits\"],\n    getRestrictionsForOrg: [\"GET /orgs/{org}/interaction-limits\"],\n    getRestrictionsForRepo: [\"GET /repos/{owner}/{repo}/interaction-limits\"],\n    getRestrictionsForYourPublicRepos: [\n      \"GET /user/interaction-limits\",\n      {},\n      { renamed: [\"interactions\", \"getRestrictionsForAuthenticatedUser\"] }\n    ],\n    removeRestrictionsForAuthenticatedUser: [\"DELETE /user/interaction-limits\"],\n    removeRestrictionsForOrg: [\"DELETE /orgs/{org}/interaction-limits\"],\n    removeRestrictionsForRepo: [\n      \"DELETE /repos/{owner}/{repo}/interaction-limits\"\n    ],\n    removeRestrictionsForYourPublicRepos: [\n      \"DELETE /user/interaction-limits\",\n      {},\n      { renamed: [\"interactions\", \"removeRestrictionsForAuthenticatedUser\"] }\n    ],\n    setRestrictionsForAuthenticatedUser: [\"PUT /user/interaction-limits\"],\n    setRestrictionsForOrg: [\"PUT /orgs/{org}/interaction-limits\"],\n    setRestrictionsForRepo: [\"PUT /repos/{owner}/{repo}/interaction-limits\"],\n    setRestrictionsForYourPublicRepos: [\n      \"PUT /user/interaction-limits\",\n      {},\n      { renamed: [\"interactions\", \"setRestrictionsForAuthenticatedUser\"] }\n    ]\n  },\n  issues: {\n    addAssignees: [\n      \"POST /repos/{owner}/{repo}/issues/{issue_number}/assignees\"\n    ],\n    addLabels: [\"POST /repos/{owner}/{repo}/issues/{issue_number}/labels\"],\n    addSubIssue: [\n      \"POST /repos/{owner}/{repo}/issues/{issue_number}/sub_issues\"\n    ],\n    checkUserCanBeAssigned: [\"GET /repos/{owner}/{repo}/assignees/{assignee}\"],\n    checkUserCanBeAssignedToIssue: [\n      \"GET /repos/{owner}/{repo}/issues/{issue_number}/assignees/{assignee}\"\n    ],\n    create: [\"POST /repos/{owner}/{repo}/issues\"],\n    createComment: [\n      \"POST /repos/{owner}/{repo}/issues/{issue_number}/comments\"\n    ],\n    createLabel: [\"POST /repos/{owner}/{repo}/labels\"],\n    createMilestone: [\"POST /repos/{owner}/{repo}/milestones\"],\n    deleteComment: [\n      \"DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}\"\n    ],\n    deleteLabel: [\"DELETE /repos/{owner}/{repo}/labels/{name}\"],\n    deleteMilestone: [\n      \"DELETE /repos/{owner}/{repo}/milestones/{milestone_number}\"\n    ],\n    get: [\"GET /repos/{owner}/{repo}/issues/{issue_number}\"],\n    getComment: [\"GET /repos/{owner}/{repo}/issues/comments/{comment_id}\"],\n    getEvent: [\"GET /repos/{owner}/{repo}/issues/events/{event_id}\"],\n    getLabel: [\"GET /repos/{owner}/{repo}/labels/{name}\"],\n    getMilestone: [\"GET /repos/{owner}/{repo}/milestones/{milestone_number}\"],\n    list: [\"GET /issues\"],\n    listAssignees: [\"GET /repos/{owner}/{repo}/assignees\"],\n    listComments: [\"GET /repos/{owner}/{repo}/issues/{issue_number}/comments\"],\n    listCommentsForRepo: [\"GET /repos/{owner}/{repo}/issues/comments\"],\n    listEvents: [\"GET /repos/{owner}/{repo}/issues/{issue_number}/events\"],\n    listEventsForRepo: [\"GET /repos/{owner}/{repo}/issues/events\"],\n    listEventsForTimeline: [\n      \"GET /repos/{owner}/{repo}/issues/{issue_number}/timeline\"\n    ],\n    listForAuthenticatedUser: [\"GET /user/issues\"],\n    listForOrg: [\"GET /orgs/{org}/issues\"],\n    listForRepo: [\"GET /repos/{owner}/{repo}/issues\"],\n    listLabelsForMilestone: [\n      \"GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels\"\n    ],\n    listLabelsForRepo: [\"GET /repos/{owner}/{repo}/labels\"],\n    listLabelsOnIssue: [\n      \"GET /repos/{owner}/{repo}/issues/{issue_number}/labels\"\n    ],\n    listMilestones: [\"GET /repos/{owner}/{repo}/milestones\"],\n    listSubIssues: [\n      \"GET /repos/{owner}/{repo}/issues/{issue_number}/sub_issues\"\n    ],\n    lock: [\"PUT /repos/{owner}/{repo}/issues/{issue_number}/lock\"],\n    removeAllLabels: [\n      \"DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels\"\n    ],\n    removeAssignees: [\n      \"DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees\"\n    ],\n    removeLabel: [\n      \"DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}\"\n    ],\n    removeSubIssue: [\n      \"DELETE /repos/{owner}/{repo}/issues/{issue_number}/sub_issue\"\n    ],\n    reprioritizeSubIssue: [\n      \"PATCH /repos/{owner}/{repo}/issues/{issue_number}/sub_issues/priority\"\n    ],\n    setLabels: [\"PUT /repos/{owner}/{repo}/issues/{issue_number}/labels\"],\n    unlock: [\"DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock\"],\n    update: [\"PATCH /repos/{owner}/{repo}/issues/{issue_number}\"],\n    updateComment: [\"PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}\"],\n    updateLabel: [\"PATCH /repos/{owner}/{repo}/labels/{name}\"],\n    updateMilestone: [\n      \"PATCH /repos/{owner}/{repo}/milestones/{milestone_number}\"\n    ]\n  },\n  licenses: {\n    get: [\"GET /licenses/{license}\"],\n    getAllCommonlyUsed: [\"GET /licenses\"],\n    getForRepo: [\"GET /repos/{owner}/{repo}/license\"]\n  },\n  markdown: {\n    render: [\"POST /markdown\"],\n    renderRaw: [\n      \"POST /markdown/raw\",\n      { headers: { \"content-type\": \"text/plain; charset=utf-8\" } }\n    ]\n  },\n  meta: {\n    get: [\"GET /meta\"],\n    getAllVersions: [\"GET /versions\"],\n    getOctocat: [\"GET /octocat\"],\n    getZen: [\"GET /zen\"],\n    root: [\"GET /\"]\n  },\n  migrations: {\n    deleteArchiveForAuthenticatedUser: [\n      \"DELETE /user/migrations/{migration_id}/archive\"\n    ],\n    deleteArchiveForOrg: [\n      \"DELETE /orgs/{org}/migrations/{migration_id}/archive\"\n    ],\n    downloadArchiveForOrg: [\n      \"GET /orgs/{org}/migrations/{migration_id}/archive\"\n    ],\n    getArchiveForAuthenticatedUser: [\n      \"GET /user/migrations/{migration_id}/archive\"\n    ],\n    getStatusForAuthenticatedUser: [\"GET /user/migrations/{migration_id}\"],\n    getStatusForOrg: [\"GET /orgs/{org}/migrations/{migration_id}\"],\n    listForAuthenticatedUser: [\"GET /user/migrations\"],\n    listForOrg: [\"GET /orgs/{org}/migrations\"],\n    listReposForAuthenticatedUser: [\n      \"GET /user/migrations/{migration_id}/repositories\"\n    ],\n    listReposForOrg: [\"GET /orgs/{org}/migrations/{migration_id}/repositories\"],\n    listReposForUser: [\n      \"GET /user/migrations/{migration_id}/repositories\",\n      {},\n      { renamed: [\"migrations\", \"listReposForAuthenticatedUser\"] }\n    ],\n    startForAuthenticatedUser: [\"POST /user/migrations\"],\n    startForOrg: [\"POST /orgs/{org}/migrations\"],\n    unlockRepoForAuthenticatedUser: [\n      \"DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock\"\n    ],\n    unlockRepoForOrg: [\n      \"DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock\"\n    ]\n  },\n  oidc: {\n    getOidcCustomSubTemplateForOrg: [\n      \"GET /orgs/{org}/actions/oidc/customization/sub\"\n    ],\n    updateOidcCustomSubTemplateForOrg: [\n      \"PUT /orgs/{org}/actions/oidc/customization/sub\"\n    ]\n  },\n  orgs: {\n    addSecurityManagerTeam: [\n      \"PUT /orgs/{org}/security-managers/teams/{team_slug}\",\n      {},\n      {\n        deprecated: \"octokit.rest.orgs.addSecurityManagerTeam() is deprecated, see https://docs.github.com/rest/orgs/security-managers#add-a-security-manager-team\"\n      }\n    ],\n    assignTeamToOrgRole: [\n      \"PUT /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}\"\n    ],\n    assignUserToOrgRole: [\n      \"PUT /orgs/{org}/organization-roles/users/{username}/{role_id}\"\n    ],\n    blockUser: [\"PUT /orgs/{org}/blocks/{username}\"],\n    cancelInvitation: [\"DELETE /orgs/{org}/invitations/{invitation_id}\"],\n    checkBlockedUser: [\"GET /orgs/{org}/blocks/{username}\"],\n    checkMembershipForUser: [\"GET /orgs/{org}/members/{username}\"],\n    checkPublicMembershipForUser: [\"GET /orgs/{org}/public_members/{username}\"],\n    convertMemberToOutsideCollaborator: [\n      \"PUT /orgs/{org}/outside_collaborators/{username}\"\n    ],\n    createInvitation: [\"POST /orgs/{org}/invitations\"],\n    createIssueType: [\"POST /orgs/{org}/issue-types\"],\n    createOrUpdateCustomProperties: [\"PATCH /orgs/{org}/properties/schema\"],\n    createOrUpdateCustomPropertiesValuesForRepos: [\n      \"PATCH /orgs/{org}/properties/values\"\n    ],\n    createOrUpdateCustomProperty: [\n      \"PUT /orgs/{org}/properties/schema/{custom_property_name}\"\n    ],\n    createWebhook: [\"POST /orgs/{org}/hooks\"],\n    delete: [\"DELETE /orgs/{org}\"],\n    deleteIssueType: [\"DELETE /orgs/{org}/issue-types/{issue_type_id}\"],\n    deleteWebhook: [\"DELETE /orgs/{org}/hooks/{hook_id}\"],\n    enableOrDisableSecurityProductOnAllOrgRepos: [\n      \"POST /orgs/{org}/{security_product}/{enablement}\",\n      {},\n      {\n        deprecated: \"octokit.rest.orgs.enableOrDisableSecurityProductOnAllOrgRepos() is deprecated, see https://docs.github.com/rest/orgs/orgs#enable-or-disable-a-security-feature-for-an-organization\"\n      }\n    ],\n    get: [\"GET /orgs/{org}\"],\n    getAllCustomProperties: [\"GET /orgs/{org}/properties/schema\"],\n    getCustomProperty: [\n      \"GET /orgs/{org}/properties/schema/{custom_property_name}\"\n    ],\n    getMembershipForAuthenticatedUser: [\"GET /user/memberships/orgs/{org}\"],\n    getMembershipForUser: [\"GET /orgs/{org}/memberships/{username}\"],\n    getOrgRole: [\"GET /orgs/{org}/organization-roles/{role_id}\"],\n    getOrgRulesetHistory: [\"GET /orgs/{org}/rulesets/{ruleset_id}/history\"],\n    getOrgRulesetVersion: [\n      \"GET /orgs/{org}/rulesets/{ruleset_id}/history/{version_id}\"\n    ],\n    getWebhook: [\"GET /orgs/{org}/hooks/{hook_id}\"],\n    getWebhookConfigForOrg: [\"GET /orgs/{org}/hooks/{hook_id}/config\"],\n    getWebhookDelivery: [\n      \"GET /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}\"\n    ],\n    list: [\"GET /organizations\"],\n    listAppInstallations: [\"GET /orgs/{org}/installations\"],\n    listAttestations: [\"GET /orgs/{org}/attestations/{subject_digest}\"],\n    listBlockedUsers: [\"GET /orgs/{org}/blocks\"],\n    listCustomPropertiesValuesForRepos: [\"GET /orgs/{org}/properties/values\"],\n    listFailedInvitations: [\"GET /orgs/{org}/failed_invitations\"],\n    listForAuthenticatedUser: [\"GET /user/orgs\"],\n    listForUser: [\"GET /users/{username}/orgs\"],\n    listInvitationTeams: [\"GET /orgs/{org}/invitations/{invitation_id}/teams\"],\n    listIssueTypes: [\"GET /orgs/{org}/issue-types\"],\n    listMembers: [\"GET /orgs/{org}/members\"],\n    listMembershipsForAuthenticatedUser: [\"GET /user/memberships/orgs\"],\n    listOrgRoleTeams: [\"GET /orgs/{org}/organization-roles/{role_id}/teams\"],\n    listOrgRoleUsers: [\"GET /orgs/{org}/organization-roles/{role_id}/users\"],\n    listOrgRoles: [\"GET /orgs/{org}/organization-roles\"],\n    listOrganizationFineGrainedPermissions: [\n      \"GET /orgs/{org}/organization-fine-grained-permissions\"\n    ],\n    listOutsideCollaborators: [\"GET /orgs/{org}/outside_collaborators\"],\n    listPatGrantRepositories: [\n      \"GET /orgs/{org}/personal-access-tokens/{pat_id}/repositories\"\n    ],\n    listPatGrantRequestRepositories: [\n      \"GET /orgs/{org}/personal-access-token-requests/{pat_request_id}/repositories\"\n    ],\n    listPatGrantRequests: [\"GET /orgs/{org}/personal-access-token-requests\"],\n    listPatGrants: [\"GET /orgs/{org}/personal-access-tokens\"],\n    listPendingInvitations: [\"GET /orgs/{org}/invitations\"],\n    listPublicMembers: [\"GET /orgs/{org}/public_members\"],\n    listSecurityManagerTeams: [\n      \"GET /orgs/{org}/security-managers\",\n      {},\n      {\n        deprecated: \"octokit.rest.orgs.listSecurityManagerTeams() is deprecated, see https://docs.github.com/rest/orgs/security-managers#list-security-manager-teams\"\n      }\n    ],\n    listWebhookDeliveries: [\"GET /orgs/{org}/hooks/{hook_id}/deliveries\"],\n    listWebhooks: [\"GET /orgs/{org}/hooks\"],\n    pingWebhook: [\"POST /orgs/{org}/hooks/{hook_id}/pings\"],\n    redeliverWebhookDelivery: [\n      \"POST /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}/attempts\"\n    ],\n    removeCustomProperty: [\n      \"DELETE /orgs/{org}/properties/schema/{custom_property_name}\"\n    ],\n    removeMember: [\"DELETE /orgs/{org}/members/{username}\"],\n    removeMembershipForUser: [\"DELETE /orgs/{org}/memberships/{username}\"],\n    removeOutsideCollaborator: [\n      \"DELETE /orgs/{org}/outside_collaborators/{username}\"\n    ],\n    removePublicMembershipForAuthenticatedUser: [\n      \"DELETE /orgs/{org}/public_members/{username}\"\n    ],\n    removeSecurityManagerTeam: [\n      \"DELETE /orgs/{org}/security-managers/teams/{team_slug}\",\n      {},\n      {\n        deprecated: \"octokit.rest.orgs.removeSecurityManagerTeam() is deprecated, see https://docs.github.com/rest/orgs/security-managers#remove-a-security-manager-team\"\n      }\n    ],\n    reviewPatGrantRequest: [\n      \"POST /orgs/{org}/personal-access-token-requests/{pat_request_id}\"\n    ],\n    reviewPatGrantRequestsInBulk: [\n      \"POST /orgs/{org}/personal-access-token-requests\"\n    ],\n    revokeAllOrgRolesTeam: [\n      \"DELETE /orgs/{org}/organization-roles/teams/{team_slug}\"\n    ],\n    revokeAllOrgRolesUser: [\n      \"DELETE /orgs/{org}/organization-roles/users/{username}\"\n    ],\n    revokeOrgRoleTeam: [\n      \"DELETE /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}\"\n    ],\n    revokeOrgRoleUser: [\n      \"DELETE /orgs/{org}/organization-roles/users/{username}/{role_id}\"\n    ],\n    setMembershipForUser: [\"PUT /orgs/{org}/memberships/{username}\"],\n    setPublicMembershipForAuthenticatedUser: [\n      \"PUT /orgs/{org}/public_members/{username}\"\n    ],\n    unblockUser: [\"DELETE /orgs/{org}/blocks/{username}\"],\n    update: [\"PATCH /orgs/{org}\"],\n    updateIssueType: [\"PUT /orgs/{org}/issue-types/{issue_type_id}\"],\n    updateMembershipForAuthenticatedUser: [\n      \"PATCH /user/memberships/orgs/{org}\"\n    ],\n    updatePatAccess: [\"POST /orgs/{org}/personal-access-tokens/{pat_id}\"],\n    updatePatAccesses: [\"POST /orgs/{org}/personal-access-tokens\"],\n    updateWebhook: [\"PATCH /orgs/{org}/hooks/{hook_id}\"],\n    updateWebhookConfigForOrg: [\"PATCH /orgs/{org}/hooks/{hook_id}/config\"]\n  },\n  packages: {\n    deletePackageForAuthenticatedUser: [\n      \"DELETE /user/packages/{package_type}/{package_name}\"\n    ],\n    deletePackageForOrg: [\n      \"DELETE /orgs/{org}/packages/{package_type}/{package_name}\"\n    ],\n    deletePackageForUser: [\n      \"DELETE /users/{username}/packages/{package_type}/{package_name}\"\n    ],\n    deletePackageVersionForAuthenticatedUser: [\n      \"DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}\"\n    ],\n    deletePackageVersionForOrg: [\n      \"DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}\"\n    ],\n    deletePackageVersionForUser: [\n      \"DELETE /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}\"\n    ],\n    getAllPackageVersionsForAPackageOwnedByAnOrg: [\n      \"GET /orgs/{org}/packages/{package_type}/{package_name}/versions\",\n      {},\n      { renamed: [\"packages\", \"getAllPackageVersionsForPackageOwnedByOrg\"] }\n    ],\n    getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser: [\n      \"GET /user/packages/{package_type}/{package_name}/versions\",\n      {},\n      {\n        renamed: [\n          \"packages\",\n          \"getAllPackageVersionsForPackageOwnedByAuthenticatedUser\"\n        ]\n      }\n    ],\n    getAllPackageVersionsForPackageOwnedByAuthenticatedUser: [\n      \"GET /user/packages/{package_type}/{package_name}/versions\"\n    ],\n    getAllPackageVersionsForPackageOwnedByOrg: [\n      \"GET /orgs/{org}/packages/{package_type}/{package_name}/versions\"\n    ],\n    getAllPackageVersionsForPackageOwnedByUser: [\n      \"GET /users/{username}/packages/{package_type}/{package_name}/versions\"\n    ],\n    getPackageForAuthenticatedUser: [\n      \"GET /user/packages/{package_type}/{package_name}\"\n    ],\n    getPackageForOrganization: [\n      \"GET /orgs/{org}/packages/{package_type}/{package_name}\"\n    ],\n    getPackageForUser: [\n      \"GET /users/{username}/packages/{package_type}/{package_name}\"\n    ],\n    getPackageVersionForAuthenticatedUser: [\n      \"GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}\"\n    ],\n    getPackageVersionForOrganization: [\n      \"GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}\"\n    ],\n    getPackageVersionForUser: [\n      \"GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}\"\n    ],\n    listDockerMigrationConflictingPackagesForAuthenticatedUser: [\n      \"GET /user/docker/conflicts\"\n    ],\n    listDockerMigrationConflictingPackagesForOrganization: [\n      \"GET /orgs/{org}/docker/conflicts\"\n    ],\n    listDockerMigrationConflictingPackagesForUser: [\n      \"GET /users/{username}/docker/conflicts\"\n    ],\n    listPackagesForAuthenticatedUser: [\"GET /user/packages\"],\n    listPackagesForOrganization: [\"GET /orgs/{org}/packages\"],\n    listPackagesForUser: [\"GET /users/{username}/packages\"],\n    restorePackageForAuthenticatedUser: [\n      \"POST /user/packages/{package_type}/{package_name}/restore{?token}\"\n    ],\n    restorePackageForOrg: [\n      \"POST /orgs/{org}/packages/{package_type}/{package_name}/restore{?token}\"\n    ],\n    restorePackageForUser: [\n      \"POST /users/{username}/packages/{package_type}/{package_name}/restore{?token}\"\n    ],\n    restorePackageVersionForAuthenticatedUser: [\n      \"POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore\"\n    ],\n    restorePackageVersionForOrg: [\n      \"POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore\"\n    ],\n    restorePackageVersionForUser: [\n      \"POST /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore\"\n    ]\n  },\n  privateRegistries: {\n    createOrgPrivateRegistry: [\"POST /orgs/{org}/private-registries\"],\n    deleteOrgPrivateRegistry: [\n      \"DELETE /orgs/{org}/private-registries/{secret_name}\"\n    ],\n    getOrgPrivateRegistry: [\"GET /orgs/{org}/private-registries/{secret_name}\"],\n    getOrgPublicKey: [\"GET /orgs/{org}/private-registries/public-key\"],\n    listOrgPrivateRegistries: [\"GET /orgs/{org}/private-registries\"],\n    updateOrgPrivateRegistry: [\n      \"PATCH /orgs/{org}/private-registries/{secret_name}\"\n    ]\n  },\n  pulls: {\n    checkIfMerged: [\"GET /repos/{owner}/{repo}/pulls/{pull_number}/merge\"],\n    create: [\"POST /repos/{owner}/{repo}/pulls\"],\n    createReplyForReviewComment: [\n      \"POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies\"\n    ],\n    createReview: [\"POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews\"],\n    createReviewComment: [\n      \"POST /repos/{owner}/{repo}/pulls/{pull_number}/comments\"\n    ],\n    deletePendingReview: [\n      \"DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}\"\n    ],\n    deleteReviewComment: [\n      \"DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}\"\n    ],\n    dismissReview: [\n      \"PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals\"\n    ],\n    get: [\"GET /repos/{owner}/{repo}/pulls/{pull_number}\"],\n    getReview: [\n      \"GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}\"\n    ],\n    getReviewComment: [\"GET /repos/{owner}/{repo}/pulls/comments/{comment_id}\"],\n    list: [\"GET /repos/{owner}/{repo}/pulls\"],\n    listCommentsForReview: [\n      \"GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments\"\n    ],\n    listCommits: [\"GET /repos/{owner}/{repo}/pulls/{pull_number}/commits\"],\n    listFiles: [\"GET /repos/{owner}/{repo}/pulls/{pull_number}/files\"],\n    listRequestedReviewers: [\n      \"GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers\"\n    ],\n    listReviewComments: [\n      \"GET /repos/{owner}/{repo}/pulls/{pull_number}/comments\"\n    ],\n    listReviewCommentsForRepo: [\"GET /repos/{owner}/{repo}/pulls/comments\"],\n    listReviews: [\"GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews\"],\n    merge: [\"PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge\"],\n    removeRequestedReviewers: [\n      \"DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers\"\n    ],\n    requestReviewers: [\n      \"POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers\"\n    ],\n    submitReview: [\n      \"POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events\"\n    ],\n    update: [\"PATCH /repos/{owner}/{repo}/pulls/{pull_number}\"],\n    updateBranch: [\n      \"PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch\"\n    ],\n    updateReview: [\n      \"PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}\"\n    ],\n    updateReviewComment: [\n      \"PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}\"\n    ]\n  },\n  rateLimit: { get: [\"GET /rate_limit\"] },\n  reactions: {\n    createForCommitComment: [\n      \"POST /repos/{owner}/{repo}/comments/{comment_id}/reactions\"\n    ],\n    createForIssue: [\n      \"POST /repos/{owner}/{repo}/issues/{issue_number}/reactions\"\n    ],\n    createForIssueComment: [\n      \"POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions\"\n    ],\n    createForPullRequestReviewComment: [\n      \"POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions\"\n    ],\n    createForRelease: [\n      \"POST /repos/{owner}/{repo}/releases/{release_id}/reactions\"\n    ],\n    createForTeamDiscussionCommentInOrg: [\n      \"POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions\"\n    ],\n    createForTeamDiscussionInOrg: [\n      \"POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions\"\n    ],\n    deleteForCommitComment: [\n      \"DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}\"\n    ],\n    deleteForIssue: [\n      \"DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}\"\n    ],\n    deleteForIssueComment: [\n      \"DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}\"\n    ],\n    deleteForPullRequestComment: [\n      \"DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}\"\n    ],\n    deleteForRelease: [\n      \"DELETE /repos/{owner}/{repo}/releases/{release_id}/reactions/{reaction_id}\"\n    ],\n    deleteForTeamDiscussion: [\n      \"DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}\"\n    ],\n    deleteForTeamDiscussionComment: [\n      \"DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}\"\n    ],\n    listForCommitComment: [\n      \"GET /repos/{owner}/{repo}/comments/{comment_id}/reactions\"\n    ],\n    listForIssue: [\"GET /repos/{owner}/{repo}/issues/{issue_number}/reactions\"],\n    listForIssueComment: [\n      \"GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions\"\n    ],\n    listForPullRequestReviewComment: [\n      \"GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions\"\n    ],\n    listForRelease: [\n      \"GET /repos/{owner}/{repo}/releases/{release_id}/reactions\"\n    ],\n    listForTeamDiscussionCommentInOrg: [\n      \"GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions\"\n    ],\n    listForTeamDiscussionInOrg: [\n      \"GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions\"\n    ]\n  },\n  repos: {\n    acceptInvitation: [\n      \"PATCH /user/repository_invitations/{invitation_id}\",\n      {},\n      { renamed: [\"repos\", \"acceptInvitationForAuthenticatedUser\"] }\n    ],\n    acceptInvitationForAuthenticatedUser: [\n      \"PATCH /user/repository_invitations/{invitation_id}\"\n    ],\n    addAppAccessRestrictions: [\n      \"POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps\",\n      {},\n      { mapToData: \"apps\" }\n    ],\n    addCollaborator: [\"PUT /repos/{owner}/{repo}/collaborators/{username}\"],\n    addStatusCheckContexts: [\n      \"POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts\",\n      {},\n      { mapToData: \"contexts\" }\n    ],\n    addTeamAccessRestrictions: [\n      \"POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams\",\n      {},\n      { mapToData: \"teams\" }\n    ],\n    addUserAccessRestrictions: [\n      \"POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users\",\n      {},\n      { mapToData: \"users\" }\n    ],\n    cancelPagesDeployment: [\n      \"POST /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}/cancel\"\n    ],\n    checkAutomatedSecurityFixes: [\n      \"GET /repos/{owner}/{repo}/automated-security-fixes\"\n    ],\n    checkCollaborator: [\"GET /repos/{owner}/{repo}/collaborators/{username}\"],\n    checkPrivateVulnerabilityReporting: [\n      \"GET /repos/{owner}/{repo}/private-vulnerability-reporting\"\n    ],\n    checkVulnerabilityAlerts: [\n      \"GET /repos/{owner}/{repo}/vulnerability-alerts\"\n    ],\n    codeownersErrors: [\"GET /repos/{owner}/{repo}/codeowners/errors\"],\n    compareCommits: [\"GET /repos/{owner}/{repo}/compare/{base}...{head}\"],\n    compareCommitsWithBasehead: [\n      \"GET /repos/{owner}/{repo}/compare/{basehead}\"\n    ],\n    createAttestation: [\"POST /repos/{owner}/{repo}/attestations\"],\n    createAutolink: [\"POST /repos/{owner}/{repo}/autolinks\"],\n    createCommitComment: [\n      \"POST /repos/{owner}/{repo}/commits/{commit_sha}/comments\"\n    ],\n    createCommitSignatureProtection: [\n      \"POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures\"\n    ],\n    createCommitStatus: [\"POST /repos/{owner}/{repo}/statuses/{sha}\"],\n    createDeployKey: [\"POST /repos/{owner}/{repo}/keys\"],\n    createDeployment: [\"POST /repos/{owner}/{repo}/deployments\"],\n    createDeploymentBranchPolicy: [\n      \"POST /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies\"\n    ],\n    createDeploymentProtectionRule: [\n      \"POST /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules\"\n    ],\n    createDeploymentStatus: [\n      \"POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses\"\n    ],\n    createDispatchEvent: [\"POST /repos/{owner}/{repo}/dispatches\"],\n    createForAuthenticatedUser: [\"POST /user/repos\"],\n    createFork: [\"POST /repos/{owner}/{repo}/forks\"],\n    createInOrg: [\"POST /orgs/{org}/repos\"],\n    createOrUpdateCustomPropertiesValues: [\n      \"PATCH /repos/{owner}/{repo}/properties/values\"\n    ],\n    createOrUpdateEnvironment: [\n      \"PUT /repos/{owner}/{repo}/environments/{environment_name}\"\n    ],\n    createOrUpdateFileContents: [\"PUT /repos/{owner}/{repo}/contents/{path}\"],\n    createOrgRuleset: [\"POST /orgs/{org}/rulesets\"],\n    createPagesDeployment: [\"POST /repos/{owner}/{repo}/pages/deployments\"],\n    createPagesSite: [\"POST /repos/{owner}/{repo}/pages\"],\n    createRelease: [\"POST /repos/{owner}/{repo}/releases\"],\n    createRepoRuleset: [\"POST /repos/{owner}/{repo}/rulesets\"],\n    createUsingTemplate: [\n      \"POST /repos/{template_owner}/{template_repo}/generate\"\n    ],\n    createWebhook: [\"POST /repos/{owner}/{repo}/hooks\"],\n    declineInvitation: [\n      \"DELETE /user/repository_invitations/{invitation_id}\",\n      {},\n      { renamed: [\"repos\", \"declineInvitationForAuthenticatedUser\"] }\n    ],\n    declineInvitationForAuthenticatedUser: [\n      \"DELETE /user/repository_invitations/{invitation_id}\"\n    ],\n    delete: [\"DELETE /repos/{owner}/{repo}\"],\n    deleteAccessRestrictions: [\n      \"DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions\"\n    ],\n    deleteAdminBranchProtection: [\n      \"DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins\"\n    ],\n    deleteAnEnvironment: [\n      \"DELETE /repos/{owner}/{repo}/environments/{environment_name}\"\n    ],\n    deleteAutolink: [\"DELETE /repos/{owner}/{repo}/autolinks/{autolink_id}\"],\n    deleteBranchProtection: [\n      \"DELETE /repos/{owner}/{repo}/branches/{branch}/protection\"\n    ],\n    deleteCommitComment: [\"DELETE /repos/{owner}/{repo}/comments/{comment_id}\"],\n    deleteCommitSignatureProtection: [\n      \"DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures\"\n    ],\n    deleteDeployKey: [\"DELETE /repos/{owner}/{repo}/keys/{key_id}\"],\n    deleteDeployment: [\n      \"DELETE /repos/{owner}/{repo}/deployments/{deployment_id}\"\n    ],\n    deleteDeploymentBranchPolicy: [\n      \"DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}\"\n    ],\n    deleteFile: [\"DELETE /repos/{owner}/{repo}/contents/{path}\"],\n    deleteInvitation: [\n      \"DELETE /repos/{owner}/{repo}/invitations/{invitation_id}\"\n    ],\n    deleteOrgRuleset: [\"DELETE /orgs/{org}/rulesets/{ruleset_id}\"],\n    deletePagesSite: [\"DELETE /repos/{owner}/{repo}/pages\"],\n    deletePullRequestReviewProtection: [\n      \"DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews\"\n    ],\n    deleteRelease: [\"DELETE /repos/{owner}/{repo}/releases/{release_id}\"],\n    deleteReleaseAsset: [\n      \"DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}\"\n    ],\n    deleteRepoRuleset: [\"DELETE /repos/{owner}/{repo}/rulesets/{ruleset_id}\"],\n    deleteWebhook: [\"DELETE /repos/{owner}/{repo}/hooks/{hook_id}\"],\n    disableAutomatedSecurityFixes: [\n      \"DELETE /repos/{owner}/{repo}/automated-security-fixes\"\n    ],\n    disableDeploymentProtectionRule: [\n      \"DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}\"\n    ],\n    disablePrivateVulnerabilityReporting: [\n      \"DELETE /repos/{owner}/{repo}/private-vulnerability-reporting\"\n    ],\n    disableVulnerabilityAlerts: [\n      \"DELETE /repos/{owner}/{repo}/vulnerability-alerts\"\n    ],\n    downloadArchive: [\n      \"GET /repos/{owner}/{repo}/zipball/{ref}\",\n      {},\n      { renamed: [\"repos\", \"downloadZipballArchive\"] }\n    ],\n    downloadTarballArchive: [\"GET /repos/{owner}/{repo}/tarball/{ref}\"],\n    downloadZipballArchive: [\"GET /repos/{owner}/{repo}/zipball/{ref}\"],\n    enableAutomatedSecurityFixes: [\n      \"PUT /repos/{owner}/{repo}/automated-security-fixes\"\n    ],\n    enablePrivateVulnerabilityReporting: [\n      \"PUT /repos/{owner}/{repo}/private-vulnerability-reporting\"\n    ],\n    enableVulnerabilityAlerts: [\n      \"PUT /repos/{owner}/{repo}/vulnerability-alerts\"\n    ],\n    generateReleaseNotes: [\n      \"POST /repos/{owner}/{repo}/releases/generate-notes\"\n    ],\n    get: [\"GET /repos/{owner}/{repo}\"],\n    getAccessRestrictions: [\n      \"GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions\"\n    ],\n    getAdminBranchProtection: [\n      \"GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins\"\n    ],\n    getAllDeploymentProtectionRules: [\n      \"GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules\"\n    ],\n    getAllEnvironments: [\"GET /repos/{owner}/{repo}/environments\"],\n    getAllStatusCheckContexts: [\n      \"GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts\"\n    ],\n    getAllTopics: [\"GET /repos/{owner}/{repo}/topics\"],\n    getAppsWithAccessToProtectedBranch: [\n      \"GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps\"\n    ],\n    getAutolink: [\"GET /repos/{owner}/{repo}/autolinks/{autolink_id}\"],\n    getBranch: [\"GET /repos/{owner}/{repo}/branches/{branch}\"],\n    getBranchProtection: [\n      \"GET /repos/{owner}/{repo}/branches/{branch}/protection\"\n    ],\n    getBranchRules: [\"GET /repos/{owner}/{repo}/rules/branches/{branch}\"],\n    getClones: [\"GET /repos/{owner}/{repo}/traffic/clones\"],\n    getCodeFrequencyStats: [\"GET /repos/{owner}/{repo}/stats/code_frequency\"],\n    getCollaboratorPermissionLevel: [\n      \"GET /repos/{owner}/{repo}/collaborators/{username}/permission\"\n    ],\n    getCombinedStatusForRef: [\"GET /repos/{owner}/{repo}/commits/{ref}/status\"],\n    getCommit: [\"GET /repos/{owner}/{repo}/commits/{ref}\"],\n    getCommitActivityStats: [\"GET /repos/{owner}/{repo}/stats/commit_activity\"],\n    getCommitComment: [\"GET /repos/{owner}/{repo}/comments/{comment_id}\"],\n    getCommitSignatureProtection: [\n      \"GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures\"\n    ],\n    getCommunityProfileMetrics: [\"GET /repos/{owner}/{repo}/community/profile\"],\n    getContent: [\"GET /repos/{owner}/{repo}/contents/{path}\"],\n    getContributorsStats: [\"GET /repos/{owner}/{repo}/stats/contributors\"],\n    getCustomDeploymentProtectionRule: [\n      \"GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}\"\n    ],\n    getCustomPropertiesValues: [\"GET /repos/{owner}/{repo}/properties/values\"],\n    getDeployKey: [\"GET /repos/{owner}/{repo}/keys/{key_id}\"],\n    getDeployment: [\"GET /repos/{owner}/{repo}/deployments/{deployment_id}\"],\n    getDeploymentBranchPolicy: [\n      \"GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}\"\n    ],\n    getDeploymentStatus: [\n      \"GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}\"\n    ],\n    getEnvironment: [\n      \"GET /repos/{owner}/{repo}/environments/{environment_name}\"\n    ],\n    getLatestPagesBuild: [\"GET /repos/{owner}/{repo}/pages/builds/latest\"],\n    getLatestRelease: [\"GET /repos/{owner}/{repo}/releases/latest\"],\n    getOrgRuleSuite: [\"GET /orgs/{org}/rulesets/rule-suites/{rule_suite_id}\"],\n    getOrgRuleSuites: [\"GET /orgs/{org}/rulesets/rule-suites\"],\n    getOrgRuleset: [\"GET /orgs/{org}/rulesets/{ruleset_id}\"],\n    getOrgRulesets: [\"GET /orgs/{org}/rulesets\"],\n    getPages: [\"GET /repos/{owner}/{repo}/pages\"],\n    getPagesBuild: [\"GET /repos/{owner}/{repo}/pages/builds/{build_id}\"],\n    getPagesDeployment: [\n      \"GET /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}\"\n    ],\n    getPagesHealthCheck: [\"GET /repos/{owner}/{repo}/pages/health\"],\n    getParticipationStats: [\"GET /repos/{owner}/{repo}/stats/participation\"],\n    getPullRequestReviewProtection: [\n      \"GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews\"\n    ],\n    getPunchCardStats: [\"GET /repos/{owner}/{repo}/stats/punch_card\"],\n    getReadme: [\"GET /repos/{owner}/{repo}/readme\"],\n    getReadmeInDirectory: [\"GET /repos/{owner}/{repo}/readme/{dir}\"],\n    getRelease: [\"GET /repos/{owner}/{repo}/releases/{release_id}\"],\n    getReleaseAsset: [\"GET /repos/{owner}/{repo}/releases/assets/{asset_id}\"],\n    getReleaseByTag: [\"GET /repos/{owner}/{repo}/releases/tags/{tag}\"],\n    getRepoRuleSuite: [\n      \"GET /repos/{owner}/{repo}/rulesets/rule-suites/{rule_suite_id}\"\n    ],\n    getRepoRuleSuites: [\"GET /repos/{owner}/{repo}/rulesets/rule-suites\"],\n    getRepoRuleset: [\"GET /repos/{owner}/{repo}/rulesets/{ruleset_id}\"],\n    getRepoRulesetHistory: [\n      \"GET /repos/{owner}/{repo}/rulesets/{ruleset_id}/history\"\n    ],\n    getRepoRulesetVersion: [\n      \"GET /repos/{owner}/{repo}/rulesets/{ruleset_id}/history/{version_id}\"\n    ],\n    getRepoRulesets: [\"GET /repos/{owner}/{repo}/rulesets\"],\n    getStatusChecksProtection: [\n      \"GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks\"\n    ],\n    getTeamsWithAccessToProtectedBranch: [\n      \"GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams\"\n    ],\n    getTopPaths: [\"GET /repos/{owner}/{repo}/traffic/popular/paths\"],\n    getTopReferrers: [\"GET /repos/{owner}/{repo}/traffic/popular/referrers\"],\n    getUsersWithAccessToProtectedBranch: [\n      \"GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users\"\n    ],\n    getViews: [\"GET /repos/{owner}/{repo}/traffic/views\"],\n    getWebhook: [\"GET /repos/{owner}/{repo}/hooks/{hook_id}\"],\n    getWebhookConfigForRepo: [\n      \"GET /repos/{owner}/{repo}/hooks/{hook_id}/config\"\n    ],\n    getWebhookDelivery: [\n      \"GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}\"\n    ],\n    listActivities: [\"GET /repos/{owner}/{repo}/activity\"],\n    listAttestations: [\n      \"GET /repos/{owner}/{repo}/attestations/{subject_digest}\"\n    ],\n    listAutolinks: [\"GET /repos/{owner}/{repo}/autolinks\"],\n    listBranches: [\"GET /repos/{owner}/{repo}/branches\"],\n    listBranchesForHeadCommit: [\n      \"GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head\"\n    ],\n    listCollaborators: [\"GET /repos/{owner}/{repo}/collaborators\"],\n    listCommentsForCommit: [\n      \"GET /repos/{owner}/{repo}/commits/{commit_sha}/comments\"\n    ],\n    listCommitCommentsForRepo: [\"GET /repos/{owner}/{repo}/comments\"],\n    listCommitStatusesForRef: [\n      \"GET /repos/{owner}/{repo}/commits/{ref}/statuses\"\n    ],\n    listCommits: [\"GET /repos/{owner}/{repo}/commits\"],\n    listContributors: [\"GET /repos/{owner}/{repo}/contributors\"],\n    listCustomDeploymentRuleIntegrations: [\n      \"GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/apps\"\n    ],\n    listDeployKeys: [\"GET /repos/{owner}/{repo}/keys\"],\n    listDeploymentBranchPolicies: [\n      \"GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies\"\n    ],\n    listDeploymentStatuses: [\n      \"GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses\"\n    ],\n    listDeployments: [\"GET /repos/{owner}/{repo}/deployments\"],\n    listForAuthenticatedUser: [\"GET /user/repos\"],\n    listForOrg: [\"GET /orgs/{org}/repos\"],\n    listForUser: [\"GET /users/{username}/repos\"],\n    listForks: [\"GET /repos/{owner}/{repo}/forks\"],\n    listInvitations: [\"GET /repos/{owner}/{repo}/invitations\"],\n    listInvitationsForAuthenticatedUser: [\"GET /user/repository_invitations\"],\n    listLanguages: [\"GET /repos/{owner}/{repo}/languages\"],\n    listPagesBuilds: [\"GET /repos/{owner}/{repo}/pages/builds\"],\n    listPublic: [\"GET /repositories\"],\n    listPullRequestsAssociatedWithCommit: [\n      \"GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls\"\n    ],\n    listReleaseAssets: [\n      \"GET /repos/{owner}/{repo}/releases/{release_id}/assets\"\n    ],\n    listReleases: [\"GET /repos/{owner}/{repo}/releases\"],\n    listTags: [\"GET /repos/{owner}/{repo}/tags\"],\n    listTeams: [\"GET /repos/{owner}/{repo}/teams\"],\n    listWebhookDeliveries: [\n      \"GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries\"\n    ],\n    listWebhooks: [\"GET /repos/{owner}/{repo}/hooks\"],\n    merge: [\"POST /repos/{owner}/{repo}/merges\"],\n    mergeUpstream: [\"POST /repos/{owner}/{repo}/merge-upstream\"],\n    pingWebhook: [\"POST /repos/{owner}/{repo}/hooks/{hook_id}/pings\"],\n    redeliverWebhookDelivery: [\n      \"POST /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}/attempts\"\n    ],\n    removeAppAccessRestrictions: [\n      \"DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps\",\n      {},\n      { mapToData: \"apps\" }\n    ],\n    removeCollaborator: [\n      \"DELETE /repos/{owner}/{repo}/collaborators/{username}\"\n    ],\n    removeStatusCheckContexts: [\n      \"DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts\",\n      {},\n      { mapToData: \"contexts\" }\n    ],\n    removeStatusCheckProtection: [\n      \"DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks\"\n    ],\n    removeTeamAccessRestrictions: [\n      \"DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams\",\n      {},\n      { mapToData: \"teams\" }\n    ],\n    removeUserAccessRestrictions: [\n      \"DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users\",\n      {},\n      { mapToData: \"users\" }\n    ],\n    renameBranch: [\"POST /repos/{owner}/{repo}/branches/{branch}/rename\"],\n    replaceAllTopics: [\"PUT /repos/{owner}/{repo}/topics\"],\n    requestPagesBuild: [\"POST /repos/{owner}/{repo}/pages/builds\"],\n    setAdminBranchProtection: [\n      \"POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins\"\n    ],\n    setAppAccessRestrictions: [\n      \"PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps\",\n      {},\n      { mapToData: \"apps\" }\n    ],\n    setStatusCheckContexts: [\n      \"PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts\",\n      {},\n      { mapToData: \"contexts\" }\n    ],\n    setTeamAccessRestrictions: [\n      \"PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams\",\n      {},\n      { mapToData: \"teams\" }\n    ],\n    setUserAccessRestrictions: [\n      \"PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users\",\n      {},\n      { mapToData: \"users\" }\n    ],\n    testPushWebhook: [\"POST /repos/{owner}/{repo}/hooks/{hook_id}/tests\"],\n    transfer: [\"POST /repos/{owner}/{repo}/transfer\"],\n    update: [\"PATCH /repos/{owner}/{repo}\"],\n    updateBranchProtection: [\n      \"PUT /repos/{owner}/{repo}/branches/{branch}/protection\"\n    ],\n    updateCommitComment: [\"PATCH /repos/{owner}/{repo}/comments/{comment_id}\"],\n    updateDeploymentBranchPolicy: [\n      \"PUT /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}\"\n    ],\n    updateInformationAboutPagesSite: [\"PUT /repos/{owner}/{repo}/pages\"],\n    updateInvitation: [\n      \"PATCH /repos/{owner}/{repo}/invitations/{invitation_id}\"\n    ],\n    updateOrgRuleset: [\"PUT /orgs/{org}/rulesets/{ruleset_id}\"],\n    updatePullRequestReviewProtection: [\n      \"PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews\"\n    ],\n    updateRelease: [\"PATCH /repos/{owner}/{repo}/releases/{release_id}\"],\n    updateReleaseAsset: [\n      \"PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}\"\n    ],\n    updateRepoRuleset: [\"PUT /repos/{owner}/{repo}/rulesets/{ruleset_id}\"],\n    updateStatusCheckPotection: [\n      \"PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks\",\n      {},\n      { renamed: [\"repos\", \"updateStatusCheckProtection\"] }\n    ],\n    updateStatusCheckProtection: [\n      \"PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks\"\n    ],\n    updateWebhook: [\"PATCH /repos/{owner}/{repo}/hooks/{hook_id}\"],\n    updateWebhookConfigForRepo: [\n      \"PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config\"\n    ],\n    uploadReleaseAsset: [\n      \"POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}\",\n      { baseUrl: \"https://uploads.github.com\" }\n    ]\n  },\n  search: {\n    code: [\"GET /search/code\"],\n    commits: [\"GET /search/commits\"],\n    issuesAndPullRequests: [\n      \"GET /search/issues\",\n      {},\n      {\n        deprecated: \"octokit.rest.search.issuesAndPullRequests() is deprecated, see https://docs.github.com/rest/search/search#search-issues-and-pull-requests\"\n      }\n    ],\n    labels: [\"GET /search/labels\"],\n    repos: [\"GET /search/repositories\"],\n    topics: [\"GET /search/topics\"],\n    users: [\"GET /search/users\"]\n  },\n  secretScanning: {\n    createPushProtectionBypass: [\n      \"POST /repos/{owner}/{repo}/secret-scanning/push-protection-bypasses\"\n    ],\n    getAlert: [\n      \"GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}\"\n    ],\n    getScanHistory: [\"GET /repos/{owner}/{repo}/secret-scanning/scan-history\"],\n    listAlertsForEnterprise: [\n      \"GET /enterprises/{enterprise}/secret-scanning/alerts\"\n    ],\n    listAlertsForOrg: [\"GET /orgs/{org}/secret-scanning/alerts\"],\n    listAlertsForRepo: [\"GET /repos/{owner}/{repo}/secret-scanning/alerts\"],\n    listLocationsForAlert: [\n      \"GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}/locations\"\n    ],\n    updateAlert: [\n      \"PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}\"\n    ]\n  },\n  securityAdvisories: {\n    createFork: [\n      \"POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/forks\"\n    ],\n    createPrivateVulnerabilityReport: [\n      \"POST /repos/{owner}/{repo}/security-advisories/reports\"\n    ],\n    createRepositoryAdvisory: [\n      \"POST /repos/{owner}/{repo}/security-advisories\"\n    ],\n    createRepositoryAdvisoryCveRequest: [\n      \"POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/cve\"\n    ],\n    getGlobalAdvisory: [\"GET /advisories/{ghsa_id}\"],\n    getRepositoryAdvisory: [\n      \"GET /repos/{owner}/{repo}/security-advisories/{ghsa_id}\"\n    ],\n    listGlobalAdvisories: [\"GET /advisories\"],\n    listOrgRepositoryAdvisories: [\"GET /orgs/{org}/security-advisories\"],\n    listRepositoryAdvisories: [\"GET /repos/{owner}/{repo}/security-advisories\"],\n    updateRepositoryAdvisory: [\n      \"PATCH /repos/{owner}/{repo}/security-advisories/{ghsa_id}\"\n    ]\n  },\n  teams: {\n    addOrUpdateMembershipForUserInOrg: [\n      \"PUT /orgs/{org}/teams/{team_slug}/memberships/{username}\"\n    ],\n    addOrUpdateRepoPermissionsInOrg: [\n      \"PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}\"\n    ],\n    checkPermissionsForRepoInOrg: [\n      \"GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}\"\n    ],\n    create: [\"POST /orgs/{org}/teams\"],\n    createDiscussionCommentInOrg: [\n      \"POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments\"\n    ],\n    createDiscussionInOrg: [\"POST /orgs/{org}/teams/{team_slug}/discussions\"],\n    deleteDiscussionCommentInOrg: [\n      \"DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}\"\n    ],\n    deleteDiscussionInOrg: [\n      \"DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}\"\n    ],\n    deleteInOrg: [\"DELETE /orgs/{org}/teams/{team_slug}\"],\n    getByName: [\"GET /orgs/{org}/teams/{team_slug}\"],\n    getDiscussionCommentInOrg: [\n      \"GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}\"\n    ],\n    getDiscussionInOrg: [\n      \"GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}\"\n    ],\n    getMembershipForUserInOrg: [\n      \"GET /orgs/{org}/teams/{team_slug}/memberships/{username}\"\n    ],\n    list: [\"GET /orgs/{org}/teams\"],\n    listChildInOrg: [\"GET /orgs/{org}/teams/{team_slug}/teams\"],\n    listDiscussionCommentsInOrg: [\n      \"GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments\"\n    ],\n    listDiscussionsInOrg: [\"GET /orgs/{org}/teams/{team_slug}/discussions\"],\n    listForAuthenticatedUser: [\"GET /user/teams\"],\n    listMembersInOrg: [\"GET /orgs/{org}/teams/{team_slug}/members\"],\n    listPendingInvitationsInOrg: [\n      \"GET /orgs/{org}/teams/{team_slug}/invitations\"\n    ],\n    listReposInOrg: [\"GET /orgs/{org}/teams/{team_slug}/repos\"],\n    removeMembershipForUserInOrg: [\n      \"DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}\"\n    ],\n    removeRepoInOrg: [\n      \"DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}\"\n    ],\n    updateDiscussionCommentInOrg: [\n      \"PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}\"\n    ],\n    updateDiscussionInOrg: [\n      \"PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}\"\n    ],\n    updateInOrg: [\"PATCH /orgs/{org}/teams/{team_slug}\"]\n  },\n  users: {\n    addEmailForAuthenticated: [\n      \"POST /user/emails\",\n      {},\n      { renamed: [\"users\", \"addEmailForAuthenticatedUser\"] }\n    ],\n    addEmailForAuthenticatedUser: [\"POST /user/emails\"],\n    addSocialAccountForAuthenticatedUser: [\"POST /user/social_accounts\"],\n    block: [\"PUT /user/blocks/{username}\"],\n    checkBlocked: [\"GET /user/blocks/{username}\"],\n    checkFollowingForUser: [\"GET /users/{username}/following/{target_user}\"],\n    checkPersonIsFollowedByAuthenticated: [\"GET /user/following/{username}\"],\n    createGpgKeyForAuthenticated: [\n      \"POST /user/gpg_keys\",\n      {},\n      { renamed: [\"users\", \"createGpgKeyForAuthenticatedUser\"] }\n    ],\n    createGpgKeyForAuthenticatedUser: [\"POST /user/gpg_keys\"],\n    createPublicSshKeyForAuthenticated: [\n      \"POST /user/keys\",\n      {},\n      { renamed: [\"users\", \"createPublicSshKeyForAuthenticatedUser\"] }\n    ],\n    createPublicSshKeyForAuthenticatedUser: [\"POST /user/keys\"],\n    createSshSigningKeyForAuthenticatedUser: [\"POST /user/ssh_signing_keys\"],\n    deleteEmailForAuthenticated: [\n      \"DELETE /user/emails\",\n      {},\n      { renamed: [\"users\", \"deleteEmailForAuthenticatedUser\"] }\n    ],\n    deleteEmailForAuthenticatedUser: [\"DELETE /user/emails\"],\n    deleteGpgKeyForAuthenticated: [\n      \"DELETE /user/gpg_keys/{gpg_key_id}\",\n      {},\n      { renamed: [\"users\", \"deleteGpgKeyForAuthenticatedUser\"] }\n    ],\n    deleteGpgKeyForAuthenticatedUser: [\"DELETE /user/gpg_keys/{gpg_key_id}\"],\n    deletePublicSshKeyForAuthenticated: [\n      \"DELETE /user/keys/{key_id}\",\n      {},\n      { renamed: [\"users\", \"deletePublicSshKeyForAuthenticatedUser\"] }\n    ],\n    deletePublicSshKeyForAuthenticatedUser: [\"DELETE /user/keys/{key_id}\"],\n    deleteSocialAccountForAuthenticatedUser: [\"DELETE /user/social_accounts\"],\n    deleteSshSigningKeyForAuthenticatedUser: [\n      \"DELETE /user/ssh_signing_keys/{ssh_signing_key_id}\"\n    ],\n    follow: [\"PUT /user/following/{username}\"],\n    getAuthenticated: [\"GET /user\"],\n    getById: [\"GET /user/{account_id}\"],\n    getByUsername: [\"GET /users/{username}\"],\n    getContextForUser: [\"GET /users/{username}/hovercard\"],\n    getGpgKeyForAuthenticated: [\n      \"GET /user/gpg_keys/{gpg_key_id}\",\n      {},\n      { renamed: [\"users\", \"getGpgKeyForAuthenticatedUser\"] }\n    ],\n    getGpgKeyForAuthenticatedUser: [\"GET /user/gpg_keys/{gpg_key_id}\"],\n    getPublicSshKeyForAuthenticated: [\n      \"GET /user/keys/{key_id}\",\n      {},\n      { renamed: [\"users\", \"getPublicSshKeyForAuthenticatedUser\"] }\n    ],\n    getPublicSshKeyForAuthenticatedUser: [\"GET /user/keys/{key_id}\"],\n    getSshSigningKeyForAuthenticatedUser: [\n      \"GET /user/ssh_signing_keys/{ssh_signing_key_id}\"\n    ],\n    list: [\"GET /users\"],\n    listAttestations: [\"GET /users/{username}/attestations/{subject_digest}\"],\n    listBlockedByAuthenticated: [\n      \"GET /user/blocks\",\n      {},\n      { renamed: [\"users\", \"listBlockedByAuthenticatedUser\"] }\n    ],\n    listBlockedByAuthenticatedUser: [\"GET /user/blocks\"],\n    listEmailsForAuthenticated: [\n      \"GET /user/emails\",\n      {},\n      { renamed: [\"users\", \"listEmailsForAuthenticatedUser\"] }\n    ],\n    listEmailsForAuthenticatedUser: [\"GET /user/emails\"],\n    listFollowedByAuthenticated: [\n      \"GET /user/following\",\n      {},\n      { renamed: [\"users\", \"listFollowedByAuthenticatedUser\"] }\n    ],\n    listFollowedByAuthenticatedUser: [\"GET /user/following\"],\n    listFollowersForAuthenticatedUser: [\"GET /user/followers\"],\n    listFollowersForUser: [\"GET /users/{username}/followers\"],\n    listFollowingForUser: [\"GET /users/{username}/following\"],\n    listGpgKeysForAuthenticated: [\n      \"GET /user/gpg_keys\",\n      {},\n      { renamed: [\"users\", \"listGpgKeysForAuthenticatedUser\"] }\n    ],\n    listGpgKeysForAuthenticatedUser: [\"GET /user/gpg_keys\"],\n    listGpgKeysForUser: [\"GET /users/{username}/gpg_keys\"],\n    listPublicEmailsForAuthenticated: [\n      \"GET /user/public_emails\",\n      {},\n      { renamed: [\"users\", \"listPublicEmailsForAuthenticatedUser\"] }\n    ],\n    listPublicEmailsForAuthenticatedUser: [\"GET /user/public_emails\"],\n    listPublicKeysForUser: [\"GET /users/{username}/keys\"],\n    listPublicSshKeysForAuthenticated: [\n      \"GET /user/keys\",\n      {},\n      { renamed: [\"users\", \"listPublicSshKeysForAuthenticatedUser\"] }\n    ],\n    listPublicSshKeysForAuthenticatedUser: [\"GET /user/keys\"],\n    listSocialAccountsForAuthenticatedUser: [\"GET /user/social_accounts\"],\n    listSocialAccountsForUser: [\"GET /users/{username}/social_accounts\"],\n    listSshSigningKeysForAuthenticatedUser: [\"GET /user/ssh_signing_keys\"],\n    listSshSigningKeysForUser: [\"GET /users/{username}/ssh_signing_keys\"],\n    setPrimaryEmailVisibilityForAuthenticated: [\n      \"PATCH /user/email/visibility\",\n      {},\n      { renamed: [\"users\", \"setPrimaryEmailVisibilityForAuthenticatedUser\"] }\n    ],\n    setPrimaryEmailVisibilityForAuthenticatedUser: [\n      \"PATCH /user/email/visibility\"\n    ],\n    unblock: [\"DELETE /user/blocks/{username}\"],\n    unfollow: [\"DELETE /user/following/{username}\"],\n    updateAuthenticated: [\"PATCH /user\"]\n  }\n};\nvar endpoints_default = Endpoints;\nexport {\n  endpoints_default as default\n};\n//# sourceMappingURL=endpoints.js.map\n","import { VERSION } from \"./version.js\";\nimport { endpointsToMethods } from \"./endpoints-to-methods.js\";\nfunction restEndpointMethods(octokit) {\n  const api = endpointsToMethods(octokit);\n  return {\n    rest: api\n  };\n}\nrestEndpointMethods.VERSION = VERSION;\nfunction legacyRestEndpointMethods(octokit) {\n  const api = endpointsToMethods(octokit);\n  return {\n    ...api,\n    rest: api\n  };\n}\nlegacyRestEndpointMethods.VERSION = VERSION;\nexport {\n  legacyRestEndpointMethods,\n  restEndpointMethods\n};\n//# sourceMappingURL=index.js.map\n","const VERSION = \"14.0.0\";\nexport {\n  VERSION\n};\n//# sourceMappingURL=version.js.map\n","// pkg/dist-src/version.js\nvar VERSION = \"0.0.0-development\";\n\n// pkg/dist-src/error-request.js\nasync function errorRequest(state, octokit, error, options) {\n  if (!error.request || !error.request.request) {\n    throw error;\n  }\n  if (error.status >= 400 && !state.doNotRetry.includes(error.status)) {\n    const retries = options.request.retries != null ? options.request.retries : state.retries;\n    const retryAfter = Math.pow((options.request.retryCount || 0) + 1, 2);\n    throw octokit.retry.retryRequest(error, retries, retryAfter);\n  }\n  throw error;\n}\n\n// pkg/dist-src/wrap-request.js\nimport Bottleneck from \"bottleneck/light.js\";\nimport { RequestError } from \"@octokit/request-error\";\nasync function wrapRequest(state, octokit, request, options) {\n  const limiter = new Bottleneck();\n  limiter.on(\"failed\", function(error, info) {\n    const maxRetries = ~~error.request.request.retries;\n    const after = ~~error.request.request.retryAfter;\n    options.request.retryCount = info.retryCount + 1;\n    if (maxRetries > info.retryCount) {\n      return after * state.retryAfterBaseValue;\n    }\n  });\n  return limiter.schedule(\n    requestWithGraphqlErrorHandling.bind(null, state, octokit, request),\n    options\n  );\n}\nasync function requestWithGraphqlErrorHandling(state, octokit, request, options) {\n  const response = await request(request, options);\n  if (response.data && response.data.errors && response.data.errors.length > 0 && /Something went wrong while executing your query/.test(\n    response.data.errors[0].message\n  )) {\n    const error = new RequestError(response.data.errors[0].message, 500, {\n      request: options,\n      response\n    });\n    return errorRequest(state, octokit, error, options);\n  }\n  return response;\n}\n\n// pkg/dist-src/index.js\nfunction retry(octokit, octokitOptions) {\n  const state = Object.assign(\n    {\n      enabled: true,\n      retryAfterBaseValue: 1e3,\n      doNotRetry: [400, 401, 403, 404, 410, 422, 451],\n      retries: 3\n    },\n    octokitOptions.retry\n  );\n  if (state.enabled) {\n    octokit.hook.error(\"request\", errorRequest.bind(null, state, octokit));\n    octokit.hook.wrap(\"request\", wrapRequest.bind(null, state, octokit));\n  }\n  return {\n    retry: {\n      retryRequest: (error, retries, retryAfter) => {\n        error.request.request = Object.assign({}, error.request.request, {\n          retries,\n          retryAfter\n        });\n        return error;\n      }\n    }\n  };\n}\nretry.VERSION = VERSION;\nexport {\n  VERSION,\n  retry\n};\n","// pkg/dist-src/index.js\nimport BottleneckLight from \"bottleneck/light.js\";\n\n// pkg/dist-src/version.js\nvar VERSION = \"0.0.0-development\";\n\n// pkg/dist-src/wrap-request.js\nvar noop = () => Promise.resolve();\nfunction wrapRequest(state, request, options) {\n  return state.retryLimiter.schedule(doRequest, state, request, options);\n}\nasync function doRequest(state, request, options) {\n  const { pathname } = new URL(options.url, \"http://github.test\");\n  const isAuth = isAuthRequest(options.method, pathname);\n  const isWrite = !isAuth && options.method !== \"GET\" && options.method !== \"HEAD\";\n  const isSearch = options.method === \"GET\" && pathname.startsWith(\"/search/\");\n  const isGraphQL = pathname.startsWith(\"/graphql\");\n  const retryCount = ~~request.retryCount;\n  const jobOptions = retryCount > 0 ? { priority: 0, weight: 0 } : {};\n  if (state.clustering) {\n    jobOptions.expiration = 1e3 * 60;\n  }\n  if (isWrite || isGraphQL) {\n    await state.write.key(state.id).schedule(jobOptions, noop);\n  }\n  if (isWrite && state.triggersNotification(pathname)) {\n    await state.notifications.key(state.id).schedule(jobOptions, noop);\n  }\n  if (isSearch) {\n    await state.search.key(state.id).schedule(jobOptions, noop);\n  }\n  const req = (isAuth ? state.auth : state.global).key(state.id).schedule(jobOptions, request, options);\n  if (isGraphQL) {\n    const res = await req;\n    if (res.data.errors != null && res.data.errors.some((error) => error.type === \"RATE_LIMITED\")) {\n      const error = Object.assign(new Error(\"GraphQL Rate Limit Exceeded\"), {\n        response: res,\n        data: res.data\n      });\n      throw error;\n    }\n  }\n  return req;\n}\nfunction isAuthRequest(method, pathname) {\n  return method === \"PATCH\" && // https://docs.github.com/en/rest/apps/apps?apiVersion=2022-11-28#create-a-scoped-access-token\n  /^\\/applications\\/[^/]+\\/token\\/scoped$/.test(pathname) || method === \"POST\" && // https://docs.github.com/en/rest/apps/oauth-applications?apiVersion=2022-11-28#reset-a-token\n  (/^\\/applications\\/[^/]+\\/token$/.test(pathname) || // https://docs.github.com/en/rest/apps/apps?apiVersion=2022-11-28#create-an-installation-access-token-for-an-app\n  /^\\/app\\/installations\\/[^/]+\\/access_tokens$/.test(pathname) || // https://docs.github.com/en/apps/oauth-apps/building-oauth-apps/authorizing-oauth-apps\n  pathname === \"/login/oauth/access_token\");\n}\n\n// pkg/dist-src/generated/triggers-notification-paths.js\nvar triggers_notification_paths_default = [\n  \"/orgs/{org}/invitations\",\n  \"/orgs/{org}/invitations/{invitation_id}\",\n  \"/orgs/{org}/teams/{team_slug}/discussions\",\n  \"/orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments\",\n  \"/repos/{owner}/{repo}/collaborators/{username}\",\n  \"/repos/{owner}/{repo}/commits/{commit_sha}/comments\",\n  \"/repos/{owner}/{repo}/issues\",\n  \"/repos/{owner}/{repo}/issues/{issue_number}/comments\",\n  \"/repos/{owner}/{repo}/issues/{issue_number}/sub_issue\",\n  \"/repos/{owner}/{repo}/issues/{issue_number}/sub_issues/priority\",\n  \"/repos/{owner}/{repo}/pulls\",\n  \"/repos/{owner}/{repo}/pulls/{pull_number}/comments\",\n  \"/repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies\",\n  \"/repos/{owner}/{repo}/pulls/{pull_number}/merge\",\n  \"/repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers\",\n  \"/repos/{owner}/{repo}/pulls/{pull_number}/reviews\",\n  \"/repos/{owner}/{repo}/releases\",\n  \"/teams/{team_id}/discussions\",\n  \"/teams/{team_id}/discussions/{discussion_number}/comments\"\n];\n\n// pkg/dist-src/route-matcher.js\nfunction routeMatcher(paths) {\n  const regexes = paths.map(\n    (path) => path.split(\"/\").map((c) => c.startsWith(\"{\") ? \"(?:.+?)\" : c).join(\"/\")\n  );\n  const regex2 = `^(?:${regexes.map((r) => `(?:${r})`).join(\"|\")})[^/]*$`;\n  return new RegExp(regex2, \"i\");\n}\n\n// pkg/dist-src/index.js\nvar regex = routeMatcher(triggers_notification_paths_default);\nvar triggersNotification = regex.test.bind(regex);\nvar groups = {};\nvar createGroups = function(Bottleneck, common) {\n  groups.global = new Bottleneck.Group({\n    id: \"octokit-global\",\n    maxConcurrent: 10,\n    ...common\n  });\n  groups.auth = new Bottleneck.Group({\n    id: \"octokit-auth\",\n    maxConcurrent: 1,\n    ...common\n  });\n  groups.search = new Bottleneck.Group({\n    id: \"octokit-search\",\n    maxConcurrent: 1,\n    minTime: 2e3,\n    ...common\n  });\n  groups.write = new Bottleneck.Group({\n    id: \"octokit-write\",\n    maxConcurrent: 1,\n    minTime: 1e3,\n    ...common\n  });\n  groups.notifications = new Bottleneck.Group({\n    id: \"octokit-notifications\",\n    maxConcurrent: 1,\n    minTime: 3e3,\n    ...common\n  });\n};\nfunction throttling(octokit, octokitOptions) {\n  const {\n    enabled = true,\n    Bottleneck = BottleneckLight,\n    id = \"no-id\",\n    timeout = 1e3 * 60 * 2,\n    // Redis TTL: 2 minutes\n    connection\n  } = octokitOptions.throttle || {};\n  if (!enabled) {\n    return {};\n  }\n  const common = { timeout };\n  if (typeof connection !== \"undefined\") {\n    common.connection = connection;\n  }\n  if (groups.global == null) {\n    createGroups(Bottleneck, common);\n  }\n  const state = Object.assign(\n    {\n      clustering: connection != null,\n      triggersNotification,\n      fallbackSecondaryRateRetryAfter: 60,\n      retryAfterBaseValue: 1e3,\n      retryLimiter: new Bottleneck(),\n      id,\n      ...groups\n    },\n    octokitOptions.throttle\n  );\n  if (typeof state.onSecondaryRateLimit !== \"function\" || typeof state.onRateLimit !== \"function\") {\n    throw new Error(`octokit/plugin-throttling error:\n        You must pass the onSecondaryRateLimit and onRateLimit error handlers.\n        See https://octokit.github.io/rest.js/#throttling\n\n        const octokit = new Octokit({\n          throttle: {\n            onSecondaryRateLimit: (retryAfter, options) => {/* ... */},\n            onRateLimit: (retryAfter, options) => {/* ... */}\n          }\n        })\n    `);\n  }\n  const events = {};\n  const emitter = new Bottleneck.Events(events);\n  events.on(\"secondary-limit\", state.onSecondaryRateLimit);\n  events.on(\"rate-limit\", state.onRateLimit);\n  events.on(\n    \"error\",\n    (e) => octokit.log.warn(\"Error in throttling-plugin limit handler\", e)\n  );\n  state.retryLimiter.on(\"failed\", async function(error, info) {\n    const [state2, request, options] = info.args;\n    const { pathname } = new URL(options.url, \"http://github.test\");\n    const shouldRetryGraphQL = pathname.startsWith(\"/graphql\") && error.status !== 401;\n    if (!(shouldRetryGraphQL || error.status === 403 || error.status === 429)) {\n      return;\n    }\n    const retryCount = ~~request.retryCount;\n    request.retryCount = retryCount;\n    options.request.retryCount = retryCount;\n    const { wantRetry, retryAfter = 0 } = await async function() {\n      if (/\\bsecondary rate\\b/i.test(error.message)) {\n        const retryAfter2 = Number(error.response.headers[\"retry-after\"]) || state2.fallbackSecondaryRateRetryAfter;\n        const wantRetry2 = await emitter.trigger(\n          \"secondary-limit\",\n          retryAfter2,\n          options,\n          octokit,\n          retryCount\n        );\n        return { wantRetry: wantRetry2, retryAfter: retryAfter2 };\n      }\n      if (error.response.headers != null && error.response.headers[\"x-ratelimit-remaining\"] === \"0\" || (error.response.data?.errors ?? []).some(\n        (error2) => error2.type === \"RATE_LIMITED\"\n      )) {\n        const rateLimitReset = new Date(\n          ~~error.response.headers[\"x-ratelimit-reset\"] * 1e3\n        ).getTime();\n        const retryAfter2 = Math.max(\n          // Add one second so we retry _after_ the reset time\n          // https://docs.github.com/en/rest/overview/resources-in-the-rest-api?apiVersion=2022-11-28#exceeding-the-rate-limit\n          Math.ceil((rateLimitReset - Date.now()) / 1e3) + 1,\n          0\n        );\n        const wantRetry2 = await emitter.trigger(\n          \"rate-limit\",\n          retryAfter2,\n          options,\n          octokit,\n          retryCount\n        );\n        return { wantRetry: wantRetry2, retryAfter: retryAfter2 };\n      }\n      return {};\n    }();\n    if (wantRetry) {\n      request.retryCount++;\n      return retryAfter * state2.retryAfterBaseValue;\n    }\n  });\n  octokit.hook.wrap(\"request\", wrapRequest.bind(null, state));\n  return {};\n}\nthrottling.VERSION = VERSION;\nthrottling.triggersNotification = triggersNotification;\nexport {\n  throttling\n};\n","class RequestError extends Error {\n  name;\n  /**\n   * http status code\n   */\n  status;\n  /**\n   * Request options that lead to the error.\n   */\n  request;\n  /**\n   * Response object if a response was received\n   */\n  response;\n  constructor(message, statusCode, options) {\n    super(message);\n    this.name = \"HttpError\";\n    this.status = Number.parseInt(statusCode);\n    if (Number.isNaN(this.status)) {\n      this.status = 0;\n    }\n    if (\"response\" in options) {\n      this.response = options.response;\n    }\n    const requestCopy = Object.assign({}, options.request);\n    if (options.request.headers.authorization) {\n      requestCopy.headers = Object.assign({}, options.request.headers, {\n        authorization: options.request.headers.authorization.replace(\n          /(?<! ) .*$/,\n          \" [REDACTED]\"\n        )\n      });\n    }\n    requestCopy.url = requestCopy.url.replace(/\\bclient_secret=\\w+/g, \"client_secret=[REDACTED]\").replace(/\\baccess_token=\\w+/g, \"access_token=[REDACTED]\");\n    this.request = requestCopy;\n  }\n}\nexport {\n  RequestError\n};\n","// pkg/dist-src/index.js\nimport { endpoint } from \"@octokit/endpoint\";\n\n// pkg/dist-src/defaults.js\nimport { getUserAgent } from \"universal-user-agent\";\n\n// pkg/dist-src/version.js\nvar VERSION = \"9.2.4\";\n\n// pkg/dist-src/defaults.js\nvar defaults_default = {\n  headers: {\n    \"user-agent\": `octokit-request.js/${VERSION} ${getUserAgent()}`\n  }\n};\n\n// pkg/dist-src/fetch-wrapper.js\nimport { safeParse } from \"fast-content-type-parse\";\n\n// pkg/dist-src/is-plain-object.js\nfunction isPlainObject(value) {\n  if (typeof value !== \"object\" || value === null) return false;\n  if (Object.prototype.toString.call(value) !== \"[object Object]\") return false;\n  const proto = Object.getPrototypeOf(value);\n  if (proto === null) return true;\n  const Ctor = Object.prototype.hasOwnProperty.call(proto, \"constructor\") && proto.constructor;\n  return typeof Ctor === \"function\" && Ctor instanceof Ctor && Function.prototype.call(Ctor) === Function.prototype.call(value);\n}\n\n// pkg/dist-src/fetch-wrapper.js\nimport { RequestError } from \"@octokit/request-error\";\nasync function fetchWrapper(requestOptions) {\n  const fetch = requestOptions.request?.fetch || globalThis.fetch;\n  if (!fetch) {\n    throw new Error(\n      \"fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing\"\n    );\n  }\n  const log = requestOptions.request?.log || console;\n  const parseSuccessResponseBody = requestOptions.request?.parseSuccessResponseBody !== false;\n  const body = isPlainObject(requestOptions.body) || Array.isArray(requestOptions.body) ? JSON.stringify(requestOptions.body) : requestOptions.body;\n  const requestHeaders = Object.fromEntries(\n    Object.entries(requestOptions.headers).map(([name, value]) => [\n      name,\n      String(value)\n    ])\n  );\n  let fetchResponse;\n  try {\n    fetchResponse = await fetch(requestOptions.url, {\n      method: requestOptions.method,\n      body,\n      redirect: requestOptions.request?.redirect,\n      headers: requestHeaders,\n      signal: requestOptions.request?.signal,\n      // duplex must be set if request.body is ReadableStream or Async Iterables.\n      // See https://fetch.spec.whatwg.org/#dom-requestinit-duplex.\n      ...requestOptions.body && { duplex: \"half\" }\n    });\n  } catch (error) {\n    let message = \"Unknown Error\";\n    if (error instanceof Error) {\n      if (error.name === \"AbortError\") {\n        error.status = 500;\n        throw error;\n      }\n      message = error.message;\n      if (error.name === \"TypeError\" && \"cause\" in error) {\n        if (error.cause instanceof Error) {\n          message = error.cause.message;\n        } else if (typeof error.cause === \"string\") {\n          message = error.cause;\n        }\n      }\n    }\n    const requestError = new RequestError(message, 500, {\n      request: requestOptions\n    });\n    requestError.cause = error;\n    throw requestError;\n  }\n  const status = fetchResponse.status;\n  const url = fetchResponse.url;\n  const responseHeaders = {};\n  for (const [key, value] of fetchResponse.headers) {\n    responseHeaders[key] = value;\n  }\n  const octokitResponse = {\n    url,\n    status,\n    headers: responseHeaders,\n    data: \"\"\n  };\n  if (\"deprecation\" in responseHeaders) {\n    const matches = responseHeaders.link && responseHeaders.link.match(/<([^<>]+)>; rel=\"deprecation\"/);\n    const deprecationLink = matches && matches.pop();\n    log.warn(\n      `[@octokit/request] \"${requestOptions.method} ${requestOptions.url}\" is deprecated. It is scheduled to be removed on ${responseHeaders.sunset}${deprecationLink ? `. See ${deprecationLink}` : \"\"}`\n    );\n  }\n  if (status === 204 || status === 205) {\n    return octokitResponse;\n  }\n  if (requestOptions.method === \"HEAD\") {\n    if (status < 400) {\n      return octokitResponse;\n    }\n    throw new RequestError(fetchResponse.statusText, status, {\n      response: octokitResponse,\n      request: requestOptions\n    });\n  }\n  if (status === 304) {\n    octokitResponse.data = await getResponseData(fetchResponse);\n    throw new RequestError(\"Not modified\", status, {\n      response: octokitResponse,\n      request: requestOptions\n    });\n  }\n  if (status >= 400) {\n    octokitResponse.data = await getResponseData(fetchResponse);\n    throw new RequestError(toErrorMessage(octokitResponse.data), status, {\n      response: octokitResponse,\n      request: requestOptions\n    });\n  }\n  octokitResponse.data = parseSuccessResponseBody ? await getResponseData(fetchResponse) : fetchResponse.body;\n  return octokitResponse;\n}\nasync function getResponseData(response) {\n  const contentType = response.headers.get(\"content-type\");\n  if (!contentType) {\n    return response.text().catch(() => \"\");\n  }\n  const mimetype = safeParse(contentType);\n  if (isJSONResponse(mimetype)) {\n    let text = \"\";\n    try {\n      text = await response.text();\n      return JSON.parse(text);\n    } catch (err) {\n      return text;\n    }\n  } else if (mimetype.type.startsWith(\"text/\") || mimetype.parameters.charset?.toLowerCase() === \"utf-8\") {\n    return response.text().catch(() => \"\");\n  } else {\n    return response.arrayBuffer().catch(() => new ArrayBuffer(0));\n  }\n}\nfunction isJSONResponse(mimetype) {\n  return mimetype.type === \"application/json\" || mimetype.type === \"application/scim+json\";\n}\nfunction toErrorMessage(data) {\n  if (typeof data === \"string\") {\n    return data;\n  }\n  if (data instanceof ArrayBuffer) {\n    return \"Unknown error\";\n  }\n  if (\"message\" in data) {\n    const suffix = \"documentation_url\" in data ? ` - ${data.documentation_url}` : \"\";\n    return Array.isArray(data.errors) ? `${data.message}: ${data.errors.map((v) => JSON.stringify(v)).join(\", \")}${suffix}` : `${data.message}${suffix}`;\n  }\n  return `Unknown error: ${JSON.stringify(data)}`;\n}\n\n// pkg/dist-src/with-defaults.js\nfunction withDefaults(oldEndpoint, newDefaults) {\n  const endpoint2 = oldEndpoint.defaults(newDefaults);\n  const newApi = function(route, parameters) {\n    const endpointOptions = endpoint2.merge(route, parameters);\n    if (!endpointOptions.request || !endpointOptions.request.hook) {\n      return fetchWrapper(endpoint2.parse(endpointOptions));\n    }\n    const request2 = (route2, parameters2) => {\n      return fetchWrapper(\n        endpoint2.parse(endpoint2.merge(route2, parameters2))\n      );\n    };\n    Object.assign(request2, {\n      endpoint: endpoint2,\n      defaults: withDefaults.bind(null, endpoint2)\n    });\n    return endpointOptions.request.hook(request2, endpointOptions);\n  };\n  return Object.assign(newApi, {\n    endpoint: endpoint2,\n    defaults: withDefaults.bind(null, endpoint2)\n  });\n}\n\n// pkg/dist-src/index.js\nvar request = withDefaults(endpoint, defaults_default);\nexport {\n  request\n};\n","// pkg/dist-src/node/sign.js\nimport { createHmac } from \"node:crypto\";\n\n// pkg/dist-src/version.js\nvar VERSION = \"5.1.1\";\n\n// pkg/dist-src/node/sign.js\nasync function sign(secret, payload) {\n  if (!secret || !payload) {\n    throw new TypeError(\n      \"[@octokit/webhooks-methods] secret & payload required for sign()\"\n    );\n  }\n  if (typeof payload !== \"string\") {\n    throw new TypeError(\"[@octokit/webhooks-methods] payload must be a string\");\n  }\n  const algorithm = \"sha256\";\n  return `${algorithm}=${createHmac(algorithm, secret).update(payload).digest(\"hex\")}`;\n}\nsign.VERSION = VERSION;\n\n// pkg/dist-src/node/verify.js\nimport { timingSafeEqual } from \"node:crypto\";\nimport { Buffer } from \"node:buffer\";\nasync function verify(secret, eventPayload, signature) {\n  if (!secret || !eventPayload || !signature) {\n    throw new TypeError(\n      \"[@octokit/webhooks-methods] secret, eventPayload & signature required\"\n    );\n  }\n  if (typeof eventPayload !== \"string\") {\n    throw new TypeError(\n      \"[@octokit/webhooks-methods] eventPayload must be a string\"\n    );\n  }\n  const signatureBuffer = Buffer.from(signature);\n  const verificationBuffer = Buffer.from(await sign(secret, eventPayload));\n  if (signatureBuffer.length !== verificationBuffer.length) {\n    return false;\n  }\n  return timingSafeEqual(signatureBuffer, verificationBuffer);\n}\nverify.VERSION = VERSION;\n\n// pkg/dist-src/index.js\nasync function verifyWithFallback(secret, payload, signature, additionalSecrets) {\n  const firstPass = await verify(secret, payload, signature);\n  if (firstPass) {\n    return true;\n  }\n  if (additionalSecrets !== void 0) {\n    for (const s of additionalSecrets) {\n      const v = await verify(s, payload, signature);\n      if (v) {\n        return v;\n      }\n    }\n  }\n  return false;\n}\nexport {\n  sign,\n  verify,\n  verifyWithFallback\n};\n","// pkg/dist-src/create-logger.js\nvar createLogger = (logger = {}) => {\n  if (typeof logger.debug !== \"function\") {\n    logger.debug = () => {\n    };\n  }\n  if (typeof logger.info !== \"function\") {\n    logger.info = () => {\n    };\n  }\n  if (typeof logger.warn !== \"function\") {\n    logger.warn = console.warn.bind(console);\n  }\n  if (typeof logger.error !== \"function\") {\n    logger.error = console.error.bind(console);\n  }\n  return logger;\n};\n\n// pkg/dist-src/generated/webhook-names.js\nvar emitterEventNames = [\n  \"branch_protection_configuration\",\n  \"branch_protection_configuration.disabled\",\n  \"branch_protection_configuration.enabled\",\n  \"branch_protection_rule\",\n  \"branch_protection_rule.created\",\n  \"branch_protection_rule.deleted\",\n  \"branch_protection_rule.edited\",\n  \"check_run\",\n  \"check_run.completed\",\n  \"check_run.created\",\n  \"check_run.requested_action\",\n  \"check_run.rerequested\",\n  \"check_suite\",\n  \"check_suite.completed\",\n  \"check_suite.requested\",\n  \"check_suite.rerequested\",\n  \"code_scanning_alert\",\n  \"code_scanning_alert.appeared_in_branch\",\n  \"code_scanning_alert.closed_by_user\",\n  \"code_scanning_alert.created\",\n  \"code_scanning_alert.fixed\",\n  \"code_scanning_alert.reopened\",\n  \"code_scanning_alert.reopened_by_user\",\n  \"commit_comment\",\n  \"commit_comment.created\",\n  \"create\",\n  \"custom_property\",\n  \"custom_property.created\",\n  \"custom_property.deleted\",\n  \"custom_property.promote_to_enterprise\",\n  \"custom_property.updated\",\n  \"custom_property_values\",\n  \"custom_property_values.updated\",\n  \"delete\",\n  \"dependabot_alert\",\n  \"dependabot_alert.auto_dismissed\",\n  \"dependabot_alert.auto_reopened\",\n  \"dependabot_alert.created\",\n  \"dependabot_alert.dismissed\",\n  \"dependabot_alert.fixed\",\n  \"dependabot_alert.reintroduced\",\n  \"dependabot_alert.reopened\",\n  \"deploy_key\",\n  \"deploy_key.created\",\n  \"deploy_key.deleted\",\n  \"deployment\",\n  \"deployment.created\",\n  \"deployment_protection_rule\",\n  \"deployment_protection_rule.requested\",\n  \"deployment_review\",\n  \"deployment_review.approved\",\n  \"deployment_review.rejected\",\n  \"deployment_review.requested\",\n  \"deployment_status\",\n  \"deployment_status.created\",\n  \"discussion\",\n  \"discussion.answered\",\n  \"discussion.category_changed\",\n  \"discussion.closed\",\n  \"discussion.created\",\n  \"discussion.deleted\",\n  \"discussion.edited\",\n  \"discussion.labeled\",\n  \"discussion.locked\",\n  \"discussion.pinned\",\n  \"discussion.reopened\",\n  \"discussion.transferred\",\n  \"discussion.unanswered\",\n  \"discussion.unlabeled\",\n  \"discussion.unlocked\",\n  \"discussion.unpinned\",\n  \"discussion_comment\",\n  \"discussion_comment.created\",\n  \"discussion_comment.deleted\",\n  \"discussion_comment.edited\",\n  \"fork\",\n  \"github_app_authorization\",\n  \"github_app_authorization.revoked\",\n  \"gollum\",\n  \"installation\",\n  \"installation.created\",\n  \"installation.deleted\",\n  \"installation.new_permissions_accepted\",\n  \"installation.suspend\",\n  \"installation.unsuspend\",\n  \"installation_repositories\",\n  \"installation_repositories.added\",\n  \"installation_repositories.removed\",\n  \"installation_target\",\n  \"installation_target.renamed\",\n  \"issue_comment\",\n  \"issue_comment.created\",\n  \"issue_comment.deleted\",\n  \"issue_comment.edited\",\n  \"issues\",\n  \"issues.assigned\",\n  \"issues.closed\",\n  \"issues.deleted\",\n  \"issues.demilestoned\",\n  \"issues.edited\",\n  \"issues.labeled\",\n  \"issues.locked\",\n  \"issues.milestoned\",\n  \"issues.opened\",\n  \"issues.pinned\",\n  \"issues.reopened\",\n  \"issues.transferred\",\n  \"issues.typed\",\n  \"issues.unassigned\",\n  \"issues.unlabeled\",\n  \"issues.unlocked\",\n  \"issues.unpinned\",\n  \"issues.untyped\",\n  \"label\",\n  \"label.created\",\n  \"label.deleted\",\n  \"label.edited\",\n  \"marketplace_purchase\",\n  \"marketplace_purchase.cancelled\",\n  \"marketplace_purchase.changed\",\n  \"marketplace_purchase.pending_change\",\n  \"marketplace_purchase.pending_change_cancelled\",\n  \"marketplace_purchase.purchased\",\n  \"member\",\n  \"member.added\",\n  \"member.edited\",\n  \"member.removed\",\n  \"membership\",\n  \"membership.added\",\n  \"membership.removed\",\n  \"merge_group\",\n  \"merge_group.checks_requested\",\n  \"merge_group.destroyed\",\n  \"meta\",\n  \"meta.deleted\",\n  \"milestone\",\n  \"milestone.closed\",\n  \"milestone.created\",\n  \"milestone.deleted\",\n  \"milestone.edited\",\n  \"milestone.opened\",\n  \"org_block\",\n  \"org_block.blocked\",\n  \"org_block.unblocked\",\n  \"organization\",\n  \"organization.deleted\",\n  \"organization.member_added\",\n  \"organization.member_invited\",\n  \"organization.member_removed\",\n  \"organization.renamed\",\n  \"package\",\n  \"package.published\",\n  \"package.updated\",\n  \"page_build\",\n  \"personal_access_token_request\",\n  \"personal_access_token_request.approved\",\n  \"personal_access_token_request.cancelled\",\n  \"personal_access_token_request.created\",\n  \"personal_access_token_request.denied\",\n  \"ping\",\n  \"project\",\n  \"project.closed\",\n  \"project.created\",\n  \"project.deleted\",\n  \"project.edited\",\n  \"project.reopened\",\n  \"project_card\",\n  \"project_card.converted\",\n  \"project_card.created\",\n  \"project_card.deleted\",\n  \"project_card.edited\",\n  \"project_card.moved\",\n  \"project_column\",\n  \"project_column.created\",\n  \"project_column.deleted\",\n  \"project_column.edited\",\n  \"project_column.moved\",\n  \"projects_v2\",\n  \"projects_v2.closed\",\n  \"projects_v2.created\",\n  \"projects_v2.deleted\",\n  \"projects_v2.edited\",\n  \"projects_v2.reopened\",\n  \"projects_v2_item\",\n  \"projects_v2_item.archived\",\n  \"projects_v2_item.converted\",\n  \"projects_v2_item.created\",\n  \"projects_v2_item.deleted\",\n  \"projects_v2_item.edited\",\n  \"projects_v2_item.reordered\",\n  \"projects_v2_item.restored\",\n  \"projects_v2_status_update\",\n  \"projects_v2_status_update.created\",\n  \"projects_v2_status_update.deleted\",\n  \"projects_v2_status_update.edited\",\n  \"public\",\n  \"pull_request\",\n  \"pull_request.assigned\",\n  \"pull_request.auto_merge_disabled\",\n  \"pull_request.auto_merge_enabled\",\n  \"pull_request.closed\",\n  \"pull_request.converted_to_draft\",\n  \"pull_request.demilestoned\",\n  \"pull_request.dequeued\",\n  \"pull_request.edited\",\n  \"pull_request.enqueued\",\n  \"pull_request.labeled\",\n  \"pull_request.locked\",\n  \"pull_request.milestoned\",\n  \"pull_request.opened\",\n  \"pull_request.ready_for_review\",\n  \"pull_request.reopened\",\n  \"pull_request.review_request_removed\",\n  \"pull_request.review_requested\",\n  \"pull_request.synchronize\",\n  \"pull_request.unassigned\",\n  \"pull_request.unlabeled\",\n  \"pull_request.unlocked\",\n  \"pull_request_review\",\n  \"pull_request_review.dismissed\",\n  \"pull_request_review.edited\",\n  \"pull_request_review.submitted\",\n  \"pull_request_review_comment\",\n  \"pull_request_review_comment.created\",\n  \"pull_request_review_comment.deleted\",\n  \"pull_request_review_comment.edited\",\n  \"pull_request_review_thread\",\n  \"pull_request_review_thread.resolved\",\n  \"pull_request_review_thread.unresolved\",\n  \"push\",\n  \"registry_package\",\n  \"registry_package.published\",\n  \"registry_package.updated\",\n  \"release\",\n  \"release.created\",\n  \"release.deleted\",\n  \"release.edited\",\n  \"release.prereleased\",\n  \"release.published\",\n  \"release.released\",\n  \"release.unpublished\",\n  \"repository\",\n  \"repository.archived\",\n  \"repository.created\",\n  \"repository.deleted\",\n  \"repository.edited\",\n  \"repository.privatized\",\n  \"repository.publicized\",\n  \"repository.renamed\",\n  \"repository.transferred\",\n  \"repository.unarchived\",\n  \"repository_advisory\",\n  \"repository_advisory.published\",\n  \"repository_advisory.reported\",\n  \"repository_dispatch\",\n  \"repository_dispatch.sample.collected\",\n  \"repository_import\",\n  \"repository_ruleset\",\n  \"repository_ruleset.created\",\n  \"repository_ruleset.deleted\",\n  \"repository_ruleset.edited\",\n  \"repository_vulnerability_alert\",\n  \"repository_vulnerability_alert.create\",\n  \"repository_vulnerability_alert.dismiss\",\n  \"repository_vulnerability_alert.reopen\",\n  \"repository_vulnerability_alert.resolve\",\n  \"secret_scanning_alert\",\n  \"secret_scanning_alert.created\",\n  \"secret_scanning_alert.publicly_leaked\",\n  \"secret_scanning_alert.reopened\",\n  \"secret_scanning_alert.resolved\",\n  \"secret_scanning_alert.validated\",\n  \"secret_scanning_alert_location\",\n  \"secret_scanning_alert_location.created\",\n  \"secret_scanning_scan\",\n  \"secret_scanning_scan.completed\",\n  \"security_advisory\",\n  \"security_advisory.published\",\n  \"security_advisory.updated\",\n  \"security_advisory.withdrawn\",\n  \"security_and_analysis\",\n  \"sponsorship\",\n  \"sponsorship.cancelled\",\n  \"sponsorship.created\",\n  \"sponsorship.edited\",\n  \"sponsorship.pending_cancellation\",\n  \"sponsorship.pending_tier_change\",\n  \"sponsorship.tier_changed\",\n  \"star\",\n  \"star.created\",\n  \"star.deleted\",\n  \"status\",\n  \"sub_issues\",\n  \"sub_issues.parent_issue_added\",\n  \"sub_issues.parent_issue_removed\",\n  \"sub_issues.sub_issue_added\",\n  \"sub_issues.sub_issue_removed\",\n  \"team\",\n  \"team.added_to_repository\",\n  \"team.created\",\n  \"team.deleted\",\n  \"team.edited\",\n  \"team.removed_from_repository\",\n  \"team_add\",\n  \"watch\",\n  \"watch.started\",\n  \"workflow_dispatch\",\n  \"workflow_job\",\n  \"workflow_job.completed\",\n  \"workflow_job.in_progress\",\n  \"workflow_job.queued\",\n  \"workflow_job.waiting\",\n  \"workflow_run\",\n  \"workflow_run.completed\",\n  \"workflow_run.in_progress\",\n  \"workflow_run.requested\"\n];\n\n// pkg/dist-src/event-handler/on.js\nfunction handleEventHandlers(state, webhookName, handler) {\n  if (!state.hooks[webhookName]) {\n    state.hooks[webhookName] = [];\n  }\n  state.hooks[webhookName].push(handler);\n}\nfunction receiverOn(state, webhookNameOrNames, handler) {\n  if (Array.isArray(webhookNameOrNames)) {\n    webhookNameOrNames.forEach(\n      (webhookName) => receiverOn(state, webhookName, handler)\n    );\n    return;\n  }\n  if ([\"*\", \"error\"].includes(webhookNameOrNames)) {\n    const webhookName = webhookNameOrNames === \"*\" ? \"any\" : webhookNameOrNames;\n    const message = `Using the \"${webhookNameOrNames}\" event with the regular Webhooks.on() function is not supported. Please use the Webhooks.on${webhookName.charAt(0).toUpperCase() + webhookName.slice(1)}() method instead`;\n    throw new Error(message);\n  }\n  if (!emitterEventNames.includes(webhookNameOrNames)) {\n    state.log.warn(\n      `\"${webhookNameOrNames}\" is not a known webhook name (https://developer.github.com/v3/activity/events/types/)`\n    );\n  }\n  handleEventHandlers(state, webhookNameOrNames, handler);\n}\nfunction receiverOnAny(state, handler) {\n  handleEventHandlers(state, \"*\", handler);\n}\nfunction receiverOnError(state, handler) {\n  handleEventHandlers(state, \"error\", handler);\n}\n\n// pkg/dist-src/event-handler/wrap-error-handler.js\nfunction wrapErrorHandler(handler, error) {\n  let returnValue;\n  try {\n    returnValue = handler(error);\n  } catch (error2) {\n    console.log('FATAL: Error occurred in \"error\" event handler');\n    console.log(error2);\n  }\n  if (returnValue && returnValue.catch) {\n    returnValue.catch((error2) => {\n      console.log('FATAL: Error occurred in \"error\" event handler');\n      console.log(error2);\n    });\n  }\n}\n\n// pkg/dist-src/event-handler/receive.js\nfunction getHooks(state, eventPayloadAction, eventName) {\n  const hooks = [state.hooks[eventName], state.hooks[\"*\"]];\n  if (eventPayloadAction) {\n    hooks.unshift(state.hooks[`${eventName}.${eventPayloadAction}`]);\n  }\n  return [].concat(...hooks.filter(Boolean));\n}\nfunction receiverHandle(state, event) {\n  const errorHandlers = state.hooks.error || [];\n  if (event instanceof Error) {\n    const error = Object.assign(new AggregateError([event], event.message), {\n      event\n    });\n    errorHandlers.forEach((handler) => wrapErrorHandler(handler, error));\n    return Promise.reject(error);\n  }\n  if (!event || !event.name) {\n    const error = new Error(\"Event name not passed\");\n    throw new AggregateError([error], error.message);\n  }\n  if (!event.payload) {\n    const error = new Error(\"Event name not passed\");\n    throw new AggregateError([error], error.message);\n  }\n  const hooks = getHooks(\n    state,\n    \"action\" in event.payload ? event.payload.action : null,\n    event.name\n  );\n  if (hooks.length === 0) {\n    return Promise.resolve();\n  }\n  const errors = [];\n  const promises = hooks.map((handler) => {\n    let promise = Promise.resolve(event);\n    if (state.transform) {\n      promise = promise.then(state.transform);\n    }\n    return promise.then((event2) => {\n      return handler(event2);\n    }).catch((error) => errors.push(Object.assign(error, { event })));\n  });\n  return Promise.all(promises).then(() => {\n    if (errors.length === 0) {\n      return;\n    }\n    const error = new AggregateError(\n      errors,\n      errors.map((error2) => error2.message).join(\"\\n\")\n    );\n    Object.assign(error, {\n      event\n    });\n    errorHandlers.forEach((handler) => wrapErrorHandler(handler, error));\n    throw error;\n  });\n}\n\n// pkg/dist-src/event-handler/remove-listener.js\nfunction removeListener(state, webhookNameOrNames, handler) {\n  if (Array.isArray(webhookNameOrNames)) {\n    webhookNameOrNames.forEach(\n      (webhookName) => removeListener(state, webhookName, handler)\n    );\n    return;\n  }\n  if (!state.hooks[webhookNameOrNames]) {\n    return;\n  }\n  for (let i = state.hooks[webhookNameOrNames].length - 1; i >= 0; i--) {\n    if (state.hooks[webhookNameOrNames][i] === handler) {\n      state.hooks[webhookNameOrNames].splice(i, 1);\n      return;\n    }\n  }\n}\n\n// pkg/dist-src/event-handler/index.js\nfunction createEventHandler(options) {\n  const state = {\n    hooks: {},\n    log: createLogger(options && options.log)\n  };\n  if (options && options.transform) {\n    state.transform = options.transform;\n  }\n  return {\n    on: receiverOn.bind(null, state),\n    onAny: receiverOnAny.bind(null, state),\n    onError: receiverOnError.bind(null, state),\n    removeListener: removeListener.bind(null, state),\n    receive: receiverHandle.bind(null, state)\n  };\n}\n\n// pkg/dist-src/index.js\nimport { sign, verify } from \"@octokit/webhooks-methods\";\n\n// pkg/dist-src/verify-and-receive.js\nimport { verifyWithFallback } from \"@octokit/webhooks-methods\";\nasync function verifyAndReceive(state, event) {\n  const matchesSignature = await verifyWithFallback(\n    state.secret,\n    event.payload,\n    event.signature,\n    state.additionalSecrets\n  ).catch(() => false);\n  if (!matchesSignature) {\n    const error = new Error(\n      \"[@octokit/webhooks] signature does not match event payload and secret\"\n    );\n    return state.eventHandler.receive(\n      Object.assign(error, { event, status: 400 })\n    );\n  }\n  let payload;\n  try {\n    payload = JSON.parse(event.payload);\n  } catch (error) {\n    error.message = \"Invalid JSON\";\n    error.status = 400;\n    throw new AggregateError([error], error.message);\n  }\n  return state.eventHandler.receive({\n    id: event.id,\n    name: event.name,\n    payload\n  });\n}\n\n// pkg/dist-src/middleware/create-middleware.js\nvar isApplicationJsonRE = /^\\s*(application\\/json)\\s*(?:;|$)/u;\nvar WEBHOOK_HEADERS = [\n  \"x-github-event\",\n  \"x-hub-signature-256\",\n  \"x-github-delivery\"\n];\nfunction createMiddleware(options) {\n  const { handleResponse: handleResponse3, getRequestHeader: getRequestHeader3, getPayload: getPayload3 } = options;\n  return function middleware(webhooks, options2) {\n    return async function octokitWebhooksMiddleware(request, response, next) {\n      let pathname;\n      try {\n        pathname = new URL(request.url, \"http://localhost\").pathname;\n      } catch (error) {\n        return handleResponse3(\n          JSON.stringify({\n            error: `Request URL could not be parsed: ${request.url}`\n          }),\n          422,\n          {\n            \"content-type\": \"application/json\"\n          },\n          response\n        );\n      }\n      if (pathname !== options2.path) {\n        next?.();\n        return handleResponse3(null);\n      } else if (request.method !== \"POST\") {\n        return handleResponse3(\n          JSON.stringify({\n            error: `Unknown route: ${request.method} ${pathname}`\n          }),\n          404,\n          {\n            \"content-type\": \"application/json\"\n          },\n          response\n        );\n      }\n      const contentType = getRequestHeader3(request, \"content-type\");\n      if (typeof contentType !== \"string\" || !isApplicationJsonRE.test(contentType)) {\n        return handleResponse3(\n          JSON.stringify({\n            error: `Unsupported \"Content-Type\" header value. Must be \"application/json\"`\n          }),\n          415,\n          {\n            \"content-type\": \"application/json\",\n            accept: \"application/json\"\n          },\n          response\n        );\n      }\n      const missingHeaders = WEBHOOK_HEADERS.filter((header) => {\n        return getRequestHeader3(request, header) == void 0;\n      }).join(\", \");\n      if (missingHeaders) {\n        return handleResponse3(\n          JSON.stringify({\n            error: `Required headers missing: ${missingHeaders}`\n          }),\n          400,\n          {\n            \"content-type\": \"application/json\",\n            accept: \"application/json\"\n          },\n          response\n        );\n      }\n      const eventName = getRequestHeader3(\n        request,\n        \"x-github-event\"\n      );\n      const signature = getRequestHeader3(request, \"x-hub-signature-256\");\n      const id = getRequestHeader3(request, \"x-github-delivery\");\n      options2.log.debug(`${eventName} event received (id: ${id})`);\n      let didTimeout = false;\n      let timeout;\n      const timeoutPromise = new Promise((resolve) => {\n        timeout = setTimeout(() => {\n          didTimeout = true;\n          resolve(\n            handleResponse3(\n              \"still processing\\n\",\n              202,\n              {\n                \"Content-Type\": \"text/plain\",\n                accept: \"application/json\"\n              },\n              response\n            )\n          );\n        }, options2.timeout);\n      });\n      const processWebhook = async () => {\n        try {\n          const payload = await getPayload3(request);\n          await webhooks.verifyAndReceive({\n            id,\n            name: eventName,\n            payload,\n            signature\n          });\n          clearTimeout(timeout);\n          if (didTimeout) return handleResponse3(null);\n          return handleResponse3(\n            \"ok\\n\",\n            200,\n            {\n              \"content-type\": \"text/plain\",\n              accept: \"application/json\"\n            },\n            response\n          );\n        } catch (error) {\n          clearTimeout(timeout);\n          if (didTimeout) return handleResponse3(null);\n          const err = Array.from(error.errors)[0];\n          const errorMessage = err.message ? `${err.name}: ${err.message}` : \"Error: An Unspecified error occurred\";\n          const statusCode = typeof err.status !== \"undefined\" ? err.status : 500;\n          options2.log.error(error);\n          return handleResponse3(\n            JSON.stringify({\n              error: errorMessage\n            }),\n            statusCode,\n            {\n              \"content-type\": \"application/json\",\n              accept: \"application/json\"\n            },\n            response\n          );\n        }\n      };\n      return await Promise.race([timeoutPromise, processWebhook()]);\n    };\n  };\n}\n\n// pkg/dist-src/middleware/node/handle-response.js\nfunction handleResponse(body, status = 200, headers = {}, response) {\n  if (body === null) {\n    return false;\n  }\n  headers[\"content-length\"] = body.length.toString();\n  response.writeHead(status, headers).end(body);\n  return true;\n}\n\n// pkg/dist-src/middleware/node/get-request-header.js\nfunction getRequestHeader(request, key) {\n  return request.headers[key];\n}\n\n// pkg/dist-src/concat-uint8array.js\nfunction concatUint8Array(data) {\n  if (data.length === 0) {\n    return new Uint8Array(0);\n  }\n  let totalLength = 0;\n  for (let i = 0; i < data.length; i++) {\n    totalLength += data[i].length;\n  }\n  if (totalLength === 0) {\n    return new Uint8Array(0);\n  }\n  const result = new Uint8Array(totalLength);\n  let offset = 0;\n  for (let i = 0; i < data.length; i++) {\n    result.set(data[i], offset);\n    offset += data[i].length;\n  }\n  return result;\n}\n\n// pkg/dist-src/middleware/node/get-payload.js\nvar textDecoder = new TextDecoder(\"utf-8\", { fatal: false });\nvar decode = textDecoder.decode.bind(textDecoder);\nasync function getPayload(request) {\n  if (typeof request.body === \"object\" && \"rawBody\" in request && request.rawBody instanceof Uint8Array) {\n    return decode(request.rawBody);\n  } else if (typeof request.body === \"string\") {\n    return request.body;\n  }\n  const payload = await getPayloadFromRequestStream(request);\n  return decode(payload);\n}\nfunction getPayloadFromRequestStream(request) {\n  return new Promise((resolve, reject) => {\n    let data = [];\n    request.on(\n      \"error\",\n      (error) => reject(new AggregateError([error], error.message))\n    );\n    request.on(\"data\", data.push.bind(data));\n    request.on(\"end\", () => {\n      const result = concatUint8Array(data);\n      queueMicrotask(() => resolve(result));\n    });\n  });\n}\n\n// pkg/dist-src/middleware/node/index.js\nfunction createNodeMiddleware(webhooks, {\n  path = \"/api/github/webhooks\",\n  log = createLogger(),\n  timeout = 9e3\n} = {}) {\n  return createMiddleware({\n    handleResponse,\n    getRequestHeader,\n    getPayload\n  })(webhooks, {\n    path,\n    log,\n    timeout\n  });\n}\n\n// pkg/dist-src/middleware/web/get-payload.js\nfunction getPayload2(request) {\n  return request.text();\n}\n\n// pkg/dist-src/middleware/web/get-request-header.js\nfunction getRequestHeader2(request, key) {\n  return request.headers.get(key);\n}\n\n// pkg/dist-src/middleware/web/handle-response.js\nfunction handleResponse2(body, status = 200, headers = {}) {\n  if (body !== null) {\n    headers[\"content-length\"] = body.length.toString();\n  }\n  return new Response(body, {\n    status,\n    headers\n  });\n}\n\n// pkg/dist-src/middleware/web/index.js\nfunction createWebMiddleware(webhooks, {\n  path = \"/api/github/webhooks\",\n  log = createLogger(),\n  timeout = 9e3\n} = {}) {\n  return createMiddleware({\n    handleResponse: handleResponse2,\n    getRequestHeader: getRequestHeader2,\n    getPayload: getPayload2\n  })(webhooks, {\n    path,\n    log,\n    timeout\n  });\n}\n\n// pkg/dist-src/index.js\nvar Webhooks = class {\n  sign;\n  verify;\n  on;\n  onAny;\n  onError;\n  removeListener;\n  receive;\n  verifyAndReceive;\n  constructor(options) {\n    if (!options || !options.secret) {\n      throw new Error(\"[@octokit/webhooks] options.secret required\");\n    }\n    const state = {\n      eventHandler: createEventHandler(options),\n      secret: options.secret,\n      additionalSecrets: options.additionalSecrets,\n      hooks: {},\n      log: createLogger(options.log)\n    };\n    this.sign = sign.bind(null, options.secret);\n    this.verify = verify.bind(null, options.secret);\n    this.on = state.eventHandler.on;\n    this.onAny = state.eventHandler.onAny;\n    this.onError = state.eventHandler.onError;\n    this.removeListener = state.eventHandler.removeListener;\n    this.receive = state.eventHandler.receive;\n    this.verifyAndReceive = verifyAndReceive.bind(null, state);\n  }\n};\nexport {\n  Webhooks,\n  createEventHandler,\n  createNodeMiddleware,\n  createWebMiddleware,\n  emitterEventNames\n};\n","// @ts-check\n\nimport { register } from \"./lib/register.js\";\nimport { addHook } from \"./lib/add.js\";\nimport { removeHook } from \"./lib/remove.js\";\n\n// bind with array of arguments: https://stackoverflow.com/a/21792913\nconst bind = Function.bind;\nconst bindable = bind.bind(bind);\n\nfunction bindApi(hook, state, name) {\n  const removeHookRef = bindable(removeHook, null).apply(\n    null,\n    name ? [state, name] : [state]\n  );\n  hook.api = { remove: removeHookRef };\n  hook.remove = removeHookRef;\n  [\"before\", \"error\", \"after\", \"wrap\"].forEach((kind) => {\n    const args = name ? [state, kind, name] : [state, kind];\n    hook[kind] = hook.api[kind] = bindable(addHook, null).apply(null, args);\n  });\n}\n\nfunction Singular() {\n  const singularHookName = Symbol(\"Singular\");\n  const singularHookState = {\n    registry: {},\n  };\n  const singularHook = register.bind(null, singularHookState, singularHookName);\n  bindApi(singularHook, singularHookState, singularHookName);\n  return singularHook;\n}\n\nfunction Collection() {\n  const state = {\n    registry: {},\n  };\n\n  const hook = register.bind(null, state);\n  bindApi(hook, state);\n\n  return hook;\n}\n\nexport default { Singular, Collection };\n","// @ts-check\n\nexport function addHook(state, kind, name, hook) {\n  const orig = hook;\n  if (!state.registry[name]) {\n    state.registry[name] = [];\n  }\n\n  if (kind === \"before\") {\n    hook = (method, options) => {\n      return Promise.resolve()\n        .then(orig.bind(null, options))\n        .then(method.bind(null, options));\n    };\n  }\n\n  if (kind === \"after\") {\n    hook = (method, options) => {\n      let result;\n      return Promise.resolve()\n        .then(method.bind(null, options))\n        .then((result_) => {\n          result = result_;\n          return orig(result, options);\n        })\n        .then(() => {\n          return result;\n        });\n    };\n  }\n\n  if (kind === \"error\") {\n    hook = (method, options) => {\n      return Promise.resolve()\n        .then(method.bind(null, options))\n        .catch((error) => {\n          return orig(error, options);\n        });\n    };\n  }\n\n  state.registry[name].push({\n    hook: hook,\n    orig: orig,\n  });\n}\n","// @ts-check\n\nexport function register(state, name, method, options) {\n  if (typeof method !== \"function\") {\n    throw new Error(\"method for before hook must be a function\");\n  }\n\n  if (!options) {\n    options = {};\n  }\n\n  if (Array.isArray(name)) {\n    return name.reverse().reduce((callback, name) => {\n      return register.bind(null, state, name, callback, options);\n    }, method)();\n  }\n\n  return Promise.resolve().then(() => {\n    if (!state.registry[name]) {\n      return method(options);\n    }\n\n    return state.registry[name].reduce((method, registered) => {\n      return registered.hook.bind(null, method, options);\n    }, method)();\n  });\n}\n","// @ts-check\n\nexport function removeHook(state, name, method) {\n  if (!state.registry[name]) {\n    return;\n  }\n\n  const index = state.registry[name]\n    .map((registered) => {\n      return registered.orig;\n    })\n    .indexOf(method);\n\n  if (index === -1) {\n    return;\n  }\n\n  state.registry[name].splice(index, 1);\n}\n",null,"'use strict';\nmodule.exports = require('./database');\nmodule.exports.SqliteError = require('./sqlite-error');\n","'use strict';\nconst { getBooleanOption, cppdb } = require('../util');\n\nmodule.exports = function defineAggregate(name, options) {\n\t// Validate arguments\n\tif (typeof name !== 'string') throw new TypeError('Expected first argument to be a string');\n\tif (typeof options !== 'object' || options === null) throw new TypeError('Expected second argument to be an options object');\n\tif (!name) throw new TypeError('User-defined function name cannot be an empty string');\n\n\t// Interpret options\n\tconst start = 'start' in options ? options.start : null;\n\tconst step = getFunctionOption(options, 'step', true);\n\tconst inverse = getFunctionOption(options, 'inverse', false);\n\tconst result = getFunctionOption(options, 'result', false);\n\tconst safeIntegers = 'safeIntegers' in options ? +getBooleanOption(options, 'safeIntegers') : 2;\n\tconst deterministic = getBooleanOption(options, 'deterministic');\n\tconst directOnly = getBooleanOption(options, 'directOnly');\n\tconst varargs = getBooleanOption(options, 'varargs');\n\tlet argCount = -1;\n\n\t// Determine argument count\n\tif (!varargs) {\n\t\targCount = Math.max(getLength(step), inverse ? getLength(inverse) : 0);\n\t\tif (argCount > 0) argCount -= 1;\n\t\tif (argCount > 100) throw new RangeError('User-defined functions cannot have more than 100 arguments');\n\t}\n\n\tthis[cppdb].aggregate(start, step, inverse, result, name, argCount, safeIntegers, deterministic, directOnly);\n\treturn this;\n};\n\nconst getFunctionOption = (options, key, required) => {\n\tconst value = key in options ? options[key] : null;\n\tif (typeof value === 'function') return value;\n\tif (value != null) throw new TypeError(`Expected the \"${key}\" option to be a function`);\n\tif (required) throw new TypeError(`Missing required option \"${key}\"`);\n\treturn null;\n};\n\nconst getLength = ({ length }) => {\n\tif (Number.isInteger(length) && length >= 0) return length;\n\tthrow new TypeError('Expected function.length to be a positive integer');\n};\n","'use strict';\nconst fs = require('fs');\nconst path = require('path');\nconst { promisify } = require('util');\nconst { cppdb } = require('../util');\nconst fsAccess = promisify(fs.access);\n\nmodule.exports = async function backup(filename, options) {\n\tif (options == null) options = {};\n\n\t// Validate arguments\n\tif (typeof filename !== 'string') throw new TypeError('Expected first argument to be a string');\n\tif (typeof options !== 'object') throw new TypeError('Expected second argument to be an options object');\n\n\t// Interpret options\n\tfilename = filename.trim();\n\tconst attachedName = 'attached' in options ? options.attached : 'main';\n\tconst handler = 'progress' in options ? options.progress : null;\n\n\t// Validate interpreted options\n\tif (!filename) throw new TypeError('Backup filename cannot be an empty string');\n\tif (filename === ':memory:') throw new TypeError('Invalid backup filename \":memory:\"');\n\tif (typeof attachedName !== 'string') throw new TypeError('Expected the \"attached\" option to be a string');\n\tif (!attachedName) throw new TypeError('The \"attached\" option cannot be an empty string');\n\tif (handler != null && typeof handler !== 'function') throw new TypeError('Expected the \"progress\" option to be a function');\n\n\t// Make sure the specified directory exists\n\tawait fsAccess(path.dirname(filename)).catch(() => {\n\t\tthrow new TypeError('Cannot save backup because the directory does not exist');\n\t});\n\n\tconst isNewFile = await fsAccess(filename).then(() => false, () => true);\n\treturn runBackup(this[cppdb].backup(this, attachedName, filename, isNewFile), handler || null);\n};\n\nconst runBackup = (backup, handler) => {\n\tlet rate = 0;\n\tlet useDefault = true;\n\n\treturn new Promise((resolve, reject) => {\n\t\tsetImmediate(function step() {\n\t\t\ttry {\n\t\t\t\tconst progress = backup.transfer(rate);\n\t\t\t\tif (!progress.remainingPages) {\n\t\t\t\t\tbackup.close();\n\t\t\t\t\tresolve(progress);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (useDefault) {\n\t\t\t\t\tuseDefault = false;\n\t\t\t\t\trate = 100;\n\t\t\t\t}\n\t\t\t\tif (handler) {\n\t\t\t\t\tconst ret = handler(progress);\n\t\t\t\t\tif (ret !== undefined) {\n\t\t\t\t\t\tif (typeof ret === 'number' && ret === ret) rate = Math.max(0, Math.min(0x7fffffff, Math.round(ret)));\n\t\t\t\t\t\telse throw new TypeError('Expected progress callback to return a number or undefined');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetImmediate(step);\n\t\t\t} catch (err) {\n\t\t\t\tbackup.close();\n\t\t\t\treject(err);\n\t\t\t}\n\t\t});\n\t});\n};\n","'use strict';\nconst { getBooleanOption, cppdb } = require('../util');\n\nmodule.exports = function defineFunction(name, options, fn) {\n\t// Apply defaults\n\tif (options == null) options = {};\n\tif (typeof options === 'function') { fn = options; options = {}; }\n\n\t// Validate arguments\n\tif (typeof name !== 'string') throw new TypeError('Expected first argument to be a string');\n\tif (typeof fn !== 'function') throw new TypeError('Expected last argument to be a function');\n\tif (typeof options !== 'object') throw new TypeError('Expected second argument to be an options object');\n\tif (!name) throw new TypeError('User-defined function name cannot be an empty string');\n\n\t// Interpret options\n\tconst safeIntegers = 'safeIntegers' in options ? +getBooleanOption(options, 'safeIntegers') : 2;\n\tconst deterministic = getBooleanOption(options, 'deterministic');\n\tconst directOnly = getBooleanOption(options, 'directOnly');\n\tconst varargs = getBooleanOption(options, 'varargs');\n\tlet argCount = -1;\n\n\t// Determine argument count\n\tif (!varargs) {\n\t\targCount = fn.length;\n\t\tif (!Number.isInteger(argCount) || argCount < 0) throw new TypeError('Expected function.length to be a positive integer');\n\t\tif (argCount > 100) throw new RangeError('User-defined functions cannot have more than 100 arguments');\n\t}\n\n\tthis[cppdb].function(fn, name, argCount, safeIntegers, deterministic, directOnly);\n\treturn this;\n};\n","'use strict';\nconst DatabaseInspection = function Database() {};\n\nmodule.exports = function inspect(depth, opts) {\n\treturn Object.assign(new DatabaseInspection(), this);\n};\n\n","'use strict';\nconst { getBooleanOption, cppdb } = require('../util');\n\nmodule.exports = function pragma(source, options) {\n\tif (options == null) options = {};\n\tif (typeof source !== 'string') throw new TypeError('Expected first argument to be a string');\n\tif (typeof options !== 'object') throw new TypeError('Expected second argument to be an options object');\n\tconst simple = getBooleanOption(options, 'simple');\n\n\tconst stmt = this[cppdb].prepare(`PRAGMA ${source}`, this, true);\n\treturn simple ? stmt.pluck().get() : stmt.all();\n};\n","'use strict';\nconst { cppdb } = require('../util');\n\nmodule.exports = function serialize(options) {\n\tif (options == null) options = {};\n\n\t// Validate arguments\n\tif (typeof options !== 'object') throw new TypeError('Expected first argument to be an options object');\n\n\t// Interpret and validate options\n\tconst attachedName = 'attached' in options ? options.attached : 'main';\n\tif (typeof attachedName !== 'string') throw new TypeError('Expected the \"attached\" option to be a string');\n\tif (!attachedName) throw new TypeError('The \"attached\" option cannot be an empty string');\n\n\treturn this[cppdb].serialize(attachedName);\n};\n","'use strict';\nconst { cppdb } = require('../util');\n\nmodule.exports = function defineTable(name, factory) {\n\t// Validate arguments\n\tif (typeof name !== 'string') throw new TypeError('Expected first argument to be a string');\n\tif (!name) throw new TypeError('Virtual table module name cannot be an empty string');\n\n\t// Determine whether the module is eponymous-only or not\n\tlet eponymous = false;\n\tif (typeof factory === 'object' && factory !== null) {\n\t\teponymous = true;\n\t\tfactory = defer(parseTableDefinition(factory, 'used', name));\n\t} else {\n\t\tif (typeof factory !== 'function') throw new TypeError('Expected second argument to be a function or a table definition object');\n\t\tfactory = wrapFactory(factory);\n\t}\n\n\tthis[cppdb].table(factory, name, eponymous);\n\treturn this;\n};\n\nfunction wrapFactory(factory) {\n\treturn function virtualTableFactory(moduleName, databaseName, tableName, ...args) {\n\t\tconst thisObject = {\n\t\t\tmodule: moduleName,\n\t\t\tdatabase: databaseName,\n\t\t\ttable: tableName,\n\t\t};\n\n\t\t// Generate a new table definition by invoking the factory\n\t\tconst def = apply.call(factory, thisObject, args);\n\t\tif (typeof def !== 'object' || def === null) {\n\t\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" did not return a table definition object`);\n\t\t}\n\n\t\treturn parseTableDefinition(def, 'returned', moduleName);\n\t};\n}\n\nfunction parseTableDefinition(def, verb, moduleName) {\n\t// Validate required properties\n\tif (!hasOwnProperty.call(def, 'rows')) {\n\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" ${verb} a table definition without a \"rows\" property`);\n\t}\n\tif (!hasOwnProperty.call(def, 'columns')) {\n\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" ${verb} a table definition without a \"columns\" property`);\n\t}\n\n\t// Validate \"rows\" property\n\tconst rows = def.rows;\n\tif (typeof rows !== 'function' || Object.getPrototypeOf(rows) !== GeneratorFunctionPrototype) {\n\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" ${verb} a table definition with an invalid \"rows\" property (should be a generator function)`);\n\t}\n\n\t// Validate \"columns\" property\n\tlet columns = def.columns;\n\tif (!Array.isArray(columns) || !(columns = [...columns]).every(x => typeof x === 'string')) {\n\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" ${verb} a table definition with an invalid \"columns\" property (should be an array of strings)`);\n\t}\n\tif (columns.length !== new Set(columns).size) {\n\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" ${verb} a table definition with duplicate column names`);\n\t}\n\tif (!columns.length) {\n\t\tthrow new RangeError(`Virtual table module \"${moduleName}\" ${verb} a table definition with zero columns`);\n\t}\n\n\t// Validate \"parameters\" property\n\tlet parameters;\n\tif (hasOwnProperty.call(def, 'parameters')) {\n\t\tparameters = def.parameters;\n\t\tif (!Array.isArray(parameters) || !(parameters = [...parameters]).every(x => typeof x === 'string')) {\n\t\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" ${verb} a table definition with an invalid \"parameters\" property (should be an array of strings)`);\n\t\t}\n\t} else {\n\t\tparameters = inferParameters(rows);\n\t}\n\tif (parameters.length !== new Set(parameters).size) {\n\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" ${verb} a table definition with duplicate parameter names`);\n\t}\n\tif (parameters.length > 32) {\n\t\tthrow new RangeError(`Virtual table module \"${moduleName}\" ${verb} a table definition with more than the maximum number of 32 parameters`);\n\t}\n\tfor (const parameter of parameters) {\n\t\tif (columns.includes(parameter)) {\n\t\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" ${verb} a table definition with column \"${parameter}\" which was ambiguously defined as both a column and parameter`);\n\t\t}\n\t}\n\n\t// Validate \"safeIntegers\" option\n\tlet safeIntegers = 2;\n\tif (hasOwnProperty.call(def, 'safeIntegers')) {\n\t\tconst bool = def.safeIntegers;\n\t\tif (typeof bool !== 'boolean') {\n\t\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" ${verb} a table definition with an invalid \"safeIntegers\" property (should be a boolean)`);\n\t\t}\n\t\tsafeIntegers = +bool;\n\t}\n\n\t// Validate \"directOnly\" option\n\tlet directOnly = false;\n\tif (hasOwnProperty.call(def, 'directOnly')) {\n\t\tdirectOnly = def.directOnly;\n\t\tif (typeof directOnly !== 'boolean') {\n\t\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" ${verb} a table definition with an invalid \"directOnly\" property (should be a boolean)`);\n\t\t}\n\t}\n\n\t// Generate SQL for the virtual table definition\n\tconst columnDefinitions = [\n\t\t...parameters.map(identifier).map(str => `${str} HIDDEN`),\n\t\t...columns.map(identifier),\n\t];\n\treturn [\n\t\t`CREATE TABLE x(${columnDefinitions.join(', ')});`,\n\t\twrapGenerator(rows, new Map(columns.map((x, i) => [x, parameters.length + i])), moduleName),\n\t\tparameters,\n\t\tsafeIntegers,\n\t\tdirectOnly,\n\t];\n}\n\nfunction wrapGenerator(generator, columnMap, moduleName) {\n\treturn function* virtualTable(...args) {\n\t\t/*\n\t\t\tWe must defensively clone any buffers in the arguments, because\n\t\t\totherwise the generator could mutate one of them, which would cause\n\t\t\tus to return incorrect values for hidden columns, potentially\n\t\t\tcorrupting the database.\n\t\t */\n\t\tconst output = args.map(x => Buffer.isBuffer(x) ? Buffer.from(x) : x);\n\t\tfor (let i = 0; i < columnMap.size; ++i) {\n\t\t\toutput.push(null); // Fill with nulls to prevent gaps in array (v8 optimization)\n\t\t}\n\t\tfor (const row of generator(...args)) {\n\t\t\tif (Array.isArray(row)) {\n\t\t\t\textractRowArray(row, output, columnMap.size, moduleName);\n\t\t\t\tyield output;\n\t\t\t} else if (typeof row === 'object' && row !== null) {\n\t\t\t\textractRowObject(row, output, columnMap, moduleName);\n\t\t\t\tyield output;\n\t\t\t} else {\n\t\t\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" yielded something that isn't a valid row object`);\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction extractRowArray(row, output, columnCount, moduleName) {\n\tif (row.length !== columnCount) {\n\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" yielded a row with an incorrect number of columns`);\n\t}\n\tconst offset = output.length - columnCount;\n\tfor (let i = 0; i < columnCount; ++i) {\n\t\toutput[i + offset] = row[i];\n\t}\n}\n\nfunction extractRowObject(row, output, columnMap, moduleName) {\n\tlet count = 0;\n\tfor (const key of Object.keys(row)) {\n\t\tconst index = columnMap.get(key);\n\t\tif (index === undefined) {\n\t\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" yielded a row with an undeclared column \"${key}\"`);\n\t\t}\n\t\toutput[index] = row[key];\n\t\tcount += 1;\n\t}\n\tif (count !== columnMap.size) {\n\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" yielded a row with missing columns`);\n\t}\n}\n\nfunction inferParameters({ length }) {\n\tif (!Number.isInteger(length) || length < 0) {\n\t\tthrow new TypeError('Expected function.length to be a positive integer');\n\t}\n\tconst params = [];\n\tfor (let i = 0; i < length; ++i) {\n\t\tparams.push(`$${i + 1}`);\n\t}\n\treturn params;\n}\n\nconst { hasOwnProperty } = Object.prototype;\nconst { apply } = Function.prototype;\nconst GeneratorFunctionPrototype = Object.getPrototypeOf(function*(){});\nconst identifier = str => `\"${str.replace(/\"/g, '\"\"')}\"`;\nconst defer = x => () => x;\n","'use strict';\nconst { cppdb } = require('../util');\nconst controllers = new WeakMap();\n\nmodule.exports = function transaction(fn) {\n\tif (typeof fn !== 'function') throw new TypeError('Expected first argument to be a function');\n\n\tconst db = this[cppdb];\n\tconst controller = getController(db, this);\n\tconst { apply } = Function.prototype;\n\n\t// Each version of the transaction function has these same properties\n\tconst properties = {\n\t\tdefault: { value: wrapTransaction(apply, fn, db, controller.default) },\n\t\tdeferred: { value: wrapTransaction(apply, fn, db, controller.deferred) },\n\t\timmediate: { value: wrapTransaction(apply, fn, db, controller.immediate) },\n\t\texclusive: { value: wrapTransaction(apply, fn, db, controller.exclusive) },\n\t\tdatabase: { value: this, enumerable: true },\n\t};\n\n\tObject.defineProperties(properties.default.value, properties);\n\tObject.defineProperties(properties.deferred.value, properties);\n\tObject.defineProperties(properties.immediate.value, properties);\n\tObject.defineProperties(properties.exclusive.value, properties);\n\n\t// Return the default version of the transaction function\n\treturn properties.default.value;\n};\n\n// Return the database's cached transaction controller, or create a new one\nconst getController = (db, self) => {\n\tlet controller = controllers.get(db);\n\tif (!controller) {\n\t\tconst shared = {\n\t\t\tcommit: db.prepare('COMMIT', self, false),\n\t\t\trollback: db.prepare('ROLLBACK', self, false),\n\t\t\tsavepoint: db.prepare('SAVEPOINT `\\t_bs3.\\t`', self, false),\n\t\t\trelease: db.prepare('RELEASE `\\t_bs3.\\t`', self, false),\n\t\t\trollbackTo: db.prepare('ROLLBACK TO `\\t_bs3.\\t`', self, false),\n\t\t};\n\t\tcontrollers.set(db, controller = {\n\t\t\tdefault: Object.assign({ begin: db.prepare('BEGIN', self, false) }, shared),\n\t\t\tdeferred: Object.assign({ begin: db.prepare('BEGIN DEFERRED', self, false) }, shared),\n\t\t\timmediate: Object.assign({ begin: db.prepare('BEGIN IMMEDIATE', self, false) }, shared),\n\t\t\texclusive: Object.assign({ begin: db.prepare('BEGIN EXCLUSIVE', self, false) }, shared),\n\t\t});\n\t}\n\treturn controller;\n};\n\n// Return a new transaction function by wrapping the given function\nconst wrapTransaction = (apply, fn, db, { begin, commit, rollback, savepoint, release, rollbackTo }) => function sqliteTransaction() {\n\tlet before, after, undo;\n\tif (db.inTransaction) {\n\t\tbefore = savepoint;\n\t\tafter = release;\n\t\tundo = rollbackTo;\n\t} else {\n\t\tbefore = begin;\n\t\tafter = commit;\n\t\tundo = rollback;\n\t}\n\tbefore.run();\n\ttry {\n\t\tconst result = apply.call(fn, this, arguments);\n\t\tif (result && typeof result.then === 'function') {\n\t\t\tthrow new TypeError('Transaction function cannot return a promise');\n\t\t}\n\t\tafter.run();\n\t\treturn result;\n\t} catch (ex) {\n\t\tif (db.inTransaction) {\n\t\t\tundo.run();\n\t\t\tif (undo !== rollback) after.run();\n\t\t}\n\t\tthrow ex;\n\t}\n};\n","'use strict';\nconst { cppdb } = require('../util');\n\nexports.prepare = function prepare(sql) {\n\treturn this[cppdb].prepare(sql, this, false);\n};\n\nexports.exec = function exec(sql) {\n\tthis[cppdb].exec(sql);\n\treturn this;\n};\n\nexports.close = function close() {\n\tthis[cppdb].close();\n\treturn this;\n};\n\nexports.loadExtension = function loadExtension(...args) {\n\tthis[cppdb].loadExtension(...args);\n\treturn this;\n};\n\nexports.defaultSafeIntegers = function defaultSafeIntegers(...args) {\n\tthis[cppdb].defaultSafeIntegers(...args);\n\treturn this;\n};\n\nexports.unsafeMode = function unsafeMode(...args) {\n\tthis[cppdb].unsafeMode(...args);\n\treturn this;\n};\n\nexports.getters = {\n\tname: {\n\t\tget: function name() { return this[cppdb].name; },\n\t\tenumerable: true,\n\t},\n\topen: {\n\t\tget: function open() { return this[cppdb].open; },\n\t\tenumerable: true,\n\t},\n\tinTransaction: {\n\t\tget: function inTransaction() { return this[cppdb].inTransaction; },\n\t\tenumerable: true,\n\t},\n\treadonly: {\n\t\tget: function readonly() { return this[cppdb].readonly; },\n\t\tenumerable: true,\n\t},\n\tmemory: {\n\t\tget: function memory() { return this[cppdb].memory; },\n\t\tenumerable: true,\n\t},\n};\n","'use strict';\nconst descriptor = { value: 'SqliteError', writable: true, enumerable: false, configurable: true };\n\nfunction SqliteError(message, code) {\n\tif (new.target !== SqliteError) {\n\t\treturn new SqliteError(message, code);\n\t}\n\tif (typeof code !== 'string') {\n\t\tthrow new TypeError('Expected second argument to be a string');\n\t}\n\tError.call(this, message);\n\tdescriptor.value = '' + message;\n\tObject.defineProperty(this, 'message', descriptor);\n\tError.captureStackTrace(this, SqliteError);\n\tthis.code = code;\n}\nObject.setPrototypeOf(SqliteError, Error);\nObject.setPrototypeOf(SqliteError.prototype, Error.prototype);\nObject.defineProperty(SqliteError.prototype, 'name', descriptor);\nmodule.exports = SqliteError;\n","'use strict';\n\nexports.getBooleanOption = (options, key) => {\n\tlet value = false;\n\tif (key in options && typeof (value = options[key]) !== 'boolean') {\n\t\tthrow new TypeError(`Expected the \"${key}\" option to be a boolean`);\n\t}\n\treturn value;\n};\n\nexports.cppdb = Symbol();\nexports.inspect = Symbol.for('nodejs.util.inspect.custom');\n","/**\n  * This file contains the Bottleneck library (MIT), compiled to ES2017, and without Clustering support.\n  * https://github.com/SGrondin/bottleneck\n  */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.Bottleneck = factory());\n}(this, (function () { 'use strict';\n\n\tvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n\tfunction getCjsExportFromNamespace (n) {\n\t\treturn n && n['default'] || n;\n\t}\n\n\tvar load = function(received, defaults, onto = {}) {\n\t  var k, ref, v;\n\t  for (k in defaults) {\n\t    v = defaults[k];\n\t    onto[k] = (ref = received[k]) != null ? ref : v;\n\t  }\n\t  return onto;\n\t};\n\n\tvar overwrite = function(received, defaults, onto = {}) {\n\t  var k, v;\n\t  for (k in received) {\n\t    v = received[k];\n\t    if (defaults[k] !== void 0) {\n\t      onto[k] = v;\n\t    }\n\t  }\n\t  return onto;\n\t};\n\n\tvar parser = {\n\t\tload: load,\n\t\toverwrite: overwrite\n\t};\n\n\tvar DLList;\n\n\tDLList = class DLList {\n\t  constructor(incr, decr) {\n\t    this.incr = incr;\n\t    this.decr = decr;\n\t    this._first = null;\n\t    this._last = null;\n\t    this.length = 0;\n\t  }\n\n\t  push(value) {\n\t    var node;\n\t    this.length++;\n\t    if (typeof this.incr === \"function\") {\n\t      this.incr();\n\t    }\n\t    node = {\n\t      value,\n\t      prev: this._last,\n\t      next: null\n\t    };\n\t    if (this._last != null) {\n\t      this._last.next = node;\n\t      this._last = node;\n\t    } else {\n\t      this._first = this._last = node;\n\t    }\n\t    return void 0;\n\t  }\n\n\t  shift() {\n\t    var value;\n\t    if (this._first == null) {\n\t      return;\n\t    } else {\n\t      this.length--;\n\t      if (typeof this.decr === \"function\") {\n\t        this.decr();\n\t      }\n\t    }\n\t    value = this._first.value;\n\t    if ((this._first = this._first.next) != null) {\n\t      this._first.prev = null;\n\t    } else {\n\t      this._last = null;\n\t    }\n\t    return value;\n\t  }\n\n\t  first() {\n\t    if (this._first != null) {\n\t      return this._first.value;\n\t    }\n\t  }\n\n\t  getArray() {\n\t    var node, ref, results;\n\t    node = this._first;\n\t    results = [];\n\t    while (node != null) {\n\t      results.push((ref = node, node = node.next, ref.value));\n\t    }\n\t    return results;\n\t  }\n\n\t  forEachShift(cb) {\n\t    var node;\n\t    node = this.shift();\n\t    while (node != null) {\n\t      (cb(node), node = this.shift());\n\t    }\n\t    return void 0;\n\t  }\n\n\t  debug() {\n\t    var node, ref, ref1, ref2, results;\n\t    node = this._first;\n\t    results = [];\n\t    while (node != null) {\n\t      results.push((ref = node, node = node.next, {\n\t        value: ref.value,\n\t        prev: (ref1 = ref.prev) != null ? ref1.value : void 0,\n\t        next: (ref2 = ref.next) != null ? ref2.value : void 0\n\t      }));\n\t    }\n\t    return results;\n\t  }\n\n\t};\n\n\tvar DLList_1 = DLList;\n\n\tvar Events;\n\n\tEvents = class Events {\n\t  constructor(instance) {\n\t    this.instance = instance;\n\t    this._events = {};\n\t    if ((this.instance.on != null) || (this.instance.once != null) || (this.instance.removeAllListeners != null)) {\n\t      throw new Error(\"An Emitter already exists for this object\");\n\t    }\n\t    this.instance.on = (name, cb) => {\n\t      return this._addListener(name, \"many\", cb);\n\t    };\n\t    this.instance.once = (name, cb) => {\n\t      return this._addListener(name, \"once\", cb);\n\t    };\n\t    this.instance.removeAllListeners = (name = null) => {\n\t      if (name != null) {\n\t        return delete this._events[name];\n\t      } else {\n\t        return this._events = {};\n\t      }\n\t    };\n\t  }\n\n\t  _addListener(name, status, cb) {\n\t    var base;\n\t    if ((base = this._events)[name] == null) {\n\t      base[name] = [];\n\t    }\n\t    this._events[name].push({cb, status});\n\t    return this.instance;\n\t  }\n\n\t  listenerCount(name) {\n\t    if (this._events[name] != null) {\n\t      return this._events[name].length;\n\t    } else {\n\t      return 0;\n\t    }\n\t  }\n\n\t  async trigger(name, ...args) {\n\t    var e, promises;\n\t    try {\n\t      if (name !== \"debug\") {\n\t        this.trigger(\"debug\", `Event triggered: ${name}`, args);\n\t      }\n\t      if (this._events[name] == null) {\n\t        return;\n\t      }\n\t      this._events[name] = this._events[name].filter(function(listener) {\n\t        return listener.status !== \"none\";\n\t      });\n\t      promises = this._events[name].map(async(listener) => {\n\t        var e, returned;\n\t        if (listener.status === \"none\") {\n\t          return;\n\t        }\n\t        if (listener.status === \"once\") {\n\t          listener.status = \"none\";\n\t        }\n\t        try {\n\t          returned = typeof listener.cb === \"function\" ? listener.cb(...args) : void 0;\n\t          if (typeof (returned != null ? returned.then : void 0) === \"function\") {\n\t            return (await returned);\n\t          } else {\n\t            return returned;\n\t          }\n\t        } catch (error) {\n\t          e = error;\n\t          {\n\t            this.trigger(\"error\", e);\n\t          }\n\t          return null;\n\t        }\n\t      });\n\t      return ((await Promise.all(promises))).find(function(x) {\n\t        return x != null;\n\t      });\n\t    } catch (error) {\n\t      e = error;\n\t      {\n\t        this.trigger(\"error\", e);\n\t      }\n\t      return null;\n\t    }\n\t  }\n\n\t};\n\n\tvar Events_1 = Events;\n\n\tvar DLList$1, Events$1, Queues;\n\n\tDLList$1 = DLList_1;\n\n\tEvents$1 = Events_1;\n\n\tQueues = class Queues {\n\t  constructor(num_priorities) {\n\t    var i;\n\t    this.Events = new Events$1(this);\n\t    this._length = 0;\n\t    this._lists = (function() {\n\t      var j, ref, results;\n\t      results = [];\n\t      for (i = j = 1, ref = num_priorities; (1 <= ref ? j <= ref : j >= ref); i = 1 <= ref ? ++j : --j) {\n\t        results.push(new DLList$1((() => {\n\t          return this.incr();\n\t        }), (() => {\n\t          return this.decr();\n\t        })));\n\t      }\n\t      return results;\n\t    }).call(this);\n\t  }\n\n\t  incr() {\n\t    if (this._length++ === 0) {\n\t      return this.Events.trigger(\"leftzero\");\n\t    }\n\t  }\n\n\t  decr() {\n\t    if (--this._length === 0) {\n\t      return this.Events.trigger(\"zero\");\n\t    }\n\t  }\n\n\t  push(job) {\n\t    return this._lists[job.options.priority].push(job);\n\t  }\n\n\t  queued(priority) {\n\t    if (priority != null) {\n\t      return this._lists[priority].length;\n\t    } else {\n\t      return this._length;\n\t    }\n\t  }\n\n\t  shiftAll(fn) {\n\t    return this._lists.forEach(function(list) {\n\t      return list.forEachShift(fn);\n\t    });\n\t  }\n\n\t  getFirst(arr = this._lists) {\n\t    var j, len, list;\n\t    for (j = 0, len = arr.length; j < len; j++) {\n\t      list = arr[j];\n\t      if (list.length > 0) {\n\t        return list;\n\t      }\n\t    }\n\t    return [];\n\t  }\n\n\t  shiftLastFrom(priority) {\n\t    return this.getFirst(this._lists.slice(priority).reverse()).shift();\n\t  }\n\n\t};\n\n\tvar Queues_1 = Queues;\n\n\tvar BottleneckError;\n\n\tBottleneckError = class BottleneckError extends Error {};\n\n\tvar BottleneckError_1 = BottleneckError;\n\n\tvar BottleneckError$1, DEFAULT_PRIORITY, Job, NUM_PRIORITIES, parser$1;\n\n\tNUM_PRIORITIES = 10;\n\n\tDEFAULT_PRIORITY = 5;\n\n\tparser$1 = parser;\n\n\tBottleneckError$1 = BottleneckError_1;\n\n\tJob = class Job {\n\t  constructor(task, args, options, jobDefaults, rejectOnDrop, Events, _states, Promise) {\n\t    this.task = task;\n\t    this.args = args;\n\t    this.rejectOnDrop = rejectOnDrop;\n\t    this.Events = Events;\n\t    this._states = _states;\n\t    this.Promise = Promise;\n\t    this.options = parser$1.load(options, jobDefaults);\n\t    this.options.priority = this._sanitizePriority(this.options.priority);\n\t    if (this.options.id === jobDefaults.id) {\n\t      this.options.id = `${this.options.id}-${this._randomIndex()}`;\n\t    }\n\t    this.promise = new this.Promise((_resolve, _reject) => {\n\t      this._resolve = _resolve;\n\t      this._reject = _reject;\n\t    });\n\t    this.retryCount = 0;\n\t  }\n\n\t  _sanitizePriority(priority) {\n\t    var sProperty;\n\t    sProperty = ~~priority !== priority ? DEFAULT_PRIORITY : priority;\n\t    if (sProperty < 0) {\n\t      return 0;\n\t    } else if (sProperty > NUM_PRIORITIES - 1) {\n\t      return NUM_PRIORITIES - 1;\n\t    } else {\n\t      return sProperty;\n\t    }\n\t  }\n\n\t  _randomIndex() {\n\t    return Math.random().toString(36).slice(2);\n\t  }\n\n\t  doDrop({error, message = \"This job has been dropped by Bottleneck\"} = {}) {\n\t    if (this._states.remove(this.options.id)) {\n\t      if (this.rejectOnDrop) {\n\t        this._reject(error != null ? error : new BottleneckError$1(message));\n\t      }\n\t      this.Events.trigger(\"dropped\", {args: this.args, options: this.options, task: this.task, promise: this.promise});\n\t      return true;\n\t    } else {\n\t      return false;\n\t    }\n\t  }\n\n\t  _assertStatus(expected) {\n\t    var status;\n\t    status = this._states.jobStatus(this.options.id);\n\t    if (!(status === expected || (expected === \"DONE\" && status === null))) {\n\t      throw new BottleneckError$1(`Invalid job status ${status}, expected ${expected}. Please open an issue at https://github.com/SGrondin/bottleneck/issues`);\n\t    }\n\t  }\n\n\t  doReceive() {\n\t    this._states.start(this.options.id);\n\t    return this.Events.trigger(\"received\", {args: this.args, options: this.options});\n\t  }\n\n\t  doQueue(reachedHWM, blocked) {\n\t    this._assertStatus(\"RECEIVED\");\n\t    this._states.next(this.options.id);\n\t    return this.Events.trigger(\"queued\", {args: this.args, options: this.options, reachedHWM, blocked});\n\t  }\n\n\t  doRun() {\n\t    if (this.retryCount === 0) {\n\t      this._assertStatus(\"QUEUED\");\n\t      this._states.next(this.options.id);\n\t    } else {\n\t      this._assertStatus(\"EXECUTING\");\n\t    }\n\t    return this.Events.trigger(\"scheduled\", {args: this.args, options: this.options});\n\t  }\n\n\t  async doExecute(chained, clearGlobalState, run, free) {\n\t    var error, eventInfo, passed;\n\t    if (this.retryCount === 0) {\n\t      this._assertStatus(\"RUNNING\");\n\t      this._states.next(this.options.id);\n\t    } else {\n\t      this._assertStatus(\"EXECUTING\");\n\t    }\n\t    eventInfo = {args: this.args, options: this.options, retryCount: this.retryCount};\n\t    this.Events.trigger(\"executing\", eventInfo);\n\t    try {\n\t      passed = (await (chained != null ? chained.schedule(this.options, this.task, ...this.args) : this.task(...this.args)));\n\t      if (clearGlobalState()) {\n\t        this.doDone(eventInfo);\n\t        await free(this.options, eventInfo);\n\t        this._assertStatus(\"DONE\");\n\t        return this._resolve(passed);\n\t      }\n\t    } catch (error1) {\n\t      error = error1;\n\t      return this._onFailure(error, eventInfo, clearGlobalState, run, free);\n\t    }\n\t  }\n\n\t  doExpire(clearGlobalState, run, free) {\n\t    var error, eventInfo;\n\t    if (this._states.jobStatus(this.options.id === \"RUNNING\")) {\n\t      this._states.next(this.options.id);\n\t    }\n\t    this._assertStatus(\"EXECUTING\");\n\t    eventInfo = {args: this.args, options: this.options, retryCount: this.retryCount};\n\t    error = new BottleneckError$1(`This job timed out after ${this.options.expiration} ms.`);\n\t    return this._onFailure(error, eventInfo, clearGlobalState, run, free);\n\t  }\n\n\t  async _onFailure(error, eventInfo, clearGlobalState, run, free) {\n\t    var retry, retryAfter;\n\t    if (clearGlobalState()) {\n\t      retry = (await this.Events.trigger(\"failed\", error, eventInfo));\n\t      if (retry != null) {\n\t        retryAfter = ~~retry;\n\t        this.Events.trigger(\"retry\", `Retrying ${this.options.id} after ${retryAfter} ms`, eventInfo);\n\t        this.retryCount++;\n\t        return run(retryAfter);\n\t      } else {\n\t        this.doDone(eventInfo);\n\t        await free(this.options, eventInfo);\n\t        this._assertStatus(\"DONE\");\n\t        return this._reject(error);\n\t      }\n\t    }\n\t  }\n\n\t  doDone(eventInfo) {\n\t    this._assertStatus(\"EXECUTING\");\n\t    this._states.next(this.options.id);\n\t    return this.Events.trigger(\"done\", eventInfo);\n\t  }\n\n\t};\n\n\tvar Job_1 = Job;\n\n\tvar BottleneckError$2, LocalDatastore, parser$2;\n\n\tparser$2 = parser;\n\n\tBottleneckError$2 = BottleneckError_1;\n\n\tLocalDatastore = class LocalDatastore {\n\t  constructor(instance, storeOptions, storeInstanceOptions) {\n\t    this.instance = instance;\n\t    this.storeOptions = storeOptions;\n\t    this.clientId = this.instance._randomIndex();\n\t    parser$2.load(storeInstanceOptions, storeInstanceOptions, this);\n\t    this._nextRequest = this._lastReservoirRefresh = this._lastReservoirIncrease = Date.now();\n\t    this._running = 0;\n\t    this._done = 0;\n\t    this._unblockTime = 0;\n\t    this.ready = this.Promise.resolve();\n\t    this.clients = {};\n\t    this._startHeartbeat();\n\t  }\n\n\t  _startHeartbeat() {\n\t    var base;\n\t    if ((this.heartbeat == null) && (((this.storeOptions.reservoirRefreshInterval != null) && (this.storeOptions.reservoirRefreshAmount != null)) || ((this.storeOptions.reservoirIncreaseInterval != null) && (this.storeOptions.reservoirIncreaseAmount != null)))) {\n\t      return typeof (base = (this.heartbeat = setInterval(() => {\n\t        var amount, incr, maximum, now, reservoir;\n\t        now = Date.now();\n\t        if ((this.storeOptions.reservoirRefreshInterval != null) && now >= this._lastReservoirRefresh + this.storeOptions.reservoirRefreshInterval) {\n\t          this._lastReservoirRefresh = now;\n\t          this.storeOptions.reservoir = this.storeOptions.reservoirRefreshAmount;\n\t          this.instance._drainAll(this.computeCapacity());\n\t        }\n\t        if ((this.storeOptions.reservoirIncreaseInterval != null) && now >= this._lastReservoirIncrease + this.storeOptions.reservoirIncreaseInterval) {\n\t          ({\n\t            reservoirIncreaseAmount: amount,\n\t            reservoirIncreaseMaximum: maximum,\n\t            reservoir\n\t          } = this.storeOptions);\n\t          this._lastReservoirIncrease = now;\n\t          incr = maximum != null ? Math.min(amount, maximum - reservoir) : amount;\n\t          if (incr > 0) {\n\t            this.storeOptions.reservoir += incr;\n\t            return this.instance._drainAll(this.computeCapacity());\n\t          }\n\t        }\n\t      }, this.heartbeatInterval))).unref === \"function\" ? base.unref() : void 0;\n\t    } else {\n\t      return clearInterval(this.heartbeat);\n\t    }\n\t  }\n\n\t  async __publish__(message) {\n\t    await this.yieldLoop();\n\t    return this.instance.Events.trigger(\"message\", message.toString());\n\t  }\n\n\t  async __disconnect__(flush) {\n\t    await this.yieldLoop();\n\t    clearInterval(this.heartbeat);\n\t    return this.Promise.resolve();\n\t  }\n\n\t  yieldLoop(t = 0) {\n\t    return new this.Promise(function(resolve, reject) {\n\t      return setTimeout(resolve, t);\n\t    });\n\t  }\n\n\t  computePenalty() {\n\t    var ref;\n\t    return (ref = this.storeOptions.penalty) != null ? ref : (15 * this.storeOptions.minTime) || 5000;\n\t  }\n\n\t  async __updateSettings__(options) {\n\t    await this.yieldLoop();\n\t    parser$2.overwrite(options, options, this.storeOptions);\n\t    this._startHeartbeat();\n\t    this.instance._drainAll(this.computeCapacity());\n\t    return true;\n\t  }\n\n\t  async __running__() {\n\t    await this.yieldLoop();\n\t    return this._running;\n\t  }\n\n\t  async __queued__() {\n\t    await this.yieldLoop();\n\t    return this.instance.queued();\n\t  }\n\n\t  async __done__() {\n\t    await this.yieldLoop();\n\t    return this._done;\n\t  }\n\n\t  async __groupCheck__(time) {\n\t    await this.yieldLoop();\n\t    return (this._nextRequest + this.timeout) < time;\n\t  }\n\n\t  computeCapacity() {\n\t    var maxConcurrent, reservoir;\n\t    ({maxConcurrent, reservoir} = this.storeOptions);\n\t    if ((maxConcurrent != null) && (reservoir != null)) {\n\t      return Math.min(maxConcurrent - this._running, reservoir);\n\t    } else if (maxConcurrent != null) {\n\t      return maxConcurrent - this._running;\n\t    } else if (reservoir != null) {\n\t      return reservoir;\n\t    } else {\n\t      return null;\n\t    }\n\t  }\n\n\t  conditionsCheck(weight) {\n\t    var capacity;\n\t    capacity = this.computeCapacity();\n\t    return (capacity == null) || weight <= capacity;\n\t  }\n\n\t  async __incrementReservoir__(incr) {\n\t    var reservoir;\n\t    await this.yieldLoop();\n\t    reservoir = this.storeOptions.reservoir += incr;\n\t    this.instance._drainAll(this.computeCapacity());\n\t    return reservoir;\n\t  }\n\n\t  async __currentReservoir__() {\n\t    await this.yieldLoop();\n\t    return this.storeOptions.reservoir;\n\t  }\n\n\t  isBlocked(now) {\n\t    return this._unblockTime >= now;\n\t  }\n\n\t  check(weight, now) {\n\t    return this.conditionsCheck(weight) && (this._nextRequest - now) <= 0;\n\t  }\n\n\t  async __check__(weight) {\n\t    var now;\n\t    await this.yieldLoop();\n\t    now = Date.now();\n\t    return this.check(weight, now);\n\t  }\n\n\t  async __register__(index, weight, expiration) {\n\t    var now, wait;\n\t    await this.yieldLoop();\n\t    now = Date.now();\n\t    if (this.conditionsCheck(weight)) {\n\t      this._running += weight;\n\t      if (this.storeOptions.reservoir != null) {\n\t        this.storeOptions.reservoir -= weight;\n\t      }\n\t      wait = Math.max(this._nextRequest - now, 0);\n\t      this._nextRequest = now + wait + this.storeOptions.minTime;\n\t      return {\n\t        success: true,\n\t        wait,\n\t        reservoir: this.storeOptions.reservoir\n\t      };\n\t    } else {\n\t      return {\n\t        success: false\n\t      };\n\t    }\n\t  }\n\n\t  strategyIsBlock() {\n\t    return this.storeOptions.strategy === 3;\n\t  }\n\n\t  async __submit__(queueLength, weight) {\n\t    var blocked, now, reachedHWM;\n\t    await this.yieldLoop();\n\t    if ((this.storeOptions.maxConcurrent != null) && weight > this.storeOptions.maxConcurrent) {\n\t      throw new BottleneckError$2(`Impossible to add a job having a weight of ${weight} to a limiter having a maxConcurrent setting of ${this.storeOptions.maxConcurrent}`);\n\t    }\n\t    now = Date.now();\n\t    reachedHWM = (this.storeOptions.highWater != null) && queueLength === this.storeOptions.highWater && !this.check(weight, now);\n\t    blocked = this.strategyIsBlock() && (reachedHWM || this.isBlocked(now));\n\t    if (blocked) {\n\t      this._unblockTime = now + this.computePenalty();\n\t      this._nextRequest = this._unblockTime + this.storeOptions.minTime;\n\t      this.instance._dropAllQueued();\n\t    }\n\t    return {\n\t      reachedHWM,\n\t      blocked,\n\t      strategy: this.storeOptions.strategy\n\t    };\n\t  }\n\n\t  async __free__(index, weight) {\n\t    await this.yieldLoop();\n\t    this._running -= weight;\n\t    this._done += weight;\n\t    this.instance._drainAll(this.computeCapacity());\n\t    return {\n\t      running: this._running\n\t    };\n\t  }\n\n\t};\n\n\tvar LocalDatastore_1 = LocalDatastore;\n\n\tvar BottleneckError$3, States;\n\n\tBottleneckError$3 = BottleneckError_1;\n\n\tStates = class States {\n\t  constructor(status1) {\n\t    this.status = status1;\n\t    this._jobs = {};\n\t    this.counts = this.status.map(function() {\n\t      return 0;\n\t    });\n\t  }\n\n\t  next(id) {\n\t    var current, next;\n\t    current = this._jobs[id];\n\t    next = current + 1;\n\t    if ((current != null) && next < this.status.length) {\n\t      this.counts[current]--;\n\t      this.counts[next]++;\n\t      return this._jobs[id]++;\n\t    } else if (current != null) {\n\t      this.counts[current]--;\n\t      return delete this._jobs[id];\n\t    }\n\t  }\n\n\t  start(id) {\n\t    var initial;\n\t    initial = 0;\n\t    this._jobs[id] = initial;\n\t    return this.counts[initial]++;\n\t  }\n\n\t  remove(id) {\n\t    var current;\n\t    current = this._jobs[id];\n\t    if (current != null) {\n\t      this.counts[current]--;\n\t      delete this._jobs[id];\n\t    }\n\t    return current != null;\n\t  }\n\n\t  jobStatus(id) {\n\t    var ref;\n\t    return (ref = this.status[this._jobs[id]]) != null ? ref : null;\n\t  }\n\n\t  statusJobs(status) {\n\t    var k, pos, ref, results, v;\n\t    if (status != null) {\n\t      pos = this.status.indexOf(status);\n\t      if (pos < 0) {\n\t        throw new BottleneckError$3(`status must be one of ${this.status.join(', ')}`);\n\t      }\n\t      ref = this._jobs;\n\t      results = [];\n\t      for (k in ref) {\n\t        v = ref[k];\n\t        if (v === pos) {\n\t          results.push(k);\n\t        }\n\t      }\n\t      return results;\n\t    } else {\n\t      return Object.keys(this._jobs);\n\t    }\n\t  }\n\n\t  statusCounts() {\n\t    return this.counts.reduce(((acc, v, i) => {\n\t      acc[this.status[i]] = v;\n\t      return acc;\n\t    }), {});\n\t  }\n\n\t};\n\n\tvar States_1 = States;\n\n\tvar DLList$2, Sync;\n\n\tDLList$2 = DLList_1;\n\n\tSync = class Sync {\n\t  constructor(name, Promise) {\n\t    this.schedule = this.schedule.bind(this);\n\t    this.name = name;\n\t    this.Promise = Promise;\n\t    this._running = 0;\n\t    this._queue = new DLList$2();\n\t  }\n\n\t  isEmpty() {\n\t    return this._queue.length === 0;\n\t  }\n\n\t  async _tryToRun() {\n\t    var args, cb, error, reject, resolve, returned, task;\n\t    if ((this._running < 1) && this._queue.length > 0) {\n\t      this._running++;\n\t      ({task, args, resolve, reject} = this._queue.shift());\n\t      cb = (await (async function() {\n\t        try {\n\t          returned = (await task(...args));\n\t          return function() {\n\t            return resolve(returned);\n\t          };\n\t        } catch (error1) {\n\t          error = error1;\n\t          return function() {\n\t            return reject(error);\n\t          };\n\t        }\n\t      })());\n\t      this._running--;\n\t      this._tryToRun();\n\t      return cb();\n\t    }\n\t  }\n\n\t  schedule(task, ...args) {\n\t    var promise, reject, resolve;\n\t    resolve = reject = null;\n\t    promise = new this.Promise(function(_resolve, _reject) {\n\t      resolve = _resolve;\n\t      return reject = _reject;\n\t    });\n\t    this._queue.push({task, args, resolve, reject});\n\t    this._tryToRun();\n\t    return promise;\n\t  }\n\n\t};\n\n\tvar Sync_1 = Sync;\n\n\tvar version = \"2.19.5\";\n\tvar version$1 = {\n\t\tversion: version\n\t};\n\n\tvar version$2 = /*#__PURE__*/Object.freeze({\n\t\tversion: version,\n\t\tdefault: version$1\n\t});\n\n\tvar require$$2 = () => console.log('You must import the full version of Bottleneck in order to use this feature.');\n\n\tvar require$$3 = () => console.log('You must import the full version of Bottleneck in order to use this feature.');\n\n\tvar require$$4 = () => console.log('You must import the full version of Bottleneck in order to use this feature.');\n\n\tvar Events$2, Group, IORedisConnection$1, RedisConnection$1, Scripts$1, parser$3;\n\n\tparser$3 = parser;\n\n\tEvents$2 = Events_1;\n\n\tRedisConnection$1 = require$$2;\n\n\tIORedisConnection$1 = require$$3;\n\n\tScripts$1 = require$$4;\n\n\tGroup = (function() {\n\t  class Group {\n\t    constructor(limiterOptions = {}) {\n\t      this.deleteKey = this.deleteKey.bind(this);\n\t      this.limiterOptions = limiterOptions;\n\t      parser$3.load(this.limiterOptions, this.defaults, this);\n\t      this.Events = new Events$2(this);\n\t      this.instances = {};\n\t      this.Bottleneck = Bottleneck_1;\n\t      this._startAutoCleanup();\n\t      this.sharedConnection = this.connection != null;\n\t      if (this.connection == null) {\n\t        if (this.limiterOptions.datastore === \"redis\") {\n\t          this.connection = new RedisConnection$1(Object.assign({}, this.limiterOptions, {Events: this.Events}));\n\t        } else if (this.limiterOptions.datastore === \"ioredis\") {\n\t          this.connection = new IORedisConnection$1(Object.assign({}, this.limiterOptions, {Events: this.Events}));\n\t        }\n\t      }\n\t    }\n\n\t    key(key = \"\") {\n\t      var ref;\n\t      return (ref = this.instances[key]) != null ? ref : (() => {\n\t        var limiter;\n\t        limiter = this.instances[key] = new this.Bottleneck(Object.assign(this.limiterOptions, {\n\t          id: `${this.id}-${key}`,\n\t          timeout: this.timeout,\n\t          connection: this.connection\n\t        }));\n\t        this.Events.trigger(\"created\", limiter, key);\n\t        return limiter;\n\t      })();\n\t    }\n\n\t    async deleteKey(key = \"\") {\n\t      var deleted, instance;\n\t      instance = this.instances[key];\n\t      if (this.connection) {\n\t        deleted = (await this.connection.__runCommand__(['del', ...Scripts$1.allKeys(`${this.id}-${key}`)]));\n\t      }\n\t      if (instance != null) {\n\t        delete this.instances[key];\n\t        await instance.disconnect();\n\t      }\n\t      return (instance != null) || deleted > 0;\n\t    }\n\n\t    limiters() {\n\t      var k, ref, results, v;\n\t      ref = this.instances;\n\t      results = [];\n\t      for (k in ref) {\n\t        v = ref[k];\n\t        results.push({\n\t          key: k,\n\t          limiter: v\n\t        });\n\t      }\n\t      return results;\n\t    }\n\n\t    keys() {\n\t      return Object.keys(this.instances);\n\t    }\n\n\t    async clusterKeys() {\n\t      var cursor, end, found, i, k, keys, len, next, start;\n\t      if (this.connection == null) {\n\t        return this.Promise.resolve(this.keys());\n\t      }\n\t      keys = [];\n\t      cursor = null;\n\t      start = `b_${this.id}-`.length;\n\t      end = \"_settings\".length;\n\t      while (cursor !== 0) {\n\t        [next, found] = (await this.connection.__runCommand__([\"scan\", cursor != null ? cursor : 0, \"match\", `b_${this.id}-*_settings`, \"count\", 10000]));\n\t        cursor = ~~next;\n\t        for (i = 0, len = found.length; i < len; i++) {\n\t          k = found[i];\n\t          keys.push(k.slice(start, -end));\n\t        }\n\t      }\n\t      return keys;\n\t    }\n\n\t    _startAutoCleanup() {\n\t      var base;\n\t      clearInterval(this.interval);\n\t      return typeof (base = (this.interval = setInterval(async() => {\n\t        var e, k, ref, results, time, v;\n\t        time = Date.now();\n\t        ref = this.instances;\n\t        results = [];\n\t        for (k in ref) {\n\t          v = ref[k];\n\t          try {\n\t            if ((await v._store.__groupCheck__(time))) {\n\t              results.push(this.deleteKey(k));\n\t            } else {\n\t              results.push(void 0);\n\t            }\n\t          } catch (error) {\n\t            e = error;\n\t            results.push(v.Events.trigger(\"error\", e));\n\t          }\n\t        }\n\t        return results;\n\t      }, this.timeout / 2))).unref === \"function\" ? base.unref() : void 0;\n\t    }\n\n\t    updateSettings(options = {}) {\n\t      parser$3.overwrite(options, this.defaults, this);\n\t      parser$3.overwrite(options, options, this.limiterOptions);\n\t      if (options.timeout != null) {\n\t        return this._startAutoCleanup();\n\t      }\n\t    }\n\n\t    disconnect(flush = true) {\n\t      var ref;\n\t      if (!this.sharedConnection) {\n\t        return (ref = this.connection) != null ? ref.disconnect(flush) : void 0;\n\t      }\n\t    }\n\n\t  }\n\t  Group.prototype.defaults = {\n\t    timeout: 1000 * 60 * 5,\n\t    connection: null,\n\t    Promise: Promise,\n\t    id: \"group-key\"\n\t  };\n\n\t  return Group;\n\n\t}).call(commonjsGlobal);\n\n\tvar Group_1 = Group;\n\n\tvar Batcher, Events$3, parser$4;\n\n\tparser$4 = parser;\n\n\tEvents$3 = Events_1;\n\n\tBatcher = (function() {\n\t  class Batcher {\n\t    constructor(options = {}) {\n\t      this.options = options;\n\t      parser$4.load(this.options, this.defaults, this);\n\t      this.Events = new Events$3(this);\n\t      this._arr = [];\n\t      this._resetPromise();\n\t      this._lastFlush = Date.now();\n\t    }\n\n\t    _resetPromise() {\n\t      return this._promise = new this.Promise((res, rej) => {\n\t        return this._resolve = res;\n\t      });\n\t    }\n\n\t    _flush() {\n\t      clearTimeout(this._timeout);\n\t      this._lastFlush = Date.now();\n\t      this._resolve();\n\t      this.Events.trigger(\"batch\", this._arr);\n\t      this._arr = [];\n\t      return this._resetPromise();\n\t    }\n\n\t    add(data) {\n\t      var ret;\n\t      this._arr.push(data);\n\t      ret = this._promise;\n\t      if (this._arr.length === this.maxSize) {\n\t        this._flush();\n\t      } else if ((this.maxTime != null) && this._arr.length === 1) {\n\t        this._timeout = setTimeout(() => {\n\t          return this._flush();\n\t        }, this.maxTime);\n\t      }\n\t      return ret;\n\t    }\n\n\t  }\n\t  Batcher.prototype.defaults = {\n\t    maxTime: null,\n\t    maxSize: null,\n\t    Promise: Promise\n\t  };\n\n\t  return Batcher;\n\n\t}).call(commonjsGlobal);\n\n\tvar Batcher_1 = Batcher;\n\n\tvar require$$4$1 = () => console.log('You must import the full version of Bottleneck in order to use this feature.');\n\n\tvar require$$8 = getCjsExportFromNamespace(version$2);\n\n\tvar Bottleneck, DEFAULT_PRIORITY$1, Events$4, Job$1, LocalDatastore$1, NUM_PRIORITIES$1, Queues$1, RedisDatastore$1, States$1, Sync$1, parser$5,\n\t  splice = [].splice;\n\n\tNUM_PRIORITIES$1 = 10;\n\n\tDEFAULT_PRIORITY$1 = 5;\n\n\tparser$5 = parser;\n\n\tQueues$1 = Queues_1;\n\n\tJob$1 = Job_1;\n\n\tLocalDatastore$1 = LocalDatastore_1;\n\n\tRedisDatastore$1 = require$$4$1;\n\n\tEvents$4 = Events_1;\n\n\tStates$1 = States_1;\n\n\tSync$1 = Sync_1;\n\n\tBottleneck = (function() {\n\t  class Bottleneck {\n\t    constructor(options = {}, ...invalid) {\n\t      var storeInstanceOptions, storeOptions;\n\t      this._addToQueue = this._addToQueue.bind(this);\n\t      this._validateOptions(options, invalid);\n\t      parser$5.load(options, this.instanceDefaults, this);\n\t      this._queues = new Queues$1(NUM_PRIORITIES$1);\n\t      this._scheduled = {};\n\t      this._states = new States$1([\"RECEIVED\", \"QUEUED\", \"RUNNING\", \"EXECUTING\"].concat(this.trackDoneStatus ? [\"DONE\"] : []));\n\t      this._limiter = null;\n\t      this.Events = new Events$4(this);\n\t      this._submitLock = new Sync$1(\"submit\", this.Promise);\n\t      this._registerLock = new Sync$1(\"register\", this.Promise);\n\t      storeOptions = parser$5.load(options, this.storeDefaults, {});\n\t      this._store = (function() {\n\t        if (this.datastore === \"redis\" || this.datastore === \"ioredis\" || (this.connection != null)) {\n\t          storeInstanceOptions = parser$5.load(options, this.redisStoreDefaults, {});\n\t          return new RedisDatastore$1(this, storeOptions, storeInstanceOptions);\n\t        } else if (this.datastore === \"local\") {\n\t          storeInstanceOptions = parser$5.load(options, this.localStoreDefaults, {});\n\t          return new LocalDatastore$1(this, storeOptions, storeInstanceOptions);\n\t        } else {\n\t          throw new Bottleneck.prototype.BottleneckError(`Invalid datastore type: ${this.datastore}`);\n\t        }\n\t      }).call(this);\n\t      this._queues.on(\"leftzero\", () => {\n\t        var ref;\n\t        return (ref = this._store.heartbeat) != null ? typeof ref.ref === \"function\" ? ref.ref() : void 0 : void 0;\n\t      });\n\t      this._queues.on(\"zero\", () => {\n\t        var ref;\n\t        return (ref = this._store.heartbeat) != null ? typeof ref.unref === \"function\" ? ref.unref() : void 0 : void 0;\n\t      });\n\t    }\n\n\t    _validateOptions(options, invalid) {\n\t      if (!((options != null) && typeof options === \"object\" && invalid.length === 0)) {\n\t        throw new Bottleneck.prototype.BottleneckError(\"Bottleneck v2 takes a single object argument. Refer to https://github.com/SGrondin/bottleneck#upgrading-to-v2 if you're upgrading from Bottleneck v1.\");\n\t      }\n\t    }\n\n\t    ready() {\n\t      return this._store.ready;\n\t    }\n\n\t    clients() {\n\t      return this._store.clients;\n\t    }\n\n\t    channel() {\n\t      return `b_${this.id}`;\n\t    }\n\n\t    channel_client() {\n\t      return `b_${this.id}_${this._store.clientId}`;\n\t    }\n\n\t    publish(message) {\n\t      return this._store.__publish__(message);\n\t    }\n\n\t    disconnect(flush = true) {\n\t      return this._store.__disconnect__(flush);\n\t    }\n\n\t    chain(_limiter) {\n\t      this._limiter = _limiter;\n\t      return this;\n\t    }\n\n\t    queued(priority) {\n\t      return this._queues.queued(priority);\n\t    }\n\n\t    clusterQueued() {\n\t      return this._store.__queued__();\n\t    }\n\n\t    empty() {\n\t      return this.queued() === 0 && this._submitLock.isEmpty();\n\t    }\n\n\t    running() {\n\t      return this._store.__running__();\n\t    }\n\n\t    done() {\n\t      return this._store.__done__();\n\t    }\n\n\t    jobStatus(id) {\n\t      return this._states.jobStatus(id);\n\t    }\n\n\t    jobs(status) {\n\t      return this._states.statusJobs(status);\n\t    }\n\n\t    counts() {\n\t      return this._states.statusCounts();\n\t    }\n\n\t    _randomIndex() {\n\t      return Math.random().toString(36).slice(2);\n\t    }\n\n\t    check(weight = 1) {\n\t      return this._store.__check__(weight);\n\t    }\n\n\t    _clearGlobalState(index) {\n\t      if (this._scheduled[index] != null) {\n\t        clearTimeout(this._scheduled[index].expiration);\n\t        delete this._scheduled[index];\n\t        return true;\n\t      } else {\n\t        return false;\n\t      }\n\t    }\n\n\t    async _free(index, job, options, eventInfo) {\n\t      var e, running;\n\t      try {\n\t        ({running} = (await this._store.__free__(index, options.weight)));\n\t        this.Events.trigger(\"debug\", `Freed ${options.id}`, eventInfo);\n\t        if (running === 0 && this.empty()) {\n\t          return this.Events.trigger(\"idle\");\n\t        }\n\t      } catch (error1) {\n\t        e = error1;\n\t        return this.Events.trigger(\"error\", e);\n\t      }\n\t    }\n\n\t    _run(index, job, wait) {\n\t      var clearGlobalState, free, run;\n\t      job.doRun();\n\t      clearGlobalState = this._clearGlobalState.bind(this, index);\n\t      run = this._run.bind(this, index, job);\n\t      free = this._free.bind(this, index, job);\n\t      return this._scheduled[index] = {\n\t        timeout: setTimeout(() => {\n\t          return job.doExecute(this._limiter, clearGlobalState, run, free);\n\t        }, wait),\n\t        expiration: job.options.expiration != null ? setTimeout(function() {\n\t          return job.doExpire(clearGlobalState, run, free);\n\t        }, wait + job.options.expiration) : void 0,\n\t        job: job\n\t      };\n\t    }\n\n\t    _drainOne(capacity) {\n\t      return this._registerLock.schedule(() => {\n\t        var args, index, next, options, queue;\n\t        if (this.queued() === 0) {\n\t          return this.Promise.resolve(null);\n\t        }\n\t        queue = this._queues.getFirst();\n\t        ({options, args} = next = queue.first());\n\t        if ((capacity != null) && options.weight > capacity) {\n\t          return this.Promise.resolve(null);\n\t        }\n\t        this.Events.trigger(\"debug\", `Draining ${options.id}`, {args, options});\n\t        index = this._randomIndex();\n\t        return this._store.__register__(index, options.weight, options.expiration).then(({success, wait, reservoir}) => {\n\t          var empty;\n\t          this.Events.trigger(\"debug\", `Drained ${options.id}`, {success, args, options});\n\t          if (success) {\n\t            queue.shift();\n\t            empty = this.empty();\n\t            if (empty) {\n\t              this.Events.trigger(\"empty\");\n\t            }\n\t            if (reservoir === 0) {\n\t              this.Events.trigger(\"depleted\", empty);\n\t            }\n\t            this._run(index, next, wait);\n\t            return this.Promise.resolve(options.weight);\n\t          } else {\n\t            return this.Promise.resolve(null);\n\t          }\n\t        });\n\t      });\n\t    }\n\n\t    _drainAll(capacity, total = 0) {\n\t      return this._drainOne(capacity).then((drained) => {\n\t        var newCapacity;\n\t        if (drained != null) {\n\t          newCapacity = capacity != null ? capacity - drained : capacity;\n\t          return this._drainAll(newCapacity, total + drained);\n\t        } else {\n\t          return this.Promise.resolve(total);\n\t        }\n\t      }).catch((e) => {\n\t        return this.Events.trigger(\"error\", e);\n\t      });\n\t    }\n\n\t    _dropAllQueued(message) {\n\t      return this._queues.shiftAll(function(job) {\n\t        return job.doDrop({message});\n\t      });\n\t    }\n\n\t    stop(options = {}) {\n\t      var done, waitForExecuting;\n\t      options = parser$5.load(options, this.stopDefaults);\n\t      waitForExecuting = (at) => {\n\t        var finished;\n\t        finished = () => {\n\t          var counts;\n\t          counts = this._states.counts;\n\t          return (counts[0] + counts[1] + counts[2] + counts[3]) === at;\n\t        };\n\t        return new this.Promise((resolve, reject) => {\n\t          if (finished()) {\n\t            return resolve();\n\t          } else {\n\t            return this.on(\"done\", () => {\n\t              if (finished()) {\n\t                this.removeAllListeners(\"done\");\n\t                return resolve();\n\t              }\n\t            });\n\t          }\n\t        });\n\t      };\n\t      done = options.dropWaitingJobs ? (this._run = function(index, next) {\n\t        return next.doDrop({\n\t          message: options.dropErrorMessage\n\t        });\n\t      }, this._drainOne = () => {\n\t        return this.Promise.resolve(null);\n\t      }, this._registerLock.schedule(() => {\n\t        return this._submitLock.schedule(() => {\n\t          var k, ref, v;\n\t          ref = this._scheduled;\n\t          for (k in ref) {\n\t            v = ref[k];\n\t            if (this.jobStatus(v.job.options.id) === \"RUNNING\") {\n\t              clearTimeout(v.timeout);\n\t              clearTimeout(v.expiration);\n\t              v.job.doDrop({\n\t                message: options.dropErrorMessage\n\t              });\n\t            }\n\t          }\n\t          this._dropAllQueued(options.dropErrorMessage);\n\t          return waitForExecuting(0);\n\t        });\n\t      })) : this.schedule({\n\t        priority: NUM_PRIORITIES$1 - 1,\n\t        weight: 0\n\t      }, () => {\n\t        return waitForExecuting(1);\n\t      });\n\t      this._receive = function(job) {\n\t        return job._reject(new Bottleneck.prototype.BottleneckError(options.enqueueErrorMessage));\n\t      };\n\t      this.stop = () => {\n\t        return this.Promise.reject(new Bottleneck.prototype.BottleneckError(\"stop() has already been called\"));\n\t      };\n\t      return done;\n\t    }\n\n\t    async _addToQueue(job) {\n\t      var args, blocked, error, options, reachedHWM, shifted, strategy;\n\t      ({args, options} = job);\n\t      try {\n\t        ({reachedHWM, blocked, strategy} = (await this._store.__submit__(this.queued(), options.weight)));\n\t      } catch (error1) {\n\t        error = error1;\n\t        this.Events.trigger(\"debug\", `Could not queue ${options.id}`, {args, options, error});\n\t        job.doDrop({error});\n\t        return false;\n\t      }\n\t      if (blocked) {\n\t        job.doDrop();\n\t        return true;\n\t      } else if (reachedHWM) {\n\t        shifted = strategy === Bottleneck.prototype.strategy.LEAK ? this._queues.shiftLastFrom(options.priority) : strategy === Bottleneck.prototype.strategy.OVERFLOW_PRIORITY ? this._queues.shiftLastFrom(options.priority + 1) : strategy === Bottleneck.prototype.strategy.OVERFLOW ? job : void 0;\n\t        if (shifted != null) {\n\t          shifted.doDrop();\n\t        }\n\t        if ((shifted == null) || strategy === Bottleneck.prototype.strategy.OVERFLOW) {\n\t          if (shifted == null) {\n\t            job.doDrop();\n\t          }\n\t          return reachedHWM;\n\t        }\n\t      }\n\t      job.doQueue(reachedHWM, blocked);\n\t      this._queues.push(job);\n\t      await this._drainAll();\n\t      return reachedHWM;\n\t    }\n\n\t    _receive(job) {\n\t      if (this._states.jobStatus(job.options.id) != null) {\n\t        job._reject(new Bottleneck.prototype.BottleneckError(`A job with the same id already exists (id=${job.options.id})`));\n\t        return false;\n\t      } else {\n\t        job.doReceive();\n\t        return this._submitLock.schedule(this._addToQueue, job);\n\t      }\n\t    }\n\n\t    submit(...args) {\n\t      var cb, fn, job, options, ref, ref1, task;\n\t      if (typeof args[0] === \"function\") {\n\t        ref = args, [fn, ...args] = ref, [cb] = splice.call(args, -1);\n\t        options = parser$5.load({}, this.jobDefaults);\n\t      } else {\n\t        ref1 = args, [options, fn, ...args] = ref1, [cb] = splice.call(args, -1);\n\t        options = parser$5.load(options, this.jobDefaults);\n\t      }\n\t      task = (...args) => {\n\t        return new this.Promise(function(resolve, reject) {\n\t          return fn(...args, function(...args) {\n\t            return (args[0] != null ? reject : resolve)(args);\n\t          });\n\t        });\n\t      };\n\t      job = new Job$1(task, args, options, this.jobDefaults, this.rejectOnDrop, this.Events, this._states, this.Promise);\n\t      job.promise.then(function(args) {\n\t        return typeof cb === \"function\" ? cb(...args) : void 0;\n\t      }).catch(function(args) {\n\t        if (Array.isArray(args)) {\n\t          return typeof cb === \"function\" ? cb(...args) : void 0;\n\t        } else {\n\t          return typeof cb === \"function\" ? cb(args) : void 0;\n\t        }\n\t      });\n\t      return this._receive(job);\n\t    }\n\n\t    schedule(...args) {\n\t      var job, options, task;\n\t      if (typeof args[0] === \"function\") {\n\t        [task, ...args] = args;\n\t        options = {};\n\t      } else {\n\t        [options, task, ...args] = args;\n\t      }\n\t      job = new Job$1(task, args, options, this.jobDefaults, this.rejectOnDrop, this.Events, this._states, this.Promise);\n\t      this._receive(job);\n\t      return job.promise;\n\t    }\n\n\t    wrap(fn) {\n\t      var schedule, wrapped;\n\t      schedule = this.schedule.bind(this);\n\t      wrapped = function(...args) {\n\t        return schedule(fn.bind(this), ...args);\n\t      };\n\t      wrapped.withOptions = function(options, ...args) {\n\t        return schedule(options, fn, ...args);\n\t      };\n\t      return wrapped;\n\t    }\n\n\t    async updateSettings(options = {}) {\n\t      await this._store.__updateSettings__(parser$5.overwrite(options, this.storeDefaults));\n\t      parser$5.overwrite(options, this.instanceDefaults, this);\n\t      return this;\n\t    }\n\n\t    currentReservoir() {\n\t      return this._store.__currentReservoir__();\n\t    }\n\n\t    incrementReservoir(incr = 0) {\n\t      return this._store.__incrementReservoir__(incr);\n\t    }\n\n\t  }\n\t  Bottleneck.default = Bottleneck;\n\n\t  Bottleneck.Events = Events$4;\n\n\t  Bottleneck.version = Bottleneck.prototype.version = require$$8.version;\n\n\t  Bottleneck.strategy = Bottleneck.prototype.strategy = {\n\t    LEAK: 1,\n\t    OVERFLOW: 2,\n\t    OVERFLOW_PRIORITY: 4,\n\t    BLOCK: 3\n\t  };\n\n\t  Bottleneck.BottleneckError = Bottleneck.prototype.BottleneckError = BottleneckError_1;\n\n\t  Bottleneck.Group = Bottleneck.prototype.Group = Group_1;\n\n\t  Bottleneck.RedisConnection = Bottleneck.prototype.RedisConnection = require$$2;\n\n\t  Bottleneck.IORedisConnection = Bottleneck.prototype.IORedisConnection = require$$3;\n\n\t  Bottleneck.Batcher = Bottleneck.prototype.Batcher = Batcher_1;\n\n\t  Bottleneck.prototype.jobDefaults = {\n\t    priority: DEFAULT_PRIORITY$1,\n\t    weight: 1,\n\t    expiration: null,\n\t    id: \"<no-id>\"\n\t  };\n\n\t  Bottleneck.prototype.storeDefaults = {\n\t    maxConcurrent: null,\n\t    minTime: 0,\n\t    highWater: null,\n\t    strategy: Bottleneck.prototype.strategy.LEAK,\n\t    penalty: null,\n\t    reservoir: null,\n\t    reservoirRefreshInterval: null,\n\t    reservoirRefreshAmount: null,\n\t    reservoirIncreaseInterval: null,\n\t    reservoirIncreaseAmount: null,\n\t    reservoirIncreaseMaximum: null\n\t  };\n\n\t  Bottleneck.prototype.localStoreDefaults = {\n\t    Promise: Promise,\n\t    timeout: null,\n\t    heartbeatInterval: 250\n\t  };\n\n\t  Bottleneck.prototype.redisStoreDefaults = {\n\t    Promise: Promise,\n\t    timeout: null,\n\t    heartbeatInterval: 5000,\n\t    clientTimeout: 10000,\n\t    Redis: null,\n\t    clientOptions: {},\n\t    clusterNodes: null,\n\t    clearDatastore: false,\n\t    connection: null\n\t  };\n\n\t  Bottleneck.prototype.instanceDefaults = {\n\t    datastore: \"local\",\n\t    connection: null,\n\t    id: \"<no-id>\",\n\t    rejectOnDrop: true,\n\t    trackDoneStatus: false,\n\t    Promise: Promise\n\t  };\n\n\t  Bottleneck.prototype.stopDefaults = {\n\t    enqueueErrorMessage: \"This limiter has been stopped and cannot accept new jobs.\",\n\t    dropWaitingJobs: true,\n\t    dropErrorMessage: \"This limiter has been stopped.\"\n\t  };\n\n\t  return Bottleneck;\n\n\t}).call(commonjsGlobal);\n\n\tvar Bottleneck_1 = Bottleneck;\n\n\tvar lib = Bottleneck_1;\n\n\treturn lib;\n\n})));\n","var path = require('path');\nvar spawn = require('child_process').spawn;\nvar debug = require('debug')('electron-squirrel-startup');\nvar app = require('electron').app;\n\nvar run = function(args, done) {\n  var updateExe = path.resolve(path.dirname(process.execPath), '..', 'Update.exe');\n  debug('Spawning `%s` with args `%s`', updateExe, args);\n  spawn(updateExe, args, {\n    detached: true\n  }).on('close', done);\n};\n\nvar check = function() {\n  if (process.platform === 'win32') {\n    var cmd = process.argv[1];\n    debug('processing squirrel command `%s`', cmd);\n    var target = path.basename(process.execPath);\n\n    if (cmd === '--squirrel-install' || cmd === '--squirrel-updated') {\n      run(['--createShortcut=' + target + ''], app.quit);\n      return true;\n    }\n    if (cmd === '--squirrel-uninstall') {\n      run(['--removeShortcut=' + target + ''], app.quit);\n      return true;\n    }\n    if (cmd === '--squirrel-obsolete') {\n      app.quit();\n      return true;\n    }\n  }\n  return false;\n};\n\nmodule.exports = check();\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process !== 'undefined' && process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * The file descriptor to write the `debug()` calls to.\n * Set the `DEBUG_FD` env variable to override with another value. i.e.:\n *\n *   $ DEBUG_FD=3 node script.js 3>debug.log\n */\n\nvar fd = parseInt(process.env.DEBUG_FD, 10) || 2;\n\nif (1 !== fd && 2 !== fd) {\n  util.deprecate(function(){}, 'except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)')()\n}\n\nvar stream = 1 === fd ? process.stdout :\n             2 === fd ? process.stderr :\n             createWritableStdioStream(fd);\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n').map(function(str) {\n      return str.trim()\n    }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var prefix = '  \\u001b[3' + c + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push('\\u001b[3' + c + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = new Date().toUTCString()\n      + ' ' + name + ' ' + args[0];\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to `stream`.\n */\n\nfunction log() {\n  return stream.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Copied from `node/src/node.js`.\n *\n * XXX: It's lame that node doesn't expose this API out-of-the-box. It also\n * relies on the undocumented `tty_wrap.guessHandleType()` which is also lame.\n */\n\nfunction createWritableStdioStream (fd) {\n  var stream;\n  var tty_wrap = process.binding('tty_wrap');\n\n  // Note stream._type is used for test-module-load-list.js\n\n  switch (tty_wrap.guessHandleType(fd)) {\n    case 'TTY':\n      stream = new tty.WriteStream(fd);\n      stream._type = 'tty';\n\n      // Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    case 'FILE':\n      var fs = require('fs');\n      stream = new fs.SyncWriteStream(fd, { autoClose: false });\n      stream._type = 'fs';\n      break;\n\n    case 'PIPE':\n    case 'TCP':\n      var net = require('net');\n      stream = new net.Socket({\n        fd: fd,\n        readable: false,\n        writable: true\n      });\n\n      // FIXME Should probably have an option in net.Socket to create a\n      // stream from an existing fd which is writable only. But for now\n      // we'll just add this hack and set the `readable` member to false.\n      // Test: ./node test/fixtures/echo.js < /etc/passwd\n      stream.readable = false;\n      stream.read = null;\n      stream._type = 'pipe';\n\n      // FIXME Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    default:\n      // Probably an error on in uv_guess_handle()\n      throw new Error('Implement me. Unknown stream file type!');\n  }\n\n  // For supporting legacy API we put the FD here.\n  stream.fd = fd;\n\n  stream._isStdio = true;\n\n  return stream;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","'use strict'\n\nconst NullObject = function NullObject () { }\nNullObject.prototype = Object.create(null)\n\n/**\n * RegExp to match *( \";\" parameter ) in RFC 7231 sec 3.1.1.1\n *\n * parameter     = token \"=\" ( token / quoted-string )\n * token         = 1*tchar\n * tchar         = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" / \"*\"\n *               / \"+\" / \"-\" / \".\" / \"^\" / \"_\" / \"`\" / \"|\" / \"~\"\n *               / DIGIT / ALPHA\n *               ; any VCHAR, except delimiters\n * quoted-string = DQUOTE *( qdtext / quoted-pair ) DQUOTE\n * qdtext        = HTAB / SP / %x21 / %x23-5B / %x5D-7E / obs-text\n * obs-text      = %x80-FF\n * quoted-pair   = \"\\\" ( HTAB / SP / VCHAR / obs-text )\n */\nconst paramRE = /; *([!#$%&'*+.^\\w`|~-]+)=(\"(?:[\\v\\u0020\\u0021\\u0023-\\u005b\\u005d-\\u007e\\u0080-\\u00ff]|\\\\[\\v\\u0020-\\u00ff])*\"|[!#$%&'*+.^\\w`|~-]+) */gu\n\n/**\n * RegExp to match quoted-pair in RFC 7230 sec 3.2.6\n *\n * quoted-pair = \"\\\" ( HTAB / SP / VCHAR / obs-text )\n * obs-text    = %x80-FF\n */\nconst quotedPairRE = /\\\\([\\v\\u0020-\\u00ff])/gu\n\n/**\n * RegExp to match type in RFC 7231 sec 3.1.1.1\n *\n * media-type = type \"/\" subtype\n * type       = token\n * subtype    = token\n */\nconst mediaTypeRE = /^[!#$%&'*+.^\\w|~-]+\\/[!#$%&'*+.^\\w|~-]+$/u\n\n// default ContentType to prevent repeated object creation\nconst defaultContentType = { type: '', parameters: new NullObject() }\nObject.freeze(defaultContentType.parameters)\nObject.freeze(defaultContentType)\n\n/**\n * Parse media type to object.\n *\n * @param {string|object} header\n * @return {Object}\n * @public\n */\n\nfunction parse (header) {\n  if (typeof header !== 'string') {\n    throw new TypeError('argument header is required and must be a string')\n  }\n\n  let index = header.indexOf(';')\n  const type = index !== -1\n    ? header.slice(0, index).trim()\n    : header.trim()\n\n  if (mediaTypeRE.test(type) === false) {\n    throw new TypeError('invalid media type')\n  }\n\n  const result = {\n    type: type.toLowerCase(),\n    parameters: new NullObject()\n  }\n\n  // parse parameters\n  if (index === -1) {\n    return result\n  }\n\n  let key\n  let match\n  let value\n\n  paramRE.lastIndex = index\n\n  while ((match = paramRE.exec(header))) {\n    if (match.index !== index) {\n      throw new TypeError('invalid parameter format')\n    }\n\n    index += match[0].length\n    key = match[1].toLowerCase()\n    value = match[2]\n\n    if (value[0] === '\"') {\n      // remove quotes and escapes\n      value = value\n        .slice(1, value.length - 1)\n\n      quotedPairRE.test(value) && (value = value.replace(quotedPairRE, '$1'))\n    }\n\n    result.parameters[key] = value\n  }\n\n  if (index !== header.length) {\n    throw new TypeError('invalid parameter format')\n  }\n\n  return result\n}\n\nfunction safeParse (header) {\n  if (typeof header !== 'string') {\n    return defaultContentType\n  }\n\n  let index = header.indexOf(';')\n  const type = index !== -1\n    ? header.slice(0, index).trim()\n    : header.trim()\n\n  if (mediaTypeRE.test(type) === false) {\n    return defaultContentType\n  }\n\n  const result = {\n    type: type.toLowerCase(),\n    parameters: new NullObject()\n  }\n\n  // parse parameters\n  if (index === -1) {\n    return result\n  }\n\n  let key\n  let match\n  let value\n\n  paramRE.lastIndex = index\n\n  while ((match = paramRE.exec(header))) {\n    if (match.index !== index) {\n      return defaultContentType\n    }\n\n    index += match[0].length\n    key = match[1].toLowerCase()\n    value = match[2]\n\n    if (value[0] === '\"') {\n      // remove quotes and escapes\n      value = value\n        .slice(1, value.length - 1)\n\n      quotedPairRE.test(value) && (value = value.replace(quotedPairRE, '$1'))\n    }\n\n    result.parameters[key] = value\n  }\n\n  if (index !== header.length) {\n    return defaultContentType\n  }\n\n  return result\n}\n\nmodule.exports.default = { parse, safeParse }\nmodule.exports.parse = parse\nmodule.exports.safeParse = safeParse\nmodule.exports.defaultContentType = defaultContentType\n","import { TextFile, TextFileSync } from './TextFile.js';\nexport class DataFile {\n    #adapter;\n    #parse;\n    #stringify;\n    constructor(filename, { parse, stringify, }) {\n        this.#adapter = new TextFile(filename);\n        this.#parse = parse;\n        this.#stringify = stringify;\n    }\n    async read() {\n        const data = await this.#adapter.read();\n        if (data === null) {\n            return null;\n        }\n        else {\n            return this.#parse(data);\n        }\n    }\n    write(obj) {\n        return this.#adapter.write(this.#stringify(obj));\n    }\n}\nexport class DataFileSync {\n    #adapter;\n    #parse;\n    #stringify;\n    constructor(filename, { parse, stringify, }) {\n        this.#adapter = new TextFileSync(filename);\n        this.#parse = parse;\n        this.#stringify = stringify;\n    }\n    read() {\n        const data = this.#adapter.read();\n        if (data === null) {\n            return null;\n        }\n        else {\n            return this.#parse(data);\n        }\n    }\n    write(obj) {\n        this.#adapter.write(this.#stringify(obj));\n    }\n}\n","import { DataFile, DataFileSync } from './DataFile.js';\nexport class JSONFile extends DataFile {\n    constructor(filename) {\n        super(filename, {\n            parse: JSON.parse,\n            stringify: (data) => JSON.stringify(data, null, 2),\n        });\n    }\n}\nexport class JSONFileSync extends DataFileSync {\n    constructor(filename) {\n        super(filename, {\n            parse: JSON.parse,\n            stringify: (data) => JSON.stringify(data, null, 2),\n        });\n    }\n}\n","import { readFileSync, renameSync, writeFileSync } from 'node:fs';\nimport { readFile } from 'node:fs/promises';\nimport path from 'node:path';\nimport { Writer } from 'steno';\nexport class TextFile {\n    #filename;\n    #writer;\n    constructor(filename) {\n        this.#filename = filename;\n        this.#writer = new Writer(filename);\n    }\n    async read() {\n        let data;\n        try {\n            data = await readFile(this.#filename, 'utf-8');\n        }\n        catch (e) {\n            if (e.code === 'ENOENT') {\n                return null;\n            }\n            throw e;\n        }\n        return data;\n    }\n    write(str) {\n        return this.#writer.write(str);\n    }\n}\nexport class TextFileSync {\n    #tempFilename;\n    #filename;\n    constructor(filename) {\n        this.#filename = filename;\n        const f = filename.toString();\n        this.#tempFilename = path.join(path.dirname(f), `.${path.basename(f)}.tmp`);\n    }\n    read() {\n        let data;\n        try {\n            data = readFileSync(this.#filename, 'utf-8');\n        }\n        catch (e) {\n            if (e.code === 'ENOENT') {\n                return null;\n            }\n            throw e;\n        }\n        return data;\n    }\n    write(str) {\n        writeFileSync(this.#tempFilename, str);\n        renameSync(this.#tempFilename, this.#filename);\n    }\n}\n","function checkArgs(adapter, defaultData) {\n    if (adapter === undefined)\n        throw new Error('lowdb: missing adapter');\n    if (defaultData === undefined)\n        throw new Error('lowdb: missing default data');\n}\nexport class Low {\n    adapter;\n    data;\n    constructor(adapter, defaultData) {\n        checkArgs(adapter, defaultData);\n        this.adapter = adapter;\n        this.data = defaultData;\n    }\n    async read() {\n        const data = await this.adapter.read();\n        if (data)\n            this.data = data;\n    }\n    async write() {\n        if (this.data)\n            await this.adapter.write(this.data);\n    }\n    async update(fn) {\n        fn(this.data);\n        await this.write();\n    }\n}\nexport class LowSync {\n    adapter;\n    data;\n    constructor(adapter, defaultData) {\n        checkArgs(adapter, defaultData);\n        this.adapter = adapter;\n        this.data = defaultData;\n    }\n    read() {\n        const data = this.adapter.read();\n        if (data)\n            this.data = data;\n    }\n    write() {\n        if (this.data)\n            this.adapter.write(this.data);\n    }\n    update(fn) {\n        fn(this.data);\n        this.write();\n    }\n}\n","// pkg/dist-src/octokit.js\nimport { Octokit as OctokitCore } from \"@octokit/core\";\nimport { paginateRest } from \"@octokit/plugin-paginate-rest\";\nimport { paginateGraphQL } from \"@octokit/plugin-paginate-graphql\";\nimport { restEndpointMethods } from \"@octokit/plugin-rest-endpoint-methods\";\nimport { retry } from \"@octokit/plugin-retry\";\nimport { throttling } from \"@octokit/plugin-throttling\";\n\n// pkg/dist-src/version.js\nvar VERSION = \"0.0.0-development\";\n\n// pkg/dist-src/octokit.js\nimport { RequestError } from \"@octokit/request-error\";\nvar Octokit = OctokitCore.plugin(\n  restEndpointMethods,\n  paginateRest,\n  paginateGraphQL,\n  retry,\n  throttling\n).defaults({\n  userAgent: `octokit.js/${VERSION}`,\n  throttle: {\n    onRateLimit,\n    onSecondaryRateLimit\n  }\n});\nfunction onRateLimit(retryAfter, options, octokit) {\n  octokit.log.warn(\n    `Request quota exhausted for request ${options.method} ${options.url}`\n  );\n  if (options.request.retryCount === 0) {\n    octokit.log.info(`Retrying after ${retryAfter} seconds!`);\n    return true;\n  }\n}\nfunction onSecondaryRateLimit(retryAfter, options, octokit) {\n  octokit.log.warn(\n    `SecondaryRateLimit detected for request ${options.method} ${options.url}`\n  );\n  if (options.request.retryCount === 0) {\n    octokit.log.info(`Retrying after ${retryAfter} seconds!`);\n    return true;\n  }\n}\n\n// pkg/dist-src/app.js\nimport { App as DefaultApp } from \"@octokit/app\";\nimport { OAuthApp as DefaultOAuthApp } from \"@octokit/oauth-app\";\nimport { createNodeMiddleware } from \"@octokit/app\";\nvar App = DefaultApp.defaults({ Octokit });\nvar OAuthApp = DefaultOAuthApp.defaults({ Octokit });\nexport {\n  App,\n  OAuthApp,\n  Octokit,\n  RequestError,\n  createNodeMiddleware\n};\n","/* @license\nPapa Parse\nv5.5.3\nhttps://github.com/mholt/PapaParse\nLicense: MIT\n*/\n\n(function(root, factory)\n{\n\t/* globals define */\n\tif (typeof define === 'function' && define.amd)\n\t{\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t}\n\telse if (typeof module === 'object' && typeof exports !== 'undefined')\n\t{\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t}\n\telse\n\t{\n\t\t// Browser globals (root is window)\n\t\troot.Papa = factory();\n\t}\n\t// in strict mode we cannot access arguments.callee, so we need a named reference to\n\t// stringify the factory method for the blob worker\n\t// eslint-disable-next-line func-name\n}(this, function moduleFactory()\n{\n\t'use strict';\n\n\tvar global = (function() {\n\t\t// alternative method, similar to `Function('return this')()`\n\t\t// but without using `eval` (which is disabled when\n\t\t// using Content Security Policy).\n\n\t\tif (typeof self !== 'undefined') { return self; }\n\t\tif (typeof window !== 'undefined') { return window; }\n\t\tif (typeof global !== 'undefined') { return global; }\n\n\t\t// When running tests none of the above have been defined\n\t\treturn {};\n\t})();\n\n\n\tfunction getWorkerBlob() {\n\t\tvar URL = global.URL || global.webkitURL || null;\n\t\tvar code = moduleFactory.toString();\n\t\treturn Papa.BLOB_URL || (Papa.BLOB_URL = URL.createObjectURL(new Blob([\"var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; \", '(', code, ')();'], {type: 'text/javascript'})));\n\t}\n\n\tvar IS_WORKER = !global.document && !!global.postMessage,\n\t\tIS_PAPA_WORKER = global.IS_PAPA_WORKER || false;\n\n\tvar workers = {}, workerIdCounter = 0;\n\n\tvar Papa = {};\n\n\tPapa.parse = CsvToJson;\n\tPapa.unparse = JsonToCsv;\n\n\tPapa.RECORD_SEP = String.fromCharCode(30);\n\tPapa.UNIT_SEP = String.fromCharCode(31);\n\tPapa.BYTE_ORDER_MARK = '\\ufeff';\n\tPapa.BAD_DELIMITERS = ['\\r', '\\n', '\"', Papa.BYTE_ORDER_MARK];\n\tPapa.WORKERS_SUPPORTED = !IS_WORKER && !!global.Worker;\n\tPapa.NODE_STREAM_INPUT = 1;\n\n\t// Configurable chunk sizes for local and remote files, respectively\n\tPapa.LocalChunkSize = 1024 * 1024 * 10;\t// 10 MB\n\tPapa.RemoteChunkSize = 1024 * 1024 * 5;\t// 5 MB\n\tPapa.DefaultDelimiter = ',';\t\t\t// Used if not specified and detection fails\n\n\t// Exposed for testing and development only\n\tPapa.Parser = Parser;\n\tPapa.ParserHandle = ParserHandle;\n\tPapa.NetworkStreamer = NetworkStreamer;\n\tPapa.FileStreamer = FileStreamer;\n\tPapa.StringStreamer = StringStreamer;\n\tPapa.ReadableStreamStreamer = ReadableStreamStreamer;\n\tif (typeof PAPA_BROWSER_CONTEXT === 'undefined') {\n\t\tPapa.DuplexStreamStreamer = DuplexStreamStreamer;\n\t}\n\n\tif (global.jQuery)\n\t{\n\t\tvar $ = global.jQuery;\n\t\t$.fn.parse = function(options)\n\t\t{\n\t\t\tvar config = options.config || {};\n\t\t\tvar queue = [];\n\n\t\t\tthis.each(function(idx)\n\t\t\t{\n\t\t\t\tvar supported = $(this).prop('tagName').toUpperCase() === 'INPUT'\n\t\t\t\t\t\t\t\t&& $(this).attr('type').toLowerCase() === 'file'\n\t\t\t\t\t\t\t\t&& global.FileReader;\n\n\t\t\t\tif (!supported || !this.files || this.files.length === 0)\n\t\t\t\t\treturn true;\t// continue to next input element\n\n\t\t\t\tfor (var i = 0; i < this.files.length; i++)\n\t\t\t\t{\n\t\t\t\t\tqueue.push({\n\t\t\t\t\t\tfile: this.files[i],\n\t\t\t\t\t\tinputElem: this,\n\t\t\t\t\t\tinstanceConfig: $.extend({}, config)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tparseNextFile();\t// begin parsing\n\t\t\treturn this;\t\t// maintains chainability\n\n\n\t\t\tfunction parseNextFile()\n\t\t\t{\n\t\t\t\tif (queue.length === 0)\n\t\t\t\t{\n\t\t\t\t\tif (isFunction(options.complete))\n\t\t\t\t\t\toptions.complete();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar f = queue[0];\n\n\t\t\t\tif (isFunction(options.before))\n\t\t\t\t{\n\t\t\t\t\tvar returned = options.before(f.file, f.inputElem);\n\n\t\t\t\t\tif (typeof returned === 'object')\n\t\t\t\t\t{\n\t\t\t\t\t\tif (returned.action === 'abort')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\terror('AbortError', f.file, f.inputElem, returned.reason);\n\t\t\t\t\t\t\treturn;\t// Aborts all queued files immediately\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (returned.action === 'skip')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfileComplete();\t// parse the next file in the queue, if any\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (typeof returned.config === 'object')\n\t\t\t\t\t\t\tf.instanceConfig = $.extend(f.instanceConfig, returned.config);\n\t\t\t\t\t}\n\t\t\t\t\telse if (returned === 'skip')\n\t\t\t\t\t{\n\t\t\t\t\t\tfileComplete();\t// parse the next file in the queue, if any\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Wrap up the user's complete callback, if any, so that ours also gets executed\n\t\t\t\tvar userCompleteFunc = f.instanceConfig.complete;\n\t\t\t\tf.instanceConfig.complete = function(results)\n\t\t\t\t{\n\t\t\t\t\tif (isFunction(userCompleteFunc))\n\t\t\t\t\t\tuserCompleteFunc(results, f.file, f.inputElem);\n\t\t\t\t\tfileComplete();\n\t\t\t\t};\n\n\t\t\t\tPapa.parse(f.file, f.instanceConfig);\n\t\t\t}\n\n\t\t\tfunction error(name, file, elem, reason)\n\t\t\t{\n\t\t\t\tif (isFunction(options.error))\n\t\t\t\t\toptions.error({name: name}, file, elem, reason);\n\t\t\t}\n\n\t\t\tfunction fileComplete()\n\t\t\t{\n\t\t\t\tqueue.splice(0, 1);\n\t\t\t\tparseNextFile();\n\t\t\t}\n\t\t};\n\t}\n\n\n\tif (IS_PAPA_WORKER)\n\t{\n\t\tglobal.onmessage = workerThreadReceivedMessage;\n\t}\n\n\n\n\n\tfunction CsvToJson(_input, _config)\n\t{\n\t\t_config = _config || {};\n\t\tvar dynamicTyping = _config.dynamicTyping || false;\n\t\tif (isFunction(dynamicTyping)) {\n\t\t\t_config.dynamicTypingFunction = dynamicTyping;\n\t\t\t// Will be filled on first row call\n\t\t\tdynamicTyping = {};\n\t\t}\n\t\t_config.dynamicTyping = dynamicTyping;\n\n\t\t_config.transform = isFunction(_config.transform) ? _config.transform : false;\n\n\t\tif (_config.worker && Papa.WORKERS_SUPPORTED)\n\t\t{\n\t\t\tvar w = newWorker();\n\n\t\t\tw.userStep = _config.step;\n\t\t\tw.userChunk = _config.chunk;\n\t\t\tw.userComplete = _config.complete;\n\t\t\tw.userError = _config.error;\n\n\t\t\t_config.step = isFunction(_config.step);\n\t\t\t_config.chunk = isFunction(_config.chunk);\n\t\t\t_config.complete = isFunction(_config.complete);\n\t\t\t_config.error = isFunction(_config.error);\n\t\t\tdelete _config.worker;\t// prevent infinite loop\n\n\t\t\tw.postMessage({\n\t\t\t\tinput: _input,\n\t\t\t\tconfig: _config,\n\t\t\t\tworkerId: w.id\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar streamer = null;\n\t\tif (_input === Papa.NODE_STREAM_INPUT && typeof PAPA_BROWSER_CONTEXT === 'undefined')\n\t\t{\n\t\t\t// create a node Duplex stream for use\n\t\t\t// with .pipe\n\t\t\tstreamer = new DuplexStreamStreamer(_config);\n\t\t\treturn streamer.getStream();\n\t\t}\n\t\telse if (typeof _input === 'string')\n\t\t{\n\t\t\t_input = stripBom(_input);\n\t\t\tif (_config.download)\n\t\t\t\tstreamer = new NetworkStreamer(_config);\n\t\t\telse\n\t\t\t\tstreamer = new StringStreamer(_config);\n\t\t}\n\t\telse if (_input.readable === true && isFunction(_input.read) && isFunction(_input.on))\n\t\t{\n\t\t\tstreamer = new ReadableStreamStreamer(_config);\n\t\t}\n\t\telse if ((global.File && _input instanceof File) || _input instanceof Object)\t// ...Safari. (see issue #106)\n\t\t\tstreamer = new FileStreamer(_config);\n\n\t\treturn streamer.stream(_input);\n\n\t\t// Strip character from UTF-8 BOM encoded files that cause issue parsing the file\n\t\tfunction stripBom(string) {\n\t\t\tif (string.charCodeAt(0) === 0xfeff) {\n\t\t\t\treturn string.slice(1);\n\t\t\t}\n\t\t\treturn string;\n\t\t}\n\t}\n\n\n\n\n\n\n\tfunction JsonToCsv(_input, _config)\n\t{\n\t\t// Default configuration\n\n\t\t/** whether to surround every datum with quotes */\n\t\tvar _quotes = false;\n\n\t\t/** whether to write headers */\n\t\tvar _writeHeader = true;\n\n\t\t/** delimiting character(s) */\n\t\tvar _delimiter = ',';\n\n\t\t/** newline character(s) */\n\t\tvar _newline = '\\r\\n';\n\n\t\t/** quote character */\n\t\tvar _quoteChar = '\"';\n\n\t\t/** escaped quote character, either \"\" or <config.escapeChar>\" */\n\t\tvar _escapedQuote = _quoteChar + _quoteChar;\n\n\t\t/** whether to skip empty lines */\n\t\tvar _skipEmptyLines = false;\n\n\t\t/** the columns (keys) we expect when we unparse objects */\n\t\tvar _columns = null;\n\n\t\t/** whether to prevent outputting cells that can be parsed as formulae by spreadsheet software (Excel and LibreOffice) */\n\t\tvar _escapeFormulae = false;\n\n\t\tunpackConfig();\n\n\t\tvar quoteCharRegex = new RegExp(escapeRegExp(_quoteChar), 'g');\n\n\t\tif (typeof _input === 'string')\n\t\t\t_input = JSON.parse(_input);\n\n\t\tif (Array.isArray(_input))\n\t\t{\n\t\t\tif (!_input.length || Array.isArray(_input[0]))\n\t\t\t\treturn serialize(null, _input, _skipEmptyLines);\n\t\t\telse if (typeof _input[0] === 'object')\n\t\t\t\treturn serialize(_columns || Object.keys(_input[0]), _input, _skipEmptyLines);\n\t\t}\n\t\telse if (typeof _input === 'object')\n\t\t{\n\t\t\tif (typeof _input.data === 'string')\n\t\t\t\t_input.data = JSON.parse(_input.data);\n\n\t\t\tif (Array.isArray(_input.data))\n\t\t\t{\n\t\t\t\tif (!_input.fields)\n\t\t\t\t\t_input.fields = _input.meta && _input.meta.fields || _columns;\n\n\t\t\t\tif (!_input.fields)\n\t\t\t\t\t_input.fields =  Array.isArray(_input.data[0])\n\t\t\t\t\t\t? _input.fields\n\t\t\t\t\t\t: typeof _input.data[0] === 'object'\n\t\t\t\t\t\t\t? Object.keys(_input.data[0])\n\t\t\t\t\t\t\t: [];\n\n\t\t\t\tif (!(Array.isArray(_input.data[0])) && typeof _input.data[0] !== 'object')\n\t\t\t\t\t_input.data = [_input.data];\t// handles input like [1,2,3] or ['asdf']\n\t\t\t}\n\n\t\t\treturn serialize(_input.fields || [], _input.data || [], _skipEmptyLines);\n\t\t}\n\n\t\t// Default (any valid paths should return before this)\n\t\tthrow new Error('Unable to serialize unrecognized input');\n\n\n\t\tfunction unpackConfig()\n\t\t{\n\t\t\tif (typeof _config !== 'object')\n\t\t\t\treturn;\n\n\t\t\tif (typeof _config.delimiter === 'string'\n                && !Papa.BAD_DELIMITERS.filter(function(value) { return _config.delimiter.indexOf(value) !== -1; }).length)\n\t\t\t{\n\t\t\t\t_delimiter = _config.delimiter;\n\t\t\t}\n\n\t\t\tif (typeof _config.quotes === 'boolean'\n\t\t\t\t|| typeof _config.quotes === 'function'\n\t\t\t\t|| Array.isArray(_config.quotes))\n\t\t\t\t_quotes = _config.quotes;\n\n\t\t\tif (typeof _config.skipEmptyLines === 'boolean'\n\t\t\t\t|| typeof _config.skipEmptyLines === 'string')\n\t\t\t\t_skipEmptyLines = _config.skipEmptyLines;\n\n\t\t\tif (typeof _config.newline === 'string')\n\t\t\t\t_newline = _config.newline;\n\n\t\t\tif (typeof _config.quoteChar === 'string')\n\t\t\t\t_quoteChar = _config.quoteChar;\n\n\t\t\tif (typeof _config.header === 'boolean')\n\t\t\t\t_writeHeader = _config.header;\n\n\t\t\tif (Array.isArray(_config.columns)) {\n\n\t\t\t\tif (_config.columns.length === 0) throw new Error('Option columns is empty');\n\n\t\t\t\t_columns = _config.columns;\n\t\t\t}\n\n\t\t\tif (_config.escapeChar !== undefined) {\n\t\t\t\t_escapedQuote = _config.escapeChar + _quoteChar;\n\t\t\t}\n\n\t\t\tif (_config.escapeFormulae instanceof RegExp) {\n\t\t\t\t_escapeFormulae = _config.escapeFormulae;\n\t\t\t} else if (typeof _config.escapeFormulae === 'boolean' && _config.escapeFormulae) {\n\t\t\t\t_escapeFormulae =  /^[=+\\-@\\t\\r].*$/;\n\t\t\t}\n\t\t}\n\n\t\t/** The double for loop that iterates the data and writes out a CSV string including header row */\n\t\tfunction serialize(fields, data, skipEmptyLines)\n\t\t{\n\t\t\tvar csv = '';\n\n\t\t\tif (typeof fields === 'string')\n\t\t\t\tfields = JSON.parse(fields);\n\t\t\tif (typeof data === 'string')\n\t\t\t\tdata = JSON.parse(data);\n\n\t\t\tvar hasHeader = Array.isArray(fields) && fields.length > 0;\n\t\t\tvar dataKeyedByField = !(Array.isArray(data[0]));\n\n\t\t\t// If there a header row, write it first\n\t\t\tif (hasHeader && _writeHeader)\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < fields.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (i > 0)\n\t\t\t\t\t\tcsv += _delimiter;\n\t\t\t\t\tcsv += safe(fields[i], i);\n\t\t\t\t}\n\t\t\t\tif (data.length > 0)\n\t\t\t\t\tcsv += _newline;\n\t\t\t}\n\n\t\t\t// Then write out the data\n\t\t\tfor (var row = 0; row < data.length; row++)\n\t\t\t{\n\t\t\t\tvar maxCol = hasHeader ? fields.length : data[row].length;\n\n\t\t\t\tvar emptyLine = false;\n\t\t\t\tvar nullLine = hasHeader ? Object.keys(data[row]).length === 0 : data[row].length === 0;\n\t\t\t\tif (skipEmptyLines && !hasHeader)\n\t\t\t\t{\n\t\t\t\t\temptyLine = skipEmptyLines === 'greedy' ? data[row].join('').trim() === '' : data[row].length === 1 && data[row][0].length === 0;\n\t\t\t\t}\n\t\t\t\tif (skipEmptyLines === 'greedy' && hasHeader) {\n\t\t\t\t\tvar line = [];\n\t\t\t\t\tfor (var c = 0; c < maxCol; c++) {\n\t\t\t\t\t\tvar cx = dataKeyedByField ? fields[c] : c;\n\t\t\t\t\t\tline.push(data[row][cx]);\n\t\t\t\t\t}\n\t\t\t\t\temptyLine = line.join('').trim() === '';\n\t\t\t\t}\n\t\t\t\tif (!emptyLine)\n\t\t\t\t{\n\t\t\t\t\tfor (var col = 0; col < maxCol; col++)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (col > 0 && !nullLine)\n\t\t\t\t\t\t\tcsv += _delimiter;\n\t\t\t\t\t\tvar colIdx = hasHeader && dataKeyedByField ? fields[col] : col;\n\t\t\t\t\t\tcsv += safe(data[row][colIdx], col);\n\t\t\t\t\t}\n\t\t\t\t\tif (row < data.length - 1 && (!skipEmptyLines || (maxCol > 0 && !nullLine)))\n\t\t\t\t\t{\n\t\t\t\t\t\tcsv += _newline;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn csv;\n\t\t}\n\n\t\t/** Encloses a value around quotes if needed (makes a value safe for CSV insertion) */\n\t\tfunction safe(str, col)\n\t\t{\n\t\t\tif (typeof str === 'undefined' || str === null)\n\t\t\t\treturn '';\n\n\t\t\tif (str.constructor === Date)\n\t\t\t\treturn JSON.stringify(str).slice(1, 25);\n\n\t\t\tvar needsQuotes = false;\n\n\t\t\tif (_escapeFormulae && typeof str === \"string\" && _escapeFormulae.test(str)) {\n\t\t\t\tstr = \"'\" + str;\n\t\t\t\tneedsQuotes = true;\n\t\t\t}\n\n\t\t\tvar escapedQuoteStr = str.toString().replace(quoteCharRegex, _escapedQuote);\n\n\t\t\tneedsQuotes = needsQuotes\n\t\t\t\t\t\t\t|| _quotes === true\n\t\t\t\t\t\t\t|| (typeof _quotes === 'function' && _quotes(str, col))\n\t\t\t\t\t\t\t|| (Array.isArray(_quotes) && _quotes[col])\n\t\t\t\t\t\t\t|| hasAny(escapedQuoteStr, Papa.BAD_DELIMITERS)\n\t\t\t\t\t\t\t|| escapedQuoteStr.indexOf(_delimiter) > -1\n\t\t\t\t\t\t\t|| escapedQuoteStr.charAt(0) === ' '\n\t\t\t\t\t\t\t|| escapedQuoteStr.charAt(escapedQuoteStr.length - 1) === ' ';\n\n\t\t\treturn needsQuotes ? _quoteChar + escapedQuoteStr + _quoteChar : escapedQuoteStr;\n\t\t}\n\n\t\tfunction hasAny(str, substrings)\n\t\t{\n\t\t\tfor (var i = 0; i < substrings.length; i++)\n\t\t\t\tif (str.indexOf(substrings[i]) > -1)\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t}\n\n\n\t/** ChunkStreamer is the base prototype for various streamer implementations. */\n\tfunction ChunkStreamer(config)\n\t{\n\t\tthis._handle = null;\n\t\tthis._finished = false;\n\t\tthis._completed = false;\n\t\tthis._halted = false;\n\t\tthis._input = null;\n\t\tthis._baseIndex = 0;\n\t\tthis._partialLine = '';\n\t\tthis._rowCount = 0;\n\t\tthis._start = 0;\n\t\tthis._nextChunk = null;\n\t\tthis.isFirstChunk = true;\n\t\tthis._completeResults = {\n\t\t\tdata: [],\n\t\t\terrors: [],\n\t\t\tmeta: {}\n\t\t};\n\t\treplaceConfig.call(this, config);\n\n\t\tthis.parseChunk = function(chunk, isFakeChunk)\n\t\t{\n\t\t\t// First chunk pre-processing\n\t\t\tconst skipFirstNLines = parseInt(this._config.skipFirstNLines) || 0;\n\t\t\tif (this.isFirstChunk && skipFirstNLines > 0) {\n\t\t\t\tlet _newline = this._config.newline;\n\t\t\t\tif (!_newline) {\n\t\t\t\t\tconst quoteChar = this._config.quoteChar || '\"';\n\t\t\t\t\t_newline = this._handle.guessLineEndings(chunk, quoteChar);\n\t\t\t\t}\n\t\t\t\tconst splitChunk = chunk.split(_newline);\n\t\t\t\tchunk = [...splitChunk.slice(skipFirstNLines)].join(_newline);\n\t\t\t}\n\t\t\tif (this.isFirstChunk && isFunction(this._config.beforeFirstChunk))\n\t\t\t{\n\t\t\t\tvar modifiedChunk = this._config.beforeFirstChunk(chunk);\n\t\t\t\tif (modifiedChunk !== undefined)\n\t\t\t\t\tchunk = modifiedChunk;\n\t\t\t}\n\t\t\tthis.isFirstChunk = false;\n\t\t\tthis._halted = false;\n\n\t\t\t// Rejoin the line we likely just split in two by chunking the file\n\t\t\tvar aggregate = this._partialLine + chunk;\n\t\t\tthis._partialLine = '';\n\t\t\tvar results = this._handle.parse(aggregate, this._baseIndex, !this._finished);\n\n\t\t\tif (this._handle.paused() || this._handle.aborted()) {\n\t\t\t\tthis._halted = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar lastIndex = results.meta.cursor;\n\n\t\t\tif (!this._finished)\n\t\t\t{\n\t\t\t\tthis._partialLine = aggregate.substring(lastIndex - this._baseIndex);\n\t\t\t\tthis._baseIndex = lastIndex;\n\t\t\t}\n\n\t\t\tif (results && results.data)\n\t\t\t\tthis._rowCount += results.data.length;\n\n\t\t\tvar finishedIncludingPreview = this._finished || (this._config.preview && this._rowCount >= this._config.preview);\n\n\t\t\tif (IS_PAPA_WORKER)\n\t\t\t{\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tresults: results,\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\tfinished: finishedIncludingPreview\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (isFunction(this._config.chunk) && !isFakeChunk)\n\t\t\t{\n\t\t\t\tthis._config.chunk(results, this._handle);\n\t\t\t\tif (this._handle.paused() || this._handle.aborted()) {\n\t\t\t\t\tthis._halted = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tresults = undefined;\n\t\t\t\tthis._completeResults = undefined;\n\t\t\t}\n\n\t\t\tif (!this._config.step && !this._config.chunk) {\n\t\t\t\tthis._completeResults.data = this._completeResults.data.concat(results.data);\n\t\t\t\tthis._completeResults.errors = this._completeResults.errors.concat(results.errors);\n\t\t\t\tthis._completeResults.meta = results.meta;\n\t\t\t}\n\n\t\t\tif (!this._completed && finishedIncludingPreview && isFunction(this._config.complete) && (!results || !results.meta.aborted)) {\n\t\t\t\tthis._config.complete(this._completeResults, this._input);\n\t\t\t\tthis._completed = true;\n\t\t\t}\n\n\t\t\tif (!finishedIncludingPreview && (!results || !results.meta.paused))\n\t\t\t\tthis._nextChunk();\n\n\t\t\treturn results;\n\t\t};\n\n\t\tthis._sendError = function(error)\n\t\t{\n\t\t\tif (isFunction(this._config.error))\n\t\t\t\tthis._config.error(error);\n\t\t\telse if (IS_PAPA_WORKER && this._config.error)\n\t\t\t{\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\terror: error,\n\t\t\t\t\tfinished: false\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tfunction replaceConfig(config)\n\t\t{\n\t\t\t// Deep-copy the config so we can edit it\n\t\t\tvar configCopy = copy(config);\n\t\t\tconfigCopy.chunkSize = parseInt(configCopy.chunkSize);\t// parseInt VERY important so we don't concatenate strings!\n\t\t\tif (!config.step && !config.chunk)\n\t\t\t\tconfigCopy.chunkSize = null;  // disable Range header if not streaming; bad values break IIS - see issue #196\n\t\t\tthis._handle = new ParserHandle(configCopy);\n\t\t\tthis._handle.streamer = this;\n\t\t\tthis._config = configCopy;\t// persist the copy to the caller\n\t\t}\n\t}\n\n\n\tfunction NetworkStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tif (!config.chunkSize)\n\t\t\tconfig.chunkSize = Papa.RemoteChunkSize;\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar xhr;\n\n\t\tif (IS_WORKER)\n\t\t{\n\t\t\tthis._nextChunk = function()\n\t\t\t{\n\t\t\t\tthis._readChunk();\n\t\t\t\tthis._chunkLoaded();\n\t\t\t};\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis._nextChunk = function()\n\t\t\t{\n\t\t\t\tthis._readChunk();\n\t\t\t};\n\t\t}\n\n\t\tthis.stream = function(url)\n\t\t{\n\t\t\tthis._input = url;\n\t\t\tthis._nextChunk();\t// Starts streaming\n\t\t};\n\n\t\tthis._readChunk = function()\n\t\t{\n\t\t\tif (this._finished)\n\t\t\t{\n\t\t\t\tthis._chunkLoaded();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\txhr = new XMLHttpRequest();\n\n\t\t\tif (this._config.withCredentials)\n\t\t\t{\n\t\t\t\txhr.withCredentials = this._config.withCredentials;\n\t\t\t}\n\n\t\t\tif (!IS_WORKER)\n\t\t\t{\n\t\t\t\txhr.onload = bindFunction(this._chunkLoaded, this);\n\t\t\t\txhr.onerror = bindFunction(this._chunkError, this);\n\t\t\t}\n\n\t\t\txhr.open(this._config.downloadRequestBody ? 'POST' : 'GET', this._input, !IS_WORKER);\n\t\t\t// Headers can only be set when once the request state is OPENED\n\t\t\tif (this._config.downloadRequestHeaders)\n\t\t\t{\n\t\t\t\tvar headers = this._config.downloadRequestHeaders;\n\n\t\t\t\tfor (var headerName in headers)\n\t\t\t\t{\n\t\t\t\t\txhr.setRequestHeader(headerName, headers[headerName]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this._config.chunkSize)\n\t\t\t{\n\t\t\t\tvar end = this._start + this._config.chunkSize - 1;\t// minus one because byte range is inclusive\n\t\t\t\txhr.setRequestHeader('Range', 'bytes=' + this._start + '-' + end);\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\txhr.send(this._config.downloadRequestBody);\n\t\t\t}\n\t\t\tcatch (err) {\n\t\t\t\tthis._chunkError(err.message);\n\t\t\t}\n\n\t\t\tif (IS_WORKER && xhr.status === 0)\n\t\t\t\tthis._chunkError();\n\t\t};\n\n\t\tthis._chunkLoaded = function()\n\t\t{\n\t\t\tif (xhr.readyState !== 4)\n\t\t\t\treturn;\n\n\t\t\tif (xhr.status < 200 || xhr.status >= 400)\n\t\t\t{\n\t\t\t\tthis._chunkError();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Use chunckSize as it may be a diference on reponse lentgh due to characters with more than 1 byte\n\t\t\tthis._start += this._config.chunkSize ? this._config.chunkSize : xhr.responseText.length;\n\t\t\tthis._finished = !this._config.chunkSize || this._start >= getFileSize(xhr);\n\t\t\tthis.parseChunk(xhr.responseText);\n\t\t};\n\n\t\tthis._chunkError = function(errorMessage)\n\t\t{\n\t\t\tvar errorText = xhr.statusText || errorMessage;\n\t\t\tthis._sendError(new Error(errorText));\n\t\t};\n\n\t\tfunction getFileSize(xhr)\n\t\t{\n\t\t\tvar contentRange = xhr.getResponseHeader('Content-Range');\n\t\t\tif (contentRange === null) { // no content range, then finish!\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn parseInt(contentRange.substring(contentRange.lastIndexOf('/') + 1));\n\t\t}\n\t}\n\tNetworkStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tNetworkStreamer.prototype.constructor = NetworkStreamer;\n\n\n\tfunction FileStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tif (!config.chunkSize)\n\t\t\tconfig.chunkSize = Papa.LocalChunkSize;\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar reader, slice;\n\n\t\t// FileReader is better than FileReaderSync (even in worker) - see http://stackoverflow.com/q/24708649/1048862\n\t\t// But Firefox is a pill, too - see issue #76: https://github.com/mholt/PapaParse/issues/76\n\t\tvar usingAsyncReader = typeof FileReader !== 'undefined';\t// Safari doesn't consider it a function - see issue #105\n\n\t\tthis.stream = function(file)\n\t\t{\n\t\t\tthis._input = file;\n\t\t\tslice = file.slice || file.webkitSlice || file.mozSlice;\n\n\t\t\tif (usingAsyncReader)\n\t\t\t{\n\t\t\t\treader = new FileReader();\t\t// Preferred method of reading files, even in workers\n\t\t\t\treader.onload = bindFunction(this._chunkLoaded, this);\n\t\t\t\treader.onerror = bindFunction(this._chunkError, this);\n\t\t\t}\n\t\t\telse\n\t\t\t\treader = new FileReaderSync();\t// Hack for running in a web worker in Firefox\n\n\t\t\tthis._nextChunk();\t// Starts streaming\n\t\t};\n\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (!this._finished && (!this._config.preview || this._rowCount < this._config.preview))\n\t\t\t\tthis._readChunk();\n\t\t};\n\n\t\tthis._readChunk = function()\n\t\t{\n\t\t\tvar input = this._input;\n\t\t\tif (this._config.chunkSize)\n\t\t\t{\n\t\t\t\tvar end = Math.min(this._start + this._config.chunkSize, this._input.size);\n\t\t\t\tinput = slice.call(input, this._start, end);\n\t\t\t}\n\t\t\tvar txt = reader.readAsText(input, this._config.encoding);\n\t\t\tif (!usingAsyncReader)\n\t\t\t\tthis._chunkLoaded({ target: { result: txt } });\t// mimic the async signature\n\t\t};\n\n\t\tthis._chunkLoaded = function(event)\n\t\t{\n\t\t\t// Very important to increment start each time before handling results\n\t\t\tthis._start += this._config.chunkSize;\n\t\t\tthis._finished = !this._config.chunkSize || this._start >= this._input.size;\n\t\t\tthis.parseChunk(event.target.result);\n\t\t};\n\n\t\tthis._chunkError = function()\n\t\t{\n\t\t\tthis._sendError(reader.error);\n\t\t};\n\n\t}\n\tFileStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tFileStreamer.prototype.constructor = FileStreamer;\n\n\n\tfunction StringStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar remaining;\n\t\tthis.stream = function(s)\n\t\t{\n\t\t\tremaining = s;\n\t\t\treturn this._nextChunk();\n\t\t};\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (this._finished) return;\n\t\t\tvar size = this._config.chunkSize;\n\t\t\tvar chunk;\n\t\t\tif(size) {\n\t\t\t\tchunk = remaining.substring(0, size);\n\t\t\t\tremaining = remaining.substring(size);\n\t\t\t} else {\n\t\t\t\tchunk = remaining;\n\t\t\t\tremaining = '';\n\t\t\t}\n\t\t\tthis._finished = !remaining;\n\t\t\treturn this.parseChunk(chunk);\n\t\t};\n\t}\n\tStringStreamer.prototype = Object.create(StringStreamer.prototype);\n\tStringStreamer.prototype.constructor = StringStreamer;\n\n\n\tfunction ReadableStreamStreamer(config)\n\t{\n\t\tconfig = config || {};\n\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar queue = [];\n\t\tvar parseOnData = true;\n\t\tvar streamHasEnded = false;\n\n\t\tthis.pause = function()\n\t\t{\n\t\t\tChunkStreamer.prototype.pause.apply(this, arguments);\n\t\t\tthis._input.pause();\n\t\t};\n\n\t\tthis.resume = function()\n\t\t{\n\t\t\tChunkStreamer.prototype.resume.apply(this, arguments);\n\t\t\tthis._input.resume();\n\t\t};\n\n\t\tthis.stream = function(stream)\n\t\t{\n\t\t\tthis._input = stream;\n\n\t\t\tthis._input.on('data', this._streamData);\n\t\t\tthis._input.on('end', this._streamEnd);\n\t\t\tthis._input.on('error', this._streamError);\n\t\t};\n\n\t\tthis._checkIsFinished = function()\n\t\t{\n\t\t\tif (streamHasEnded && queue.length === 1) {\n\t\t\t\tthis._finished = true;\n\t\t\t}\n\t\t};\n\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tthis._checkIsFinished();\n\t\t\tif (queue.length)\n\t\t\t{\n\t\t\t\tthis.parseChunk(queue.shift());\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tparseOnData = true;\n\t\t\t}\n\t\t};\n\n\t\tthis._streamData = bindFunction(function(chunk)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tqueue.push(typeof chunk === 'string' ? chunk : chunk.toString(this._config.encoding));\n\n\t\t\t\tif (parseOnData)\n\t\t\t\t{\n\t\t\t\t\tparseOnData = false;\n\t\t\t\t\tthis._checkIsFinished();\n\t\t\t\t\tthis.parseChunk(queue.shift());\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (error)\n\t\t\t{\n\t\t\t\tthis._streamError(error);\n\t\t\t}\n\t\t}, this);\n\n\t\tthis._streamError = bindFunction(function(error)\n\t\t{\n\t\t\tthis._streamCleanUp();\n\t\t\tthis._sendError(error);\n\t\t}, this);\n\n\t\tthis._streamEnd = bindFunction(function()\n\t\t{\n\t\t\tthis._streamCleanUp();\n\t\t\tstreamHasEnded = true;\n\t\t\tthis._streamData('');\n\t\t}, this);\n\n\t\tthis._streamCleanUp = bindFunction(function()\n\t\t{\n\t\t\tthis._input.removeListener('data', this._streamData);\n\t\t\tthis._input.removeListener('end', this._streamEnd);\n\t\t\tthis._input.removeListener('error', this._streamError);\n\t\t}, this);\n\t}\n\tReadableStreamStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tReadableStreamStreamer.prototype.constructor = ReadableStreamStreamer;\n\n\n\tfunction DuplexStreamStreamer(_config) {\n\t\tvar Duplex = require('stream').Duplex;\n\t\tvar config = copy(_config);\n\t\tvar parseOnWrite = true;\n\t\tvar writeStreamHasFinished = false;\n\t\tvar parseCallbackQueue = [];\n\t\tvar stream = null;\n\n\t\tthis._onCsvData = function(results)\n\t\t{\n\t\t\tvar data = results.data;\n\t\t\tif (!stream.push(data) && !this._handle.paused()) {\n\t\t\t\t// the writeable consumer buffer has filled up\n\t\t\t\t// so we need to pause until more items\n\t\t\t\t// can be processed\n\t\t\t\tthis._handle.pause();\n\t\t\t}\n\t\t};\n\n\t\tthis._onCsvComplete = function()\n\t\t{\n\t\t\t// node will finish the read stream when\n\t\t\t// null is pushed\n\t\t\tstream.push(null);\n\t\t};\n\n\t\tconfig.step = bindFunction(this._onCsvData, this);\n\t\tconfig.complete = bindFunction(this._onCsvComplete, this);\n\t\tChunkStreamer.call(this, config);\n\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (writeStreamHasFinished && parseCallbackQueue.length === 1) {\n\t\t\t\tthis._finished = true;\n\t\t\t}\n\t\t\tif (parseCallbackQueue.length) {\n\t\t\t\tparseCallbackQueue.shift()();\n\t\t\t} else {\n\t\t\t\tparseOnWrite = true;\n\t\t\t}\n\t\t};\n\n\t\tthis._addToParseQueue = function(chunk, callback)\n\t\t{\n\t\t\t// add to queue so that we can indicate\n\t\t\t// completion via callback\n\t\t\t// node will automatically pause the incoming stream\n\t\t\t// when too many items have been added without their\n\t\t\t// callback being invoked\n\t\t\tparseCallbackQueue.push(bindFunction(function() {\n\t\t\t\tthis.parseChunk(typeof chunk === 'string' ? chunk : chunk.toString(config.encoding));\n\t\t\t\tif (isFunction(callback)) {\n\t\t\t\t\treturn callback();\n\t\t\t\t}\n\t\t\t}, this));\n\t\t\tif (parseOnWrite) {\n\t\t\t\tparseOnWrite = false;\n\t\t\t\tthis._nextChunk();\n\t\t\t}\n\t\t};\n\n\t\tthis._onRead = function()\n\t\t{\n\t\t\tif (this._handle.paused()) {\n\t\t\t\t// the writeable consumer can handle more data\n\t\t\t\t// so resume the chunk parsing\n\t\t\t\tthis._handle.resume();\n\t\t\t}\n\t\t};\n\n\t\tthis._onWrite = function(chunk, encoding, callback)\n\t\t{\n\t\t\tthis._addToParseQueue(chunk, callback);\n\t\t};\n\n\t\tthis._onWriteComplete = function()\n\t\t{\n\t\t\twriteStreamHasFinished = true;\n\t\t\t// have to write empty string\n\t\t\t// so parser knows its done\n\t\t\tthis._addToParseQueue('');\n\t\t};\n\n\t\tthis.getStream = function()\n\t\t{\n\t\t\treturn stream;\n\t\t};\n\t\tstream = new Duplex({\n\t\t\treadableObjectMode: true,\n\t\t\tdecodeStrings: false,\n\t\t\tread: bindFunction(this._onRead, this),\n\t\t\twrite: bindFunction(this._onWrite, this)\n\t\t});\n\t\tstream.once('finish', bindFunction(this._onWriteComplete, this));\n\t}\n\tif (typeof PAPA_BROWSER_CONTEXT === 'undefined') {\n\t\tDuplexStreamStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\t\tDuplexStreamStreamer.prototype.constructor = DuplexStreamStreamer;\n\t}\n\n\n\t// Use one ParserHandle per entire CSV file or string\n\tfunction ParserHandle(_config)\n\t{\n\t\t// One goal is to minimize the use of regular expressions...\n\t\tvar MAX_FLOAT = Math.pow(2, 53);\n\t\tvar MIN_FLOAT = -MAX_FLOAT;\n\t\tvar FLOAT = /^\\s*-?(\\d+\\.?|\\.\\d+|\\d+\\.\\d+)([eE][-+]?\\d+)?\\s*$/;\n\t\tvar ISO_DATE = /^((\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z)))$/;\n\t\tvar self = this;\n\t\tvar _stepCounter = 0;\t// Number of times step was called (number of rows parsed)\n\t\tvar _rowCounter = 0;\t// Number of rows that have been parsed so far\n\t\tvar _input;\t\t\t\t// The input being parsed\n\t\tvar _parser;\t\t\t// The core parser being used\n\t\tvar _paused = false;\t// Whether we are paused or not\n\t\tvar _aborted = false;\t// Whether the parser has aborted or not\n\t\tvar _delimiterError;\t// Temporary state between delimiter detection and processing results\n\t\tvar _fields = [];\t\t// Fields are from the header row of the input, if there is one\n\t\tvar _results = {\t\t// The last results returned from the parser\n\t\t\tdata: [],\n\t\t\terrors: [],\n\t\t\tmeta: {}\n\t\t};\n\n\t\tif (isFunction(_config.step))\n\t\t{\n\t\t\tvar userStep = _config.step;\n\t\t\t_config.step = function(results)\n\t\t\t{\n\t\t\t\t_results = results;\n\n\t\t\t\tif (needsHeaderRow())\n\t\t\t\t\tprocessResults();\n\t\t\t\telse\t// only call user's step function after header row\n\t\t\t\t{\n\t\t\t\t\tprocessResults();\n\n\t\t\t\t\t// It's possbile that this line was empty and there's no row here after all\n\t\t\t\t\tif (_results.data.length === 0)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t_stepCounter += results.data.length;\n\t\t\t\t\tif (_config.preview && _stepCounter > _config.preview)\n\t\t\t\t\t\t_parser.abort();\n\t\t\t\t\telse {\n\t\t\t\t\t\t_results.data = _results.data[0];\n\t\t\t\t\t\tuserStep(_results, self);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Parses input. Most users won't need, and shouldn't mess with, the baseIndex\n\t\t * and ignoreLastRow parameters. They are used by streamers (wrapper functions)\n\t\t * when an input comes in multiple chunks, like from a file.\n\t\t */\n\t\tthis.parse = function(input, baseIndex, ignoreLastRow)\n\t\t{\n\t\t\tvar quoteChar = _config.quoteChar || '\"';\n\t\t\tif (!_config.newline)\n\t\t\t\t_config.newline = this.guessLineEndings(input, quoteChar);\n\n\t\t\t_delimiterError = false;\n\t\t\tif (!_config.delimiter)\n\t\t\t{\n\t\t\t\tvar delimGuess = guessDelimiter(input, _config.newline, _config.skipEmptyLines, _config.comments, _config.delimitersToGuess);\n\t\t\t\tif (delimGuess.successful)\n\t\t\t\t\t_config.delimiter = delimGuess.bestDelimiter;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t_delimiterError = true;\t// add error after parsing (otherwise it would be overwritten)\n\t\t\t\t\t_config.delimiter = Papa.DefaultDelimiter;\n\t\t\t\t}\n\t\t\t\t_results.meta.delimiter = _config.delimiter;\n\t\t\t}\n\t\t\telse if(isFunction(_config.delimiter))\n\t\t\t{\n\t\t\t\t_config.delimiter = _config.delimiter(input);\n\t\t\t\t_results.meta.delimiter = _config.delimiter;\n\t\t\t}\n\n\t\t\tvar parserConfig = copy(_config);\n\t\t\tif (_config.preview && _config.header)\n\t\t\t\tparserConfig.preview++;\t// to compensate for header row\n\n\t\t\t_input = input;\n\t\t\t_parser = new Parser(parserConfig);\n\t\t\t_results = _parser.parse(_input, baseIndex, ignoreLastRow);\n\t\t\tprocessResults();\n\t\t\treturn _paused ? { meta: { paused: true } } : (_results || { meta: { paused: false } });\n\t\t};\n\n\t\tthis.paused = function()\n\t\t{\n\t\t\treturn _paused;\n\t\t};\n\n\t\tthis.pause = function()\n\t\t{\n\t\t\t_paused = true;\n\t\t\t_parser.abort();\n\n\t\t\t// If it is streaming via \"chunking\", the reader will start appending correctly already so no need to substring,\n\t\t\t// otherwise we can get duplicate content within a row\n\t\t\t_input = isFunction(_config.chunk) ? \"\" : _input.substring(_parser.getCharIndex());\n\t\t};\n\n\t\tthis.resume = function()\n\t\t{\n\t\t\tif(self.streamer._halted) {\n\t\t\t\t_paused = false;\n\t\t\t\tself.streamer.parseChunk(_input, true);\n\t\t\t} else {\n\t\t\t\t// Bugfix: #636 In case the processing hasn't halted yet\n\t\t\t\t// wait for it to halt in order to resume\n\t\t\t\tsetTimeout(self.resume, 3);\n\t\t\t}\n\t\t};\n\n\t\tthis.aborted = function()\n\t\t{\n\t\t\treturn _aborted;\n\t\t};\n\n\t\tthis.abort = function()\n\t\t{\n\t\t\t_aborted = true;\n\t\t\t_parser.abort();\n\t\t\t_results.meta.aborted = true;\n\t\t\tif (isFunction(_config.complete))\n\t\t\t\t_config.complete(_results);\n\t\t\t_input = '';\n\t\t};\n\n\t\tthis.guessLineEndings = function(input, quoteChar)\n\t\t{\n\t\t\tinput = input.substring(0, 1024 * 1024);\t// max length 1 MB\n\t\t\t// Replace all the text inside quotes\n\t\t\tvar re = new RegExp(escapeRegExp(quoteChar) + '([^]*?)' + escapeRegExp(quoteChar), 'gm');\n\t\t\tinput = input.replace(re, '');\n\n\t\t\tvar r = input.split('\\r');\n\n\t\t\tvar n = input.split('\\n');\n\n\t\t\tvar nAppearsFirst = (n.length > 1 && n[0].length < r[0].length);\n\n\t\t\tif (r.length === 1 || nAppearsFirst)\n\t\t\t\treturn '\\n';\n\n\t\t\tvar numWithN = 0;\n\t\t\tfor (var i = 0; i < r.length; i++)\n\t\t\t{\n\t\t\t\tif (r[i][0] === '\\n')\n\t\t\t\t\tnumWithN++;\n\t\t\t}\n\n\t\t\treturn numWithN >= r.length / 2 ? '\\r\\n' : '\\r';\n\t\t};\n\n\t\tfunction testEmptyLine(s) {\n\t\t\treturn _config.skipEmptyLines === 'greedy' ? s.join('').trim() === '' : s.length === 1 && s[0].length === 0;\n\t\t}\n\n\t\tfunction testFloat(s) {\n\t\t\tif (FLOAT.test(s)) {\n\t\t\t\tvar floatValue = parseFloat(s);\n\t\t\t\tif (floatValue > MIN_FLOAT && floatValue < MAX_FLOAT) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction processResults()\n\t\t{\n\t\t\tif (_results && _delimiterError)\n\t\t\t{\n\t\t\t\taddError('Delimiter', 'UndetectableDelimiter', 'Unable to auto-detect delimiting character; defaulted to \\'' + Papa.DefaultDelimiter + '\\'');\n\t\t\t\t_delimiterError = false;\n\t\t\t}\n\n\t\t\tif (_config.skipEmptyLines)\n\t\t\t{\n\t\t\t\t_results.data = _results.data.filter(function(d) {\n\t\t\t\t\treturn !testEmptyLine(d);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (needsHeaderRow())\n\t\t\t\tfillHeaderFields();\n\n\t\t\treturn applyHeaderAndDynamicTypingAndTransformation();\n\t\t}\n\n\t\tfunction needsHeaderRow()\n\t\t{\n\t\t\treturn _config.header && _fields.length === 0;\n\t\t}\n\n\t\tfunction fillHeaderFields()\n\t\t{\n\t\t\tif (!_results)\n\t\t\t\treturn;\n\n\t\t\tfunction addHeader(header, i)\n\t\t\t{\n\t\t\t\tif (isFunction(_config.transformHeader))\n\t\t\t\t\theader = _config.transformHeader(header, i);\n\n\t\t\t\t_fields.push(header);\n\t\t\t}\n\n\t\t\tif (Array.isArray(_results.data[0]))\n\t\t\t{\n\t\t\t\tfor (var i = 0; needsHeaderRow() && i < _results.data.length; i++)\n\t\t\t\t\t_results.data[i].forEach(addHeader);\n\n\t\t\t\t_results.data.splice(0, 1);\n\t\t\t}\n\t\t\t// if _results.data[0] is not an array, we are in a step where _results.data is the row.\n\t\t\telse\n\t\t\t\t_results.data.forEach(addHeader);\n\t\t}\n\n\t\tfunction shouldApplyDynamicTyping(field) {\n\t\t\t// Cache function values to avoid calling it for each row\n\t\t\tif (_config.dynamicTypingFunction && _config.dynamicTyping[field] === undefined) {\n\t\t\t\t_config.dynamicTyping[field] = _config.dynamicTypingFunction(field);\n\t\t\t}\n\t\t\treturn (_config.dynamicTyping[field] || _config.dynamicTyping) === true;\n\t\t}\n\n\t\tfunction parseDynamic(field, value)\n\t\t{\n\t\t\tif (shouldApplyDynamicTyping(field))\n\t\t\t{\n\t\t\t\tif (value === 'true' || value === 'TRUE')\n\t\t\t\t\treturn true;\n\t\t\t\telse if (value === 'false' || value === 'FALSE')\n\t\t\t\t\treturn false;\n\t\t\t\telse if (testFloat(value))\n\t\t\t\t\treturn parseFloat(value);\n\t\t\t\telse if (ISO_DATE.test(value))\n\t\t\t\t\treturn new Date(value);\n\t\t\t\telse\n\t\t\t\t\treturn (value === '' ? null : value);\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\n\t\tfunction applyHeaderAndDynamicTypingAndTransformation()\n\t\t{\n\t\t\tif (!_results || (!_config.header && !_config.dynamicTyping && !_config.transform))\n\t\t\t\treturn _results;\n\n\t\t\tfunction processRow(rowSource, i)\n\t\t\t{\n\t\t\t\tvar row = _config.header ? {} : [];\n\n\t\t\t\tvar j;\n\t\t\t\tfor (j = 0; j < rowSource.length; j++)\n\t\t\t\t{\n\t\t\t\t\tvar field = j;\n\t\t\t\t\tvar value = rowSource[j];\n\n\t\t\t\t\tif (_config.header)\n\t\t\t\t\t\tfield = j >= _fields.length ? '__parsed_extra' : _fields[j];\n\n\t\t\t\t\tif (_config.transform)\n\t\t\t\t\t\tvalue = _config.transform(value,field);\n\n\t\t\t\t\tvalue = parseDynamic(field, value);\n\n\t\t\t\t\tif (field === '__parsed_extra')\n\t\t\t\t\t{\n\t\t\t\t\t\trow[field] = row[field] || [];\n\t\t\t\t\t\trow[field].push(value);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\trow[field] = value;\n\t\t\t\t}\n\n\n\t\t\t\tif (_config.header)\n\t\t\t\t{\n\t\t\t\t\tif (j > _fields.length)\n\t\t\t\t\t\taddError('FieldMismatch', 'TooManyFields', 'Too many fields: expected ' + _fields.length + ' fields but parsed ' + j, _rowCounter + i);\n\t\t\t\t\telse if (j < _fields.length)\n\t\t\t\t\t\taddError('FieldMismatch', 'TooFewFields', 'Too few fields: expected ' + _fields.length + ' fields but parsed ' + j, _rowCounter + i);\n\t\t\t\t}\n\n\t\t\t\treturn row;\n\t\t\t}\n\n\t\t\tvar incrementBy = 1;\n\t\t\tif (!_results.data.length || Array.isArray(_results.data[0]))\n\t\t\t{\n\t\t\t\t_results.data = _results.data.map(processRow);\n\t\t\t\tincrementBy = _results.data.length;\n\t\t\t}\n\t\t\telse\n\t\t\t\t_results.data = processRow(_results.data, 0);\n\n\n\t\t\tif (_config.header && _results.meta)\n\t\t\t\t_results.meta.fields = _fields;\n\n\t\t\t_rowCounter += incrementBy;\n\t\t\treturn _results;\n\t\t}\n\n\t\tfunction guessDelimiter(input, newline, skipEmptyLines, comments, delimitersToGuess) {\n\t\t\tvar bestDelim, bestDelta, fieldCountPrevRow, maxFieldCount;\n\n\t\t\tdelimitersToGuess = delimitersToGuess || [',', '\\t', '|', ';', Papa.RECORD_SEP, Papa.UNIT_SEP];\n\n\t\t\tfor (var i = 0; i < delimitersToGuess.length; i++) {\n\t\t\t\tvar delim = delimitersToGuess[i];\n\t\t\t\tvar delta = 0, avgFieldCount = 0, emptyLinesCount = 0;\n\t\t\t\tfieldCountPrevRow = undefined;\n\n\t\t\t\tvar preview = new Parser({\n\t\t\t\t\tcomments: comments,\n\t\t\t\t\tdelimiter: delim,\n\t\t\t\t\tnewline: newline,\n\t\t\t\t\tpreview: 10\n\t\t\t\t}).parse(input);\n\n\t\t\t\tfor (var j = 0; j < preview.data.length; j++) {\n\t\t\t\t\tif (skipEmptyLines && testEmptyLine(preview.data[j])) {\n\t\t\t\t\t\temptyLinesCount++;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tvar fieldCount = preview.data[j].length;\n\t\t\t\t\tavgFieldCount += fieldCount;\n\n\t\t\t\t\tif (typeof fieldCountPrevRow === 'undefined') {\n\t\t\t\t\t\tfieldCountPrevRow = fieldCount;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\telse if (fieldCount > 0) {\n\t\t\t\t\t\tdelta += Math.abs(fieldCount - fieldCountPrevRow);\n\t\t\t\t\t\tfieldCountPrevRow = fieldCount;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (preview.data.length > 0)\n\t\t\t\t\tavgFieldCount /= (preview.data.length - emptyLinesCount);\n\n\t\t\t\tif ((typeof bestDelta === 'undefined' || delta <= bestDelta)\n\t\t\t\t\t&& (typeof maxFieldCount === 'undefined' || avgFieldCount > maxFieldCount) && avgFieldCount > 1.99) {\n\t\t\t\t\tbestDelta = delta;\n\t\t\t\t\tbestDelim = delim;\n\t\t\t\t\tmaxFieldCount = avgFieldCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_config.delimiter = bestDelim;\n\n\t\t\treturn {\n\t\t\t\tsuccessful: !!bestDelim,\n\t\t\t\tbestDelimiter: bestDelim\n\t\t\t};\n\t\t}\n\n\t\tfunction addError(type, code, msg, row)\n\t\t{\n\t\t\tvar error = {\n\t\t\t\ttype: type,\n\t\t\t\tcode: code,\n\t\t\t\tmessage: msg\n\t\t\t};\n\t\t\tif(row !== undefined) {\n\t\t\t\terror.row = row;\n\t\t\t}\n\t\t\t_results.errors.push(error);\n\t\t}\n\t}\n\n\t/** https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions */\n\tfunction escapeRegExp(string)\n\t{\n\t\treturn string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); // $& means the whole matched string\n\t}\n\n\t/** The core parser implements speedy and correct CSV parsing */\n\tfunction Parser(config)\n\t{\n\t\t// Unpack the config object\n\t\tconfig = config || {};\n\t\tvar delim = config.delimiter;\n\t\tvar newline = config.newline;\n\t\tvar comments = config.comments;\n\t\tvar step = config.step;\n\t\tvar preview = config.preview;\n\t\tvar fastMode = config.fastMode;\n\t\tvar quoteChar;\n\t\tvar renamedHeaders = null;\n\t\tvar headerParsed = false;\n\n\t\tif (config.quoteChar === undefined || config.quoteChar === null) {\n\t\t\tquoteChar = '\"';\n\t\t} else {\n\t\t\tquoteChar = config.quoteChar;\n\t\t}\n\t\tvar escapeChar = quoteChar;\n\t\tif (config.escapeChar !== undefined) {\n\t\t\tescapeChar = config.escapeChar;\n\t\t}\n\n\t\t// Delimiter must be valid\n\t\tif (typeof delim !== 'string'\n\t\t\t|| Papa.BAD_DELIMITERS.indexOf(delim) > -1)\n\t\t\tdelim = ',';\n\n\t\t// Comment character must be valid\n\t\tif (comments === delim)\n\t\t\tthrow new Error('Comment character same as delimiter');\n\t\telse if (comments === true)\n\t\t\tcomments = '#';\n\t\telse if (typeof comments !== 'string'\n\t\t\t|| Papa.BAD_DELIMITERS.indexOf(comments) > -1)\n\t\t\tcomments = false;\n\n\t\t// Newline must be valid: \\r, \\n, or \\r\\n\n\t\tif (newline !== '\\n' && newline !== '\\r' && newline !== '\\r\\n')\n\t\t\tnewline = '\\n';\n\n\t\t// We're gonna need these at the Parser scope\n\t\tvar cursor = 0;\n\t\tvar aborted = false;\n\n\t\tthis.parse = function(input, baseIndex, ignoreLastRow)\n\t\t{\n\t\t\t// For some reason, in Chrome, this speeds things up (!?)\n\t\t\tif (typeof input !== 'string')\n\t\t\t\tthrow new Error('Input must be a string');\n\n\t\t\t// We don't need to compute some of these every time parse() is called,\n\t\t\t// but having them in a more local scope seems to perform better\n\t\t\tvar inputLen = input.length,\n\t\t\t\tdelimLen = delim.length,\n\t\t\t\tnewlineLen = newline.length,\n\t\t\t\tcommentsLen = comments.length;\n\t\t\tvar stepIsFunction = isFunction(step);\n\n\t\t\t// Establish starting state\n\t\t\tcursor = 0;\n\t\t\tvar data = [], errors = [], row = [], lastCursor = 0;\n\n\t\t\tif (!input)\n\t\t\t\treturn returnable();\n\n\t\t\tif (fastMode || (fastMode !== false && input.indexOf(quoteChar) === -1))\n\t\t\t{\n\t\t\t\tvar rows = input.split(newline);\n\t\t\t\tfor (var i = 0; i < rows.length; i++)\n\t\t\t\t{\n\t\t\t\t\trow = rows[i];\n\t\t\t\t\tcursor += row.length;\n\n\t\t\t\t\tif (i !== rows.length - 1)\n\t\t\t\t\t\tcursor += newline.length;\n\t\t\t\t\telse if (ignoreLastRow)\n\t\t\t\t\t\treturn returnable();\n\t\t\t\t\tif (comments && row.substring(0, commentsLen) === comments)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t{\n\t\t\t\t\t\tdata = [];\n\t\t\t\t\t\tpushRow(row.split(delim));\n\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tpushRow(row.split(delim));\n\t\t\t\t\tif (preview && i >= preview)\n\t\t\t\t\t{\n\t\t\t\t\t\tdata = data.slice(0, preview);\n\t\t\t\t\t\treturn returnable(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn returnable();\n\t\t\t}\n\n\t\t\tvar nextDelim = input.indexOf(delim, cursor);\n\t\t\tvar nextNewline = input.indexOf(newline, cursor);\n\t\t\tvar quoteCharRegex = new RegExp(escapeRegExp(escapeChar) + escapeRegExp(quoteChar), 'g');\n\t\t\tvar quoteSearch = input.indexOf(quoteChar, cursor);\n\n\t\t\t// Parser loop\n\t\t\tfor (;;)\n\t\t\t{\n\t\t\t\t// Field has opening quote\n\t\t\t\tif (input[cursor] === quoteChar)\n\t\t\t\t{\n\t\t\t\t\t// Start our search for the closing quote where the cursor is\n\t\t\t\t\tquoteSearch = cursor;\n\n\t\t\t\t\t// Skip the opening quote\n\t\t\t\t\tcursor++;\n\n\t\t\t\t\tfor (;;)\n\t\t\t\t\t{\n\t\t\t\t\t\t// Find closing quote\n\t\t\t\t\t\tquoteSearch = input.indexOf(quoteChar, quoteSearch + 1);\n\n\t\t\t\t\t\t//No other quotes are found - no other delimiters\n\t\t\t\t\t\tif (quoteSearch === -1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (!ignoreLastRow) {\n\t\t\t\t\t\t\t\t// No closing quote... what a pity\n\t\t\t\t\t\t\t\terrors.push({\n\t\t\t\t\t\t\t\t\ttype: 'Quotes',\n\t\t\t\t\t\t\t\t\tcode: 'MissingQuotes',\n\t\t\t\t\t\t\t\t\tmessage: 'Quoted field unterminated',\n\t\t\t\t\t\t\t\t\trow: data.length,\t// row has yet to be inserted\n\t\t\t\t\t\t\t\t\tindex: cursor\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn finish();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Closing quote at EOF\n\t\t\t\t\t\tif (quoteSearch === inputLen - 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar value = input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar);\n\t\t\t\t\t\t\treturn finish(value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If this quote is escaped, it's part of the data; skip it\n\t\t\t\t\t\t// If the quote character is the escape character, then check if the next character is the escape character\n\t\t\t\t\t\tif (quoteChar === escapeChar &&  input[quoteSearch + 1] === escapeChar)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tquoteSearch++;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If the quote character is not the escape character, then check if the previous character was the escape character\n\t\t\t\t\t\tif (quoteChar !== escapeChar && quoteSearch !== 0 && input[quoteSearch - 1] === escapeChar)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(nextDelim !== -1 && nextDelim < (quoteSearch + 1)) {\n\t\t\t\t\t\t\tnextDelim = input.indexOf(delim, (quoteSearch + 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(nextNewline !== -1 && nextNewline < (quoteSearch + 1)) {\n\t\t\t\t\t\t\tnextNewline = input.indexOf(newline, (quoteSearch + 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Check up to nextDelim or nextNewline, whichever is closest\n\t\t\t\t\t\tvar checkUpTo = nextNewline === -1 ? nextDelim : Math.min(nextDelim, nextNewline);\n\t\t\t\t\t\tvar spacesBetweenQuoteAndDelimiter = extraSpaces(checkUpTo);\n\n\t\t\t\t\t\t// Closing quote followed by delimiter or 'unnecessary spaces + delimiter'\n\t\t\t\t\t\tif (input.substr(quoteSearch + 1 + spacesBetweenQuoteAndDelimiter, delimLen) === delim)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trow.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));\n\t\t\t\t\t\t\tcursor = quoteSearch + 1 + spacesBetweenQuoteAndDelimiter + delimLen;\n\n\t\t\t\t\t\t\t// If char after following delimiter is not quoteChar, we find next quote char position\n\t\t\t\t\t\t\tif (input[quoteSearch + 1 + spacesBetweenQuoteAndDelimiter + delimLen] !== quoteChar)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tquoteSearch = input.indexOf(quoteChar, cursor);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar spacesBetweenQuoteAndNewLine = extraSpaces(nextNewline);\n\n\t\t\t\t\t\t// Closing quote followed by newline or 'unnecessary spaces + newLine'\n\t\t\t\t\t\tif (input.substring(quoteSearch + 1 + spacesBetweenQuoteAndNewLine, quoteSearch + 1 + spacesBetweenQuoteAndNewLine + newlineLen) === newline)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trow.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));\n\t\t\t\t\t\t\tsaveRow(quoteSearch + 1 + spacesBetweenQuoteAndNewLine + newlineLen);\n\t\t\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\t// because we may have skipped the nextDelim in the quoted field\n\t\t\t\t\t\t\tquoteSearch = input.indexOf(quoteChar, cursor);\t// we search for first quote in next line\n\n\t\t\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (preview && data.length >= preview)\n\t\t\t\t\t\t\t\treturn returnable(true);\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t// Checks for valid closing quotes are complete (escaped quotes or quote followed by EOF/delimiter/newline) -- assume these quotes are part of an invalid text string\n\t\t\t\t\t\terrors.push({\n\t\t\t\t\t\t\ttype: 'Quotes',\n\t\t\t\t\t\t\tcode: 'InvalidQuotes',\n\t\t\t\t\t\t\tmessage: 'Trailing quote on quoted field is malformed',\n\t\t\t\t\t\t\trow: data.length,\t// row has yet to be inserted\n\t\t\t\t\t\t\tindex: cursor\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tquoteSearch++;\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Comment found at start of new line\n\t\t\t\tif (comments && row.length === 0 && input.substring(cursor, cursor + commentsLen) === comments)\n\t\t\t\t{\n\t\t\t\t\tif (nextNewline === -1)\t// Comment ends at EOF\n\t\t\t\t\t\treturn returnable();\n\t\t\t\t\tcursor = nextNewline + newlineLen;\n\t\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Next delimiter comes before next newline, so we've reached end of field\n\t\t\t\tif (nextDelim !== -1 && (nextDelim < nextNewline || nextNewline === -1))\n\t\t\t\t{\n\t\t\t\t\trow.push(input.substring(cursor, nextDelim));\n\t\t\t\t\tcursor = nextDelim + delimLen;\n\t\t\t\t\t// we look for next delimiter char\n\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// End of row\n\t\t\t\tif (nextNewline !== -1)\n\t\t\t\t{\n\t\t\t\t\trow.push(input.substring(cursor, nextNewline));\n\t\t\t\t\tsaveRow(nextNewline + newlineLen);\n\n\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t{\n\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (preview && data.length >= preview)\n\t\t\t\t\t\treturn returnable(true);\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn finish();\n\n\n\t\t\tfunction pushRow(row)\n\t\t\t{\n\t\t\t\tdata.push(row);\n\t\t\t\tlastCursor = cursor;\n\t\t\t}\n\n\t\t\t/**\n             * checks if there are extra spaces after closing quote and given index without any text\n             * if Yes, returns the number of spaces\n             */\n\t\t\tfunction extraSpaces(index) {\n\t\t\t\tvar spaceLength = 0;\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tvar textBetweenClosingQuoteAndIndex = input.substring(quoteSearch + 1, index);\n\t\t\t\t\tif (textBetweenClosingQuoteAndIndex && textBetweenClosingQuoteAndIndex.trim() === '') {\n\t\t\t\t\t\tspaceLength = textBetweenClosingQuoteAndIndex.length;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn spaceLength;\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Appends the remaining input from cursor to the end into\n\t\t\t * row, saves the row, calls step, and returns the results.\n\t\t\t */\n\t\t\tfunction finish(value)\n\t\t\t{\n\t\t\t\tif (ignoreLastRow)\n\t\t\t\t\treturn returnable();\n\t\t\t\tif (typeof value === 'undefined')\n\t\t\t\t\tvalue = input.substring(cursor);\n\t\t\t\trow.push(value);\n\t\t\t\tcursor = inputLen;\t// important in case parsing is paused\n\t\t\t\tpushRow(row);\n\t\t\t\tif (stepIsFunction)\n\t\t\t\t\tdoStep();\n\t\t\t\treturn returnable();\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Appends the current row to the results. It sets the cursor\n\t\t\t * to newCursor and finds the nextNewline. The caller should\n\t\t\t * take care to execute user's step function and check for\n\t\t\t * preview and end parsing if necessary.\n\t\t\t */\n\t\t\tfunction saveRow(newCursor)\n\t\t\t{\n\t\t\t\tcursor = newCursor;\n\t\t\t\tpushRow(row);\n\t\t\t\trow = [];\n\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t}\n\n\t\t\t/** Returns an object with the results, errors, and meta. */\n\t\t\tfunction returnable(stopped)\n\t\t\t{\n\t\t\t\tif (config.header && !baseIndex && data.length && !headerParsed)\n\t\t\t\t{\n\t\t\t\t\tconst result = data[0];\n\t\t\t\t\tconst headerCount = Object.create(null); // To track the count of each base header\n\t\t\t\t\tconst usedHeaders = new Set(result); // To track used headers and avoid duplicates\n\t\t\t\t\tlet duplicateHeaders = false;\n\n\t\t\t\t\tfor (let i = 0; i < result.length; i++) {\n\t\t\t\t\t\tlet header = result[i];\n\t\t\t\t\t\tif (isFunction(config.transformHeader))\n\t\t\t\t\t\t\theader = config.transformHeader(header, i);\n\n\t\t\t\t\t\tif (!headerCount[header]) {\n\t\t\t\t\t\t\theaderCount[header] = 1;\n\t\t\t\t\t\t\tresult[i] = header;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet newHeader;\n\t\t\t\t\t\t\tlet suffixCount = headerCount[header];\n\n\t\t\t\t\t\t\t// Find a unique new header\n\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\tnewHeader = `${header}_${suffixCount}`;\n\t\t\t\t\t\t\t\tsuffixCount++;\n\t\t\t\t\t\t\t} while (usedHeaders.has(newHeader));\n\n\t\t\t\t\t\t\tusedHeaders.add(newHeader); // Mark this new Header as used\n\t\t\t\t\t\t\tresult[i] = newHeader;\n\t\t\t\t\t\t\theaderCount[header]++;\n\t\t\t\t\t\t\tduplicateHeaders = true;\n\t\t\t\t\t\t\tif (renamedHeaders === null) {\n\t\t\t\t\t\t\t\trenamedHeaders = {};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trenamedHeaders[newHeader] = header;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tusedHeaders.add(header); // Ensure the original header is marked as used\n\t\t\t\t\t}\n\t\t\t\t\tif (duplicateHeaders) {\n\t\t\t\t\t\tconsole.warn('Duplicate headers found and renamed.');\n\t\t\t\t\t}\n\t\t\t\t\theaderParsed = true;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tdata: data,\n\t\t\t\t\terrors: errors,\n\t\t\t\t\tmeta: {\n\t\t\t\t\t\tdelimiter: delim,\n\t\t\t\t\t\tlinebreak: newline,\n\t\t\t\t\t\taborted: aborted,\n\t\t\t\t\t\ttruncated: !!stopped,\n\t\t\t\t\t\tcursor: lastCursor + (baseIndex || 0),\n\t\t\t\t\t\trenamedHeaders: renamedHeaders\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t/** Executes the user's step function and resets data & errors. */\n\t\t\tfunction doStep()\n\t\t\t{\n\t\t\t\tstep(returnable());\n\t\t\t\tdata = [];\n\t\t\t\terrors = [];\n\t\t\t}\n\t\t};\n\n\t\t/** Sets the abort flag */\n\t\tthis.abort = function()\n\t\t{\n\t\t\taborted = true;\n\t\t};\n\n\t\t/** Gets the cursor position */\n\t\tthis.getCharIndex = function()\n\t\t{\n\t\t\treturn cursor;\n\t\t};\n\t}\n\n\n\tfunction newWorker()\n\t{\n\t\tif (!Papa.WORKERS_SUPPORTED)\n\t\t\treturn false;\n\n\t\tvar workerUrl = getWorkerBlob();\n\t\tvar w = new global.Worker(workerUrl);\n\t\tw.onmessage = mainThreadReceivedMessage;\n\t\tw.id = workerIdCounter++;\n\t\tworkers[w.id] = w;\n\t\treturn w;\n\t}\n\n\t/** Callback when main thread receives a message */\n\tfunction mainThreadReceivedMessage(e)\n\t{\n\t\tvar msg = e.data;\n\t\tvar worker = workers[msg.workerId];\n\t\tvar aborted = false;\n\n\t\tif (msg.error)\n\t\t\tworker.userError(msg.error, msg.file);\n\t\telse if (msg.results && msg.results.data)\n\t\t{\n\t\t\tvar abort = function() {\n\t\t\t\taborted = true;\n\t\t\t\tcompleteWorker(msg.workerId, { data: [], errors: [], meta: { aborted: true } });\n\t\t\t};\n\n\t\t\tvar handle = {\n\t\t\t\tabort: abort,\n\t\t\t\tpause: notImplemented,\n\t\t\t\tresume: notImplemented\n\t\t\t};\n\n\t\t\tif (isFunction(worker.userStep))\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < msg.results.data.length; i++)\n\t\t\t\t{\n\t\t\t\t\tworker.userStep({\n\t\t\t\t\t\tdata: msg.results.data[i],\n\t\t\t\t\t\terrors: msg.results.errors,\n\t\t\t\t\t\tmeta: msg.results.meta\n\t\t\t\t\t}, handle);\n\t\t\t\t\tif (aborted)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdelete msg.results;\t// free memory ASAP\n\t\t\t}\n\t\t\telse if (isFunction(worker.userChunk))\n\t\t\t{\n\t\t\t\tworker.userChunk(msg.results, handle, msg.file);\n\t\t\t\tdelete msg.results;\n\t\t\t}\n\t\t}\n\n\t\tif (msg.finished && !aborted)\n\t\t\tcompleteWorker(msg.workerId, msg.results);\n\t}\n\n\tfunction completeWorker(workerId, results) {\n\t\tvar worker = workers[workerId];\n\t\tif (isFunction(worker.userComplete))\n\t\t\tworker.userComplete(results);\n\t\tworker.terminate();\n\t\tdelete workers[workerId];\n\t}\n\n\tfunction notImplemented() {\n\t\tthrow new Error('Not implemented.');\n\t}\n\n\t/** Callback when worker thread receives a message */\n\tfunction workerThreadReceivedMessage(e)\n\t{\n\t\tvar msg = e.data;\n\n\t\tif (typeof Papa.WORKER_ID === 'undefined' && msg)\n\t\t\tPapa.WORKER_ID = msg.workerId;\n\n\t\tif (typeof msg.input === 'string')\n\t\t{\n\t\t\tglobal.postMessage({\n\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\tresults: Papa.parse(msg.input, msg.config),\n\t\t\t\tfinished: true\n\t\t\t});\n\t\t}\n\t\telse if ((global.File && msg.input instanceof File) || msg.input instanceof Object)\t// thank you, Safari (see issue #106)\n\t\t{\n\t\t\tvar results = Papa.parse(msg.input, msg.config);\n\t\t\tif (results)\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\tresults: results,\n\t\t\t\t\tfinished: true\n\t\t\t\t});\n\t\t}\n\t}\n\n\t/** Makes a deep copy of an array or object (mostly) */\n\tfunction copy(obj)\n\t{\n\t\tif (typeof obj !== 'object' || obj === null)\n\t\t\treturn obj;\n\t\tvar cpy = Array.isArray(obj) ? [] : {};\n\t\tfor (var key in obj)\n\t\t\tcpy[key] = copy(obj[key]);\n\t\treturn cpy;\n\t}\n\n\tfunction bindFunction(f, self)\n\t{\n\t\treturn function() { f.apply(self, arguments); };\n\t}\n\tfunction isFunction(func)\n\t{\n\t\treturn typeof func === 'function';\n\t}\n\n\treturn Papa;\n}));\n","'use strict'\n\nconst ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    comp = comp.trim().split(/\\s+/).join(' ')\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    options = parseOptions(options)\n\n    // Special cases where nothing can possibly be lower\n    if (options.includePrerelease &&\n      (this.value === '<0.0.0-0' || comp.value === '<0.0.0-0')) {\n      return false\n    }\n    if (!options.includePrerelease &&\n      (this.value.startsWith('<0.0.0') || comp.value.startsWith('<0.0.0'))) {\n      return false\n    }\n\n    // Same direction increasing (> or >=)\n    if (this.operator.startsWith('>') && comp.operator.startsWith('>')) {\n      return true\n    }\n    // Same direction decreasing (< or <=)\n    if (this.operator.startsWith('<') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // same SemVer and both sides are inclusive (<= or >=)\n    if (\n      (this.semver.version === comp.semver.version) &&\n      this.operator.includes('=') && comp.operator.includes('=')) {\n      return true\n    }\n    // opposite directions less than\n    if (cmp(this.semver, '<', comp.semver, options) &&\n      this.operator.startsWith('>') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // opposite directions greater than\n    if (cmp(this.semver, '>', comp.semver, options) &&\n      this.operator.startsWith('<') && comp.operator.startsWith('>')) {\n      return true\n    }\n    return false\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { safeRe: re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","'use strict'\n\nconst SPACE_CHARACTERS = /\\s+/g\n\n// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.formatted = undefined\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First reduce all whitespace as much as possible so we do not have to rely\n    // on potentially slow regexes like \\s*. This is then stored and used for\n    // future error messages as well.\n    this.raw = range.trim().replace(SPACE_CHARACTERS, ' ')\n\n    // First, split on ||\n    this.set = this.raw\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${this.raw}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.formatted = undefined\n  }\n\n  get range () {\n    if (this.formatted === undefined) {\n      this.formatted = ''\n      for (let i = 0; i < this.set.length; i++) {\n        if (i > 0) {\n          this.formatted += '||'\n        }\n        const comps = this.set[i]\n        for (let k = 0; k < comps.length; k++) {\n          if (k > 0) {\n            this.formatted += ' '\n          }\n          this.formatted += comps[k].toString().trim()\n        }\n      }\n    }\n    return this.formatted\n  }\n\n  format () {\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts =\n      (this.options.includePrerelease && FLAG_INCLUDE_PRERELEASE) |\n      (this.options.loose && FLAG_LOOSE)\n    const memoKey = memoOpts + ':' + range\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n    debug('tilde trim', range)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n    debug('caret trim', range)\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\nmodule.exports = Range\n\nconst LRU = require('../internal/lrucache')\nconst cache = new LRU()\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  safeRe: re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\nconst { FLAG_INCLUDE_PRERELEASE, FLAG_LOOSE } = require('../internal/constants')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  comp = comp.replace(re[t.BUILD], '')\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n// ~0.0.1 --> >=0.0.1 <0.1.0-0\nconst replaceTildes = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceTilde(c, options))\n    .join(' ')\n}\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\n// ^0.0.1 --> >=0.0.1 <0.0.2-0\n// ^0.1.0 --> >=0.1.0 <0.2.0-0\nconst replaceCarets = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceCaret(c, options))\n    .join(' ')\n}\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp\n    .split(/\\s+/)\n    .map((c) => replaceXRange(c, options))\n    .join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp\n    .trim()\n    .replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp\n    .trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\n// TODO build?\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return `${from} ${to}`.trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","'use strict'\n\nconst debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n        version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    if (this.major < other.major) {\n      return -1\n    }\n    if (this.major > other.major) {\n      return 1\n    }\n    if (this.minor < other.minor) {\n      return -1\n    }\n    if (this.minor > other.minor) {\n      return 1\n    }\n    if (this.patch < other.patch) {\n      return -1\n    }\n    if (this.patch > other.patch) {\n      return 1\n    }\n    return 0\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('build compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    if (release.startsWith('pre')) {\n      if (!identifier && identifierBase === false) {\n        throw new Error('invalid increment argument: identifier is empty')\n      }\n      // Avoid an invalid semver results\n      if (identifier) {\n        const match = `-${identifier}`.match(this.options.loose ? re[t.PRERELEASELOOSE] : re[t.PRERELEASE])\n        if (!match || match[1] !== identifier) {\n          throw new Error(`invalid identifier: ${identifier}`)\n        }\n      }\n    }\n\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'release':\n        if (this.prerelease.length === 0) {\n          throw new Error(`version ${this.raw} is not a prerelease`)\n        }\n        this.prerelease.length = 0\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","'use strict'\n\nconst parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n","'use strict'\n\nconst eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(options.includePrerelease ? re[t.COERCEFULL] : re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    // With includePrerelease option set, '1.2.3.4-rc' wants to coerce '2.3.4-rc', not '2.3.4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    const coerceRtlRegex = options.includePrerelease ? re[t.COERCERTLFULL] : re[t.COERCERTL]\n    let next\n    while ((next = coerceRtlRegex.exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      coerceRtlRegex.lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    coerceRtlRegex.lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  const major = match[2]\n  const minor = match[3] || '0'\n  const patch = match[4] || '0'\n  const prerelease = options.includePrerelease && match[5] ? `-${match[5]}` : ''\n  const build = options.includePrerelease && match[6] ? `+${match[6]}` : ''\n\n  return parse(`${major}.${minor}.${patch}${prerelease}${build}`, options)\n}\nmodule.exports = coerce\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n","'use strict'\n\nconst compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","'use strict'\n\nconst parse = require('./parse.js')\n\nconst diff = (version1, version2) => {\n  const v1 = parse(version1, null, true)\n  const v2 = parse(version2, null, true)\n  const comparison = v1.compare(v2)\n\n  if (comparison === 0) {\n    return null\n  }\n\n  const v1Higher = comparison > 0\n  const highVersion = v1Higher ? v1 : v2\n  const lowVersion = v1Higher ? v2 : v1\n  const highHasPre = !!highVersion.prerelease.length\n  const lowHasPre = !!lowVersion.prerelease.length\n\n  if (lowHasPre && !highHasPre) {\n    // Going from prerelease -> no prerelease requires some special casing\n\n    // If the low version has only a major, then it will always be a major\n    // Some examples:\n    // 1.0.0-1 -> 1.0.0\n    // 1.0.0-1 -> 1.1.1\n    // 1.0.0-1 -> 2.0.0\n    if (!lowVersion.patch && !lowVersion.minor) {\n      return 'major'\n    }\n\n    // If the main part has no difference\n    if (lowVersion.compareMain(highVersion) === 0) {\n      if (lowVersion.minor && !lowVersion.patch) {\n        return 'minor'\n      }\n      return 'patch'\n    }\n  }\n\n  // add the `pre` prefix if we are going to a prerelease version\n  const prefix = highHasPre ? 'pre' : ''\n\n  if (v1.major !== v2.major) {\n    return prefix + 'major'\n  }\n\n  if (v1.minor !== v2.minor) {\n    return prefix + 'minor'\n  }\n\n  if (v1.patch !== v2.patch) {\n    return prefix + 'patch'\n  }\n\n  // high and low are preleases\n  return 'prerelease'\n}\n\nmodule.exports = diff\n","'use strict'\n\nconst compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","'use strict'\n\nconst compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","'use strict'\n\nconst compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","'use strict'\n\nconst SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier, identifierBase) => {\n  if (typeof (options) === 'string') {\n    identifierBase = identifier\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(\n      version instanceof SemVer ? version.version : version,\n      options\n    ).inc(release, identifier, identifierBase).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n","'use strict'\n\nconst compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","'use strict'\n\nconst compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n","'use strict'\n\nconst compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst parse = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    if (!throwErrors) {\n      return null\n    }\n    throw er\n  }\n}\n\nmodule.exports = parse\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n","'use strict'\n\nconst parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n","'use strict'\n\nconst compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n","'use strict'\n\nconst compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n","'use strict'\n\nconst Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","'use strict'\n\nconst compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n","'use strict'\n\nconst parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n","'use strict'\n\n// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nconst constants = require('./internal/constants')\nconst SemVer = require('./classes/semver')\nconst identifiers = require('./internal/identifiers')\nconst parse = require('./functions/parse')\nconst valid = require('./functions/valid')\nconst clean = require('./functions/clean')\nconst inc = require('./functions/inc')\nconst diff = require('./functions/diff')\nconst major = require('./functions/major')\nconst minor = require('./functions/minor')\nconst patch = require('./functions/patch')\nconst prerelease = require('./functions/prerelease')\nconst compare = require('./functions/compare')\nconst rcompare = require('./functions/rcompare')\nconst compareLoose = require('./functions/compare-loose')\nconst compareBuild = require('./functions/compare-build')\nconst sort = require('./functions/sort')\nconst rsort = require('./functions/rsort')\nconst gt = require('./functions/gt')\nconst lt = require('./functions/lt')\nconst eq = require('./functions/eq')\nconst neq = require('./functions/neq')\nconst gte = require('./functions/gte')\nconst lte = require('./functions/lte')\nconst cmp = require('./functions/cmp')\nconst coerce = require('./functions/coerce')\nconst Comparator = require('./classes/comparator')\nconst Range = require('./classes/range')\nconst satisfies = require('./functions/satisfies')\nconst toComparators = require('./ranges/to-comparators')\nconst maxSatisfying = require('./ranges/max-satisfying')\nconst minSatisfying = require('./ranges/min-satisfying')\nconst minVersion = require('./ranges/min-version')\nconst validRange = require('./ranges/valid')\nconst outside = require('./ranges/outside')\nconst gtr = require('./ranges/gtr')\nconst ltr = require('./ranges/ltr')\nconst intersects = require('./ranges/intersects')\nconst simplifyRange = require('./ranges/simplify')\nconst subset = require('./ranges/subset')\nmodule.exports = {\n  parse,\n  valid,\n  clean,\n  inc,\n  diff,\n  major,\n  minor,\n  patch,\n  prerelease,\n  compare,\n  rcompare,\n  compareLoose,\n  compareBuild,\n  sort,\n  rsort,\n  gt,\n  lt,\n  eq,\n  neq,\n  gte,\n  lte,\n  cmp,\n  coerce,\n  Comparator,\n  Range,\n  satisfies,\n  toComparators,\n  maxSatisfying,\n  minSatisfying,\n  minVersion,\n  validRange,\n  outside,\n  gtr,\n  ltr,\n  intersects,\n  simplifyRange,\n  subset,\n  SemVer,\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: constants.SEMVER_SPEC_VERSION,\n  RELEASE_TYPES: constants.RELEASE_TYPES,\n  compareIdentifiers: identifiers.compareIdentifiers,\n  rcompareIdentifiers: identifiers.rcompareIdentifiers,\n}\n","'use strict'\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\n// Max safe length for a build identifier. The max length minus 6 characters for\n// the shortest version with a build 0.0.0+BUILD.\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n","'use strict'\n\nconst debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","'use strict'\n\nconst numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  if (typeof a === 'number' && typeof b === 'number') {\n    return a === b ? 0 : a < b ? -1 : 1\n  }\n\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","'use strict'\n\nclass LRUCache {\n  constructor () {\n    this.max = 1000\n    this.map = new Map()\n  }\n\n  get (key) {\n    const value = this.map.get(key)\n    if (value === undefined) {\n      return undefined\n    } else {\n      // Remove the key from the map and add it to the end\n      this.map.delete(key)\n      this.map.set(key, value)\n      return value\n    }\n  }\n\n  delete (key) {\n    return this.map.delete(key)\n  }\n\n  set (key, value) {\n    const deleted = this.delete(key)\n\n    if (!deleted && value !== undefined) {\n      // If cache is full, delete the least recently used item\n      if (this.map.size >= this.max) {\n        const firstKey = this.map.keys().next().value\n        this.delete(firstKey)\n      }\n\n      this.map.set(key, value)\n    }\n\n    return this\n  }\n}\n\nmodule.exports = LRUCache\n","'use strict'\n\n// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n","'use strict'\n\nconst {\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_LENGTH,\n} = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst safeSrc = exports.safeSrc = []\nconst t = exports.t = {}\nlet R = 0\n\nconst LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nconst safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nconst makeSafeRegex = (value) => {\n  for (const [token, max] of safeRegexReplacements) {\n    value = value\n      .split(`${token}*`).join(`${token}{0,${max}}`)\n      .split(`${token}+`).join(`${token}{1,${max}}`)\n  }\n  return value\n}\n\nconst createToken = (name, value, isGlobal) => {\n  const safe = makeSafeRegex(value)\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  safeSrc[index] = safe\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '\\\\d+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`)\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n// Non-numberic identifiers include numberic identifiers but can be longer.\n// Therefore non-numberic identifiers must go first.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NONNUMERICIDENTIFIER]\n}|${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NONNUMERICIDENTIFIER]\n}|${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', `${LETTERDASHNUMBER}+`)\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCEPLAIN', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`)\ncreateToken('COERCE', `${src[t.COERCEPLAIN]}(?:$|[^\\\\d])`)\ncreateToken('COERCEFULL', src[t.COERCEPLAIN] +\n              `(?:${src[t.PRERELEASE]})?` +\n              `(?:${src[t.BUILD]})?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\ncreateToken('COERCERTLFULL', src[t.COERCEFULL], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","'use strict'\n\n// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n","'use strict'\n\nconst Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2, options)\n}\nmodule.exports = intersects\n","'use strict'\n\nconst outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin))) {\n      minver = setMin\n    }\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst { ANY } = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n","'use strict'\n\n// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n","'use strict'\n\nconst Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom) {\n    return true\n  }\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub) {\n        continue OUTER\n      }\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull) {\n      return false\n    }\n  }\n  return true\n}\n\nconst minimumVersionWithPreRelease = [new Comparator('>=0.0.0-0')]\nconst minimumVersion = [new Comparator('>=0.0.0')]\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom) {\n    return true\n  }\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY) {\n      return true\n    } else if (options.includePrerelease) {\n      sub = minimumVersionWithPreRelease\n    } else {\n      sub = minimumVersion\n    }\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease) {\n      return true\n    } else {\n      dom = minimumVersion\n    }\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=') {\n      gt = higherGT(gt, c, options)\n    } else if (c.operator === '<' || c.operator === '<=') {\n      lt = lowerLT(lt, c, options)\n    } else {\n      eqSet.add(c.semver)\n    }\n  }\n\n  if (eqSet.size > 1) {\n    return null\n  }\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0) {\n      return null\n    } else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<=')) {\n      return null\n    }\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options)) {\n      return null\n    }\n\n    if (lt && !satisfies(eq, String(lt), options)) {\n      return null\n    }\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options)) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt) {\n          return false\n        }\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt) {\n          return false\n        }\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0) {\n      return false\n    }\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0) {\n    return false\n  }\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0) {\n    return false\n  }\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre) {\n    return false\n  }\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n","'use strict'\n\nconst Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n","'use strict'\n\nconst Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n","import { rename, writeFile } from 'node:fs/promises';\nimport { basename, dirname, join } from 'node:path';\nimport { fileURLToPath } from 'node:url';\n// Returns a temporary file\n// Example: for /some/file will return /some/.file.tmp\nfunction getTempFilename(file) {\n    const f = file instanceof URL ? fileURLToPath(file) : file.toString();\n    return join(dirname(f), `.${basename(f)}.tmp`);\n}\n// Retries an asynchronous operation with a delay between retries and a maximum retry count\nasync function retryAsyncOperation(fn, maxRetries, delayMs) {\n    for (let i = 0; i < maxRetries; i++) {\n        try {\n            return await fn();\n        }\n        catch (error) {\n            if (i < maxRetries - 1) {\n                await new Promise((resolve) => setTimeout(resolve, delayMs));\n            }\n            else {\n                throw error; // Rethrow the error if max retries reached\n            }\n        }\n    }\n}\nexport class Writer {\n    #filename;\n    #tempFilename;\n    #locked = false;\n    #prev = null;\n    #next = null;\n    #nextPromise = null;\n    #nextData = null;\n    // File is locked, add data for later\n    #add(data) {\n        // Only keep most recent data\n        this.#nextData = data;\n        // Create a singleton promise to resolve all next promises once next data is written\n        this.#nextPromise ||= new Promise((resolve, reject) => {\n            this.#next = [resolve, reject];\n        });\n        // Return a promise that will resolve at the same time as next promise\n        return new Promise((resolve, reject) => {\n            this.#nextPromise?.then(resolve).catch(reject);\n        });\n    }\n    // File isn't locked, write data\n    async #write(data) {\n        // Lock file\n        this.#locked = true;\n        try {\n            // Atomic write\n            await writeFile(this.#tempFilename, data, 'utf-8');\n            await retryAsyncOperation(async () => {\n                await rename(this.#tempFilename, this.#filename);\n            }, 10, 100);\n            // Call resolve\n            this.#prev?.[0]();\n        }\n        catch (err) {\n            // Call reject\n            if (err instanceof Error) {\n                this.#prev?.[1](err);\n            }\n            throw err;\n        }\n        finally {\n            // Unlock file\n            this.#locked = false;\n            this.#prev = this.#next;\n            this.#next = this.#nextPromise = null;\n            if (this.#nextData !== null) {\n                const nextData = this.#nextData;\n                this.#nextData = null;\n                await this.write(nextData);\n            }\n        }\n    }\n    constructor(filename) {\n        this.#filename = filename;\n        this.#tempFilename = getTempFilename(filename);\n    }\n    async write(data) {\n        return this.#locked ? this.#add(data) : this.#write(data);\n    }\n}\n","/**\n * toad-cache\n *\n * @copyright 2024 Igor Savin <kibertoad@gmail.com>\n * @license MIT\n * @version 3.7.0\n */\nclass FifoMap {\n  constructor(max = 1000, ttlInMsecs = 0) {\n    if (isNaN(max) || max < 0) {\n      throw new Error('Invalid max value')\n    }\n\n    if (isNaN(ttlInMsecs) || ttlInMsecs < 0) {\n      throw new Error('Invalid ttl value')\n    }\n\n    this.first = null;\n    this.items = new Map();\n    this.last = null;\n    this.max = max;\n    this.ttl = ttlInMsecs;\n  }\n\n  get size() {\n    return this.items.size\n  }\n\n  clear() {\n    this.items = new Map();\n    this.first = null;\n    this.last = null;\n  }\n\n  delete(key) {\n    if (this.items.has(key)) {\n      const deletedItem = this.items.get(key);\n\n      this.items.delete(key);\n\n      if (deletedItem.prev !== null) {\n        deletedItem.prev.next = deletedItem.next;\n      }\n\n      if (deletedItem.next !== null) {\n        deletedItem.next.prev = deletedItem.prev;\n      }\n\n      if (this.first === deletedItem) {\n        this.first = deletedItem.next;\n      }\n\n      if (this.last === deletedItem) {\n        this.last = deletedItem.prev;\n      }\n    }\n  }\n\n  deleteMany(keys) {\n    for (var i = 0; i < keys.length; i++) {\n      this.delete(keys[i]);\n    }\n  }\n\n  evict() {\n    if (this.size > 0) {\n      const item = this.first;\n\n      this.items.delete(item.key);\n\n      if (this.size === 0) {\n        this.first = null;\n        this.last = null;\n      } else {\n        this.first = item.next;\n        this.first.prev = null;\n      }\n    }\n  }\n\n  expiresAt(key) {\n    if (this.items.has(key)) {\n      return this.items.get(key).expiry\n    }\n  }\n\n  get(key) {\n    if (this.items.has(key)) {\n      const item = this.items.get(key);\n\n      if (this.ttl > 0 && item.expiry <= Date.now()) {\n        this.delete(key);\n        return\n      }\n\n      return item.value\n    }\n  }\n\n  getMany(keys) {\n    const result = [];\n\n    for (var i = 0; i < keys.length; i++) {\n      result.push(this.get(keys[i]));\n    }\n\n    return result\n  }\n\n  keys() {\n    return this.items.keys()\n  }\n\n  set(key, value) {\n    // Replace existing item\n    if (this.items.has(key)) {\n      const item = this.items.get(key);\n      item.value = value;\n\n      item.expiry = this.ttl > 0 ? Date.now() + this.ttl : this.ttl;\n\n      return\n    }\n\n    // Add new item\n    if (this.max > 0 && this.size === this.max) {\n      this.evict();\n    }\n\n    const item = {\n      expiry: this.ttl > 0 ? Date.now() + this.ttl : this.ttl,\n      key: key,\n      prev: this.last,\n      next: null,\n      value,\n    };\n    this.items.set(key, item);\n\n    if (this.size === 1) {\n      this.first = item;\n    } else {\n      this.last.next = item;\n    }\n\n    this.last = item;\n  }\n}class LruMap {\n  constructor(max = 1000, ttlInMsecs = 0) {\n    if (isNaN(max) || max < 0) {\n      throw new Error('Invalid max value')\n    }\n\n    if (isNaN(ttlInMsecs) || ttlInMsecs < 0) {\n      throw new Error('Invalid ttl value')\n    }\n\n    this.first = null;\n    this.items = new Map();\n    this.last = null;\n    this.max = max;\n    this.ttl = ttlInMsecs;\n  }\n\n  get size() {\n    return this.items.size\n  }\n\n  bumpLru(item) {\n    if (this.last === item) {\n      return // Item is already the last one, no need to bump\n    }\n\n    const last = this.last;\n    const next = item.next;\n    const prev = item.prev;\n\n    if (this.first === item) {\n      this.first = next;\n    }\n\n    item.next = null;\n    item.prev = last;\n    last.next = item;\n\n    if (prev !== null) {\n      prev.next = next;\n    }\n\n    if (next !== null) {\n      next.prev = prev;\n    }\n\n    this.last = item;\n  }\n\n  clear() {\n    this.items = new Map();\n    this.first = null;\n    this.last = null;\n  }\n\n  delete(key) {\n    if (this.items.has(key)) {\n      const item = this.items.get(key);\n\n      this.items.delete(key);\n\n      if (item.prev !== null) {\n        item.prev.next = item.next;\n      }\n\n      if (item.next !== null) {\n        item.next.prev = item.prev;\n      }\n\n      if (this.first === item) {\n        this.first = item.next;\n      }\n\n      if (this.last === item) {\n        this.last = item.prev;\n      }\n    }\n  }\n\n  deleteMany(keys) {\n    for (var i = 0; i < keys.length; i++) {\n      this.delete(keys[i]);\n    }\n  }\n\n  evict() {\n    if (this.size > 0) {\n      const item = this.first;\n\n      this.items.delete(item.key);\n\n      if (this.size === 0) {\n        this.first = null;\n        this.last = null;\n      } else {\n        this.first = item.next;\n        this.first.prev = null;\n      }\n    }\n  }\n\n  expiresAt(key) {\n    if (this.items.has(key)) {\n      return this.items.get(key).expiry\n    }\n  }\n\n  get(key) {\n    if (this.items.has(key)) {\n      const item = this.items.get(key);\n\n      // Item has already expired\n      if (this.ttl > 0 && item.expiry <= Date.now()) {\n        this.delete(key);\n        return\n      }\n\n      // Item is still fresh\n      this.bumpLru(item);\n      return item.value\n    }\n  }\n\n  getMany(keys) {\n    const result = [];\n\n    for (var i = 0; i < keys.length; i++) {\n      result.push(this.get(keys[i]));\n    }\n\n    return result\n  }\n\n  keys() {\n    return this.items.keys()\n  }\n\n  set(key, value) {\n    // Replace existing item\n    if (this.items.has(key)) {\n      const item = this.items.get(key);\n      item.value = value;\n\n      item.expiry = this.ttl > 0 ? Date.now() + this.ttl : this.ttl;\n\n      if (this.last !== item) {\n        this.bumpLru(item);\n      }\n\n      return\n    }\n\n    // Add new item\n    if (this.max > 0 && this.size === this.max) {\n      this.evict();\n    }\n\n    const item = {\n      expiry: this.ttl > 0 ? Date.now() + this.ttl : this.ttl,\n      key: key,\n      prev: this.last,\n      next: null,\n      value,\n    };\n    this.items.set(key, item);\n\n    if (this.size === 1) {\n      this.first = item;\n    } else {\n      this.last.next = item;\n    }\n\n    this.last = item;\n  }\n}class LruObject {\n  constructor(max = 1000, ttlInMsecs = 0) {\n    if (isNaN(max) || max < 0) {\n      throw new Error('Invalid max value')\n    }\n\n    if (isNaN(ttlInMsecs) || ttlInMsecs < 0) {\n      throw new Error('Invalid ttl value')\n    }\n\n    this.first = null;\n    this.items = Object.create(null);\n    this.last = null;\n    this.size = 0;\n    this.max = max;\n    this.ttl = ttlInMsecs;\n  }\n\n  bumpLru(item) {\n    if (this.last === item) {\n      return // Item is already the last one, no need to bump\n    }\n\n    const last = this.last;\n    const next = item.next;\n    const prev = item.prev;\n\n    if (this.first === item) {\n      this.first = next;\n    }\n\n    item.next = null;\n    item.prev = last;\n    last.next = item;\n\n    if (prev !== null) {\n      prev.next = next;\n    }\n\n    if (next !== null) {\n      next.prev = prev;\n    }\n\n    this.last = item;\n  }\n\n  clear() {\n    this.items = Object.create(null);\n    this.first = null;\n    this.last = null;\n    this.size = 0;\n  }\n\n  delete(key) {\n    if (Object.prototype.hasOwnProperty.call(this.items, key)) {\n      const item = this.items[key];\n\n      delete this.items[key];\n      this.size--;\n\n      if (item.prev !== null) {\n        item.prev.next = item.next;\n      }\n\n      if (item.next !== null) {\n        item.next.prev = item.prev;\n      }\n\n      if (this.first === item) {\n        this.first = item.next;\n      }\n\n      if (this.last === item) {\n        this.last = item.prev;\n      }\n    }\n  }\n\n  deleteMany(keys) {\n    for (var i = 0; i < keys.length; i++) {\n      this.delete(keys[i]);\n    }\n  }\n\n  evict() {\n    if (this.size > 0) {\n      const item = this.first;\n\n      delete this.items[item.key];\n\n      if (--this.size === 0) {\n        this.first = null;\n        this.last = null;\n      } else {\n        this.first = item.next;\n        this.first.prev = null;\n      }\n    }\n  }\n\n  expiresAt(key) {\n    if (Object.prototype.hasOwnProperty.call(this.items, key)) {\n      return this.items[key].expiry\n    }\n  }\n\n  get(key) {\n    if (Object.prototype.hasOwnProperty.call(this.items, key)) {\n      const item = this.items[key];\n\n      // Item has already expired\n      if (this.ttl > 0 && item.expiry <= Date.now()) {\n        this.delete(key);\n        return\n      }\n\n      // Item is still fresh\n      this.bumpLru(item);\n      return item.value\n    }\n  }\n\n  getMany(keys) {\n    const result = [];\n\n    for (var i = 0; i < keys.length; i++) {\n      result.push(this.get(keys[i]));\n    }\n\n    return result\n  }\n\n  keys() {\n    return Object.keys(this.items)\n  }\n\n  set(key, value) {\n    // Replace existing item\n    if (Object.prototype.hasOwnProperty.call(this.items, key)) {\n      const item = this.items[key];\n      item.value = value;\n\n      item.expiry = this.ttl > 0 ? Date.now() + this.ttl : this.ttl;\n\n      if (this.last !== item) {\n        this.bumpLru(item);\n      }\n\n      return\n    }\n\n    // Add new item\n    if (this.max > 0 && this.size === this.max) {\n      this.evict();\n    }\n\n    const item = {\n      expiry: this.ttl > 0 ? Date.now() + this.ttl : this.ttl,\n      key: key,\n      prev: this.last,\n      next: null,\n      value,\n    };\n    this.items[key] = item;\n\n    if (++this.size === 1) {\n      this.first = item;\n    } else {\n      this.last.next = item;\n    }\n\n    this.last = item;\n  }\n}class HitStatisticsRecord {\n  constructor() {\n    this.records = {};\n  }\n\n  initForCache(cacheId, currentTimeStamp) {\n    this.records[cacheId] = {\n      [currentTimeStamp]: {\n        cacheSize: 0,\n        hits: 0,\n        falsyHits: 0,\n        emptyHits: 0,\n        misses: 0,\n        expirations: 0,\n        evictions: 0,\n        invalidateOne: 0,\n        invalidateAll: 0,\n        sets: 0,\n      },\n    };\n  }\n\n  resetForCache(cacheId) {\n    for (let key of Object.keys(this.records[cacheId])) {\n      this.records[cacheId][key] = {\n        cacheSize: 0,\n        hits: 0,\n        falsyHits: 0,\n        emptyHits: 0,\n        misses: 0,\n        expirations: 0,\n        evictions: 0,\n        invalidateOne: 0,\n        invalidateAll: 0,\n        sets: 0,\n      };\n    }\n  }\n\n  getStatistics() {\n    return this.records\n  }\n}/**\n *\n * @param {Date} date\n * @returns {string}\n */\nfunction getTimestamp(date) {\n  return `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date\n    .getDate()\n    .toString()\n    .padStart(2, '0')}`\n}class HitStatistics {\n  constructor(cacheId, statisticTtlInHours, globalStatisticsRecord) {\n    this.cacheId = cacheId;\n    this.statisticTtlInHours = statisticTtlInHours;\n\n    this.collectionStart = new Date();\n    this.currentTimeStamp = getTimestamp(this.collectionStart);\n\n    this.records = globalStatisticsRecord || new HitStatisticsRecord();\n    this.records.initForCache(this.cacheId, this.currentTimeStamp);\n  }\n\n  get currentRecord() {\n    // safety net\n    /* c8 ignore next 14 */\n    if (!this.records.records[this.cacheId][this.currentTimeStamp]) {\n      this.records.records[this.cacheId][this.currentTimeStamp] = {\n        cacheSize: 0,\n        hits: 0,\n        falsyHits: 0,\n        emptyHits: 0,\n        misses: 0,\n        expirations: 0,\n        evictions: 0,\n        sets: 0,\n        invalidateOne: 0,\n        invalidateAll: 0,\n      };\n    }\n\n    return this.records.records[this.cacheId][this.currentTimeStamp]\n  }\n\n  hoursPassed() {\n    return (Date.now() - this.collectionStart) / 1000 / 60 / 60\n  }\n\n  addHit() {\n    this.archiveIfNeeded();\n    this.currentRecord.hits++;\n  }\n  addFalsyHit() {\n    this.archiveIfNeeded();\n    this.currentRecord.falsyHits++;\n  }\n\n  addEmptyHit() {\n    this.archiveIfNeeded();\n    this.currentRecord.emptyHits++;\n  }\n\n  addMiss() {\n    this.archiveIfNeeded();\n    this.currentRecord.misses++;\n  }\n\n  addEviction() {\n    this.archiveIfNeeded();\n    this.currentRecord.evictions++;\n  }\n\n  setCacheSize(currentSize) {\n    this.archiveIfNeeded();\n    this.currentRecord.cacheSize = currentSize;\n  }\n\n  addExpiration() {\n    this.archiveIfNeeded();\n    this.currentRecord.expirations++;\n  }\n\n  addSet() {\n    this.archiveIfNeeded();\n    this.currentRecord.sets++;\n  }\n\n  addInvalidateOne() {\n    this.archiveIfNeeded();\n    this.currentRecord.invalidateOne++;\n  }\n\n  addInvalidateAll() {\n    this.archiveIfNeeded();\n    this.currentRecord.invalidateAll++;\n  }\n\n  getStatistics() {\n    return this.records.getStatistics()\n  }\n\n  archiveIfNeeded() {\n    if (this.hoursPassed() >= this.statisticTtlInHours) {\n      this.collectionStart = new Date();\n      this.currentTimeStamp = getTimestamp(this.collectionStart);\n      this.records.initForCache(this.cacheId, this.currentTimeStamp);\n    }\n  }\n}class LruObjectHitStatistics extends LruObject {\n  constructor(max, ttlInMsecs, cacheId, globalStatisticsRecord, statisticTtlInHours) {\n    super(max || 1000, ttlInMsecs || 0);\n\n    if (!cacheId) {\n      throw new Error('Cache id is mandatory')\n    }\n\n    this.hitStatistics = new HitStatistics(\n      cacheId,\n      statisticTtlInHours !== undefined ? statisticTtlInHours : 24,\n      globalStatisticsRecord,\n    );\n  }\n\n  getStatistics() {\n    return this.hitStatistics.getStatistics()\n  }\n\n  set(key, value) {\n    super.set(key, value);\n    this.hitStatistics.addSet();\n    this.hitStatistics.setCacheSize(this.size);\n  }\n\n  evict() {\n    super.evict();\n    this.hitStatistics.addEviction();\n    this.hitStatistics.setCacheSize(this.size);\n  }\n\n  delete(key, isExpiration = false) {\n    super.delete(key);\n\n    if (!isExpiration) {\n      this.hitStatistics.addInvalidateOne();\n    }\n    this.hitStatistics.setCacheSize(this.size);\n  }\n\n  clear() {\n    super.clear();\n\n    this.hitStatistics.addInvalidateAll();\n    this.hitStatistics.setCacheSize(this.size);\n  }\n\n  get(key) {\n    if (Object.prototype.hasOwnProperty.call(this.items, key)) {\n      const item = this.items[key];\n\n      // Item has already expired\n      if (this.ttl > 0 && item.expiry <= Date.now()) {\n        this.delete(key, true);\n        this.hitStatistics.addExpiration();\n        return\n      }\n\n      // Item is still fresh\n      this.bumpLru(item);\n      if (!item.value) {\n        this.hitStatistics.addFalsyHit();\n      }\n      if (item.value === undefined || item.value === null || item.value === '') {\n        this.hitStatistics.addEmptyHit();\n      }\n      this.hitStatistics.addHit();\n      return item.value\n    }\n    this.hitStatistics.addMiss();\n  }\n}class FifoObject {\n  constructor(max = 1000, ttlInMsecs = 0) {\n    if (isNaN(max) || max < 0) {\n      throw new Error('Invalid max value')\n    }\n\n    if (isNaN(ttlInMsecs) || ttlInMsecs < 0) {\n      throw new Error('Invalid ttl value')\n    }\n\n    this.first = null;\n    this.items = Object.create(null);\n    this.last = null;\n    this.size = 0;\n    this.max = max;\n    this.ttl = ttlInMsecs;\n  }\n\n  clear() {\n    this.items = Object.create(null);\n    this.first = null;\n    this.last = null;\n    this.size = 0;\n  }\n\n  delete(key) {\n    if (Object.prototype.hasOwnProperty.call(this.items, key)) {\n      const deletedItem = this.items[key];\n\n      delete this.items[key];\n      this.size--;\n\n      if (deletedItem.prev !== null) {\n        deletedItem.prev.next = deletedItem.next;\n      }\n\n      if (deletedItem.next !== null) {\n        deletedItem.next.prev = deletedItem.prev;\n      }\n\n      if (this.first === deletedItem) {\n        this.first = deletedItem.next;\n      }\n\n      if (this.last === deletedItem) {\n        this.last = deletedItem.prev;\n      }\n    }\n  }\n\n  deleteMany(keys) {\n    for (var i = 0; i < keys.length; i++) {\n      this.delete(keys[i]);\n    }\n  }\n\n  evict() {\n    if (this.size > 0) {\n      const item = this.first;\n\n      delete this.items[item.key];\n\n      if (--this.size === 0) {\n        this.first = null;\n        this.last = null;\n      } else {\n        this.first = item.next;\n        this.first.prev = null;\n      }\n    }\n  }\n\n  expiresAt(key) {\n    if (Object.prototype.hasOwnProperty.call(this.items, key)) {\n      return this.items[key].expiry\n    }\n  }\n\n  get(key) {\n    if (Object.prototype.hasOwnProperty.call(this.items, key)) {\n      const item = this.items[key];\n\n      if (this.ttl > 0 && item.expiry <= Date.now()) {\n        this.delete(key);\n        return\n      }\n\n      return item.value\n    }\n  }\n\n  getMany(keys) {\n    const result = [];\n\n    for (var i = 0; i < keys.length; i++) {\n      result.push(this.get(keys[i]));\n    }\n\n    return result\n  }\n\n  keys() {\n    return Object.keys(this.items)\n  }\n\n  set(key, value) {\n    // Replace existing item\n    if (Object.prototype.hasOwnProperty.call(this.items, key)) {\n      const item = this.items[key];\n      item.value = value;\n\n      item.expiry = this.ttl > 0 ? Date.now() + this.ttl : this.ttl;\n\n      return\n    }\n\n    // Add new item\n    if (this.max > 0 && this.size === this.max) {\n      this.evict();\n    }\n\n    const item = {\n      expiry: this.ttl > 0 ? Date.now() + this.ttl : this.ttl,\n      key: key,\n      prev: this.last,\n      next: null,\n      value,\n    };\n    this.items[key] = item;\n\n    if (++this.size === 1) {\n      this.first = item;\n    } else {\n      this.last.next = item;\n    }\n\n    this.last = item;\n  }\n}export{FifoObject as Fifo,FifoMap,FifoObject,HitStatisticsRecord,LruObject as Lru,LruObjectHitStatistics as LruHitStatistics,LruMap,LruObject,LruObjectHitStatistics};","// @ts-check\n\n// @ts-ignore - #get-token is defined in \"imports\" in package.json\nimport { getToken } from \"./lib/get-token.js\";\n\n/**\n * @param {import(\".\").Options} options\n * @returns {Promise<import(\".\").Result>}\n */\nexport default async function githubAppJwt({\n  id,\n  privateKey,\n  now = Math.floor(Date.now() / 1000),\n}) {\n  // Private keys are often times configured as environment variables, in which case line breaks are escaped using `\\\\n`.\n  // Replace these here for convenience.\n  const privateKeyWithNewlines = privateKey.replace(/\\\\n/g, '\\n');\n\n  // When creating a JSON Web Token, it sets the \"issued at time\" (iat) to 30s\n  // in the past as we have seen people running situations where the GitHub API\n  // claimed the iat would be in future. It turned out the clocks on the\n  // different machine were not in sync.\n  const nowWithSafetyMargin = now - 30;\n  const expiration = nowWithSafetyMargin + 60 * 10; // JWT expiration time (10 minute maximum)\n\n  const payload = {\n    iat: nowWithSafetyMargin, // Issued at time\n    exp: expiration,\n    iss: id,\n  };\n\n  const token = await getToken({\n    privateKey: privateKeyWithNewlines,\n    payload,\n  });\n\n  return {\n    appId: id,\n    expiration,\n    token,\n  };\n}\n","// this can be removed once we only support Node 20+\nexport { subtle } from \"node:crypto\";\nimport { createPrivateKey } from \"node:crypto\";\n\nimport { isPkcs1 } from \"./utils.js\";\n\n// no-op, unfortunately there is no way to transform from PKCS8 or OpenSSH to PKCS1 with WebCrypto\nexport function convertPrivateKey(privateKey) {\n  if (!isPkcs1(privateKey)) return privateKey;\n\n  return createPrivateKey(privateKey).export({\n    type: \"pkcs8\",\n    format: \"pem\",\n  });\n}\n","// we don't @ts-check here because it chokes crypto which is a global API in modern JS runtime environments\n\nimport {\n  isPkcs1,\n  isOpenSsh,\n  getEncodedMessage,\n  getDERfromPEM,\n  string2ArrayBuffer,\n  base64encode,\n} from \"./utils.js\";\n\nimport { subtle, convertPrivateKey } from \"#crypto\";\n\n/**\n * @param {import('../internals').GetTokenOptions} options\n * @returns {Promise<string>}\n */\nexport async function getToken({ privateKey, payload }) {\n  const convertedPrivateKey = convertPrivateKey(privateKey);\n\n  // WebCrypto only supports PKCS#8, unfortunately\n  /* c8 ignore start */\n  if (isPkcs1(convertedPrivateKey)) {\n    throw new Error(\n      \"[universal-github-app-jwt] Private Key is in PKCS#1 format, but only PKCS#8 is supported. See https://github.com/gr2m/universal-github-app-jwt#private-key-formats\"\n    );\n  }\n  /* c8 ignore stop */\n\n  // WebCrypto does not support OpenSSH, unfortunately\n  if (isOpenSsh(convertedPrivateKey)) {\n    throw new Error(\n      \"[universal-github-app-jwt] Private Key is in OpenSSH format, but only PKCS#8 is supported. See https://github.com/gr2m/universal-github-app-jwt#private-key-formats\"\n    );\n  }\n\n  const algorithm = {\n    name: \"RSASSA-PKCS1-v1_5\",\n    hash: { name: \"SHA-256\" },\n  };\n\n  /** @type {import('../internals').Header} */\n  const header = { alg: \"RS256\", typ: \"JWT\" };\n\n  const privateKeyDER = getDERfromPEM(convertedPrivateKey);\n  const importedKey = await subtle.importKey(\n    \"pkcs8\",\n    privateKeyDER,\n    algorithm,\n    false,\n    [\"sign\"]\n  );\n\n  const encodedMessage = getEncodedMessage(header, payload);\n  const encodedMessageArrBuf = string2ArrayBuffer(encodedMessage);\n\n  const signatureArrBuf = await subtle.sign(\n    algorithm.name,\n    importedKey,\n    encodedMessageArrBuf\n  );\n\n  const encodedSignature = base64encode(signatureArrBuf);\n\n  return `${encodedMessage}.${encodedSignature}`;\n}\n","// we don't @ts-check here because it chokes on atob and btoa which are available in all modern JS runtime environments\n\n/**\n * @param {string} privateKey\n * @returns {boolean}\n */\nexport function isPkcs1(privateKey) {\n  return privateKey.includes(\"-----BEGIN RSA PRIVATE KEY-----\");\n}\n\n/**\n * @param {string} privateKey\n * @returns {boolean}\n */\nexport function isOpenSsh(privateKey) {\n  return privateKey.includes(\"-----BEGIN OPENSSH PRIVATE KEY-----\");\n}\n\n/**\n * @param {string} str\n * @returns {ArrayBuffer}\n */\nexport function string2ArrayBuffer(str) {\n  const buf = new ArrayBuffer(str.length);\n  const bufView = new Uint8Array(buf);\n  for (let i = 0, strLen = str.length; i < strLen; i++) {\n    bufView[i] = str.charCodeAt(i);\n  }\n  return buf;\n}\n\n/**\n * @param {string} pem\n * @returns {ArrayBuffer}\n */\nexport function getDERfromPEM(pem) {\n  const pemB64 = pem\n    .trim()\n    .split(\"\\n\")\n    .slice(1, -1) // Remove the --- BEGIN / END PRIVATE KEY ---\n    .join(\"\");\n\n  const decoded = atob(pemB64);\n  return string2ArrayBuffer(decoded);\n}\n\n/**\n * @param {import('../internals').Header} header\n * @param {import('../internals').Payload} payload\n * @returns {string}\n */\nexport function getEncodedMessage(header, payload) {\n  return `${base64encodeJSON(header)}.${base64encodeJSON(payload)}`;\n}\n\n/**\n * @param {ArrayBuffer} buffer\n * @returns {string}\n */\nexport function base64encode(buffer) {\n  var binary = \"\";\n  var bytes = new Uint8Array(buffer);\n  var len = bytes.byteLength;\n  for (var i = 0; i < len; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n\n  return fromBase64(btoa(binary));\n}\n\n/**\n * @param {string} base64\n * @returns {string}\n */\nfunction fromBase64(base64) {\n  return base64.replace(/=/g, \"\").replace(/\\+/g, \"-\").replace(/\\//g, \"_\");\n}\n\n/**\n * @param {Record<string,unknown>} obj\n * @returns {string}\n */\nfunction base64encodeJSON(obj) {\n  return fromBase64(btoa(JSON.stringify(obj)));\n}\n","export function getUserAgent() {\n  if (typeof navigator === \"object\" && \"userAgent\" in navigator) {\n    return navigator.userAgent;\n  }\n\n  if (typeof process === \"object\" && process.version !== undefined) {\n    return `Node.js/${process.version.substr(1)} (${process.platform}; ${\n      process.arch\n    })`;\n  }\n\n  return \"<environment undetectable>\";\n}\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]]\n  ]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","// Unique ID creation requires a high quality random # generator.  In node.js\n// this is pretty straight-forward - we use the crypto API.\n\nvar crypto = require('crypto');\n\nmodule.exports = function nodeRNG() {\n  return crypto.randomBytes(16);\n};\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/uuidjs/uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","/**\n * IPC Handlers Registration\n *\n * Registers all IPC communication channels between renderer and main process.\n * Provides secure bridge for PowerShell execution, file operations, configuration, and more.\n */\nimport * as fs from 'fs/promises';\nimport * as fsSync from 'fs';\nimport * as path from 'path';\nimport * as crypto from 'crypto';\nimport { ipcMain, dialog, shell } from 'electron';\nimport { PowerShellExecutionService } from './services/powerShellService';\nimport ModuleRegistry from './services/moduleRegistry';\nimport EnvironmentDetectionService from './services/environmentDetectionService';\nimport { MockLogicEngineService } from './services/mockLogicEngineService';\nimport { LogicEngineService } from './services/logicEngineService';\nimport { ProjectService } from './services/projectService';\nimport { DashboardService } from './services/dashboardService';\nimport { ProfileService } from './services/profileService';\nimport { DecisionTraceService } from './services/decisionTraceService';\nimport { ConsolidationEngine } from './services/consolidationEngine';\nimport { LicenseService } from './services/licenseService';\nimport { UpdateService } from './services/updateService';\nimport { ConfigService } from './services/configService';\n// Service instances\nlet psService;\nlet moduleRegistry;\nlet environmentDetectionService;\nlet mockLogicEngineService;\nlet logicEngineService;\nlet projectService;\nlet dashboardService;\nlet profileService;\nlet decisionTraceService;\nlet consolidationEngine;\nlet configService;\nlet licenseService;\nlet updateService;\n// Secure window management with proper lifecycle handling\nclass WindowManager {\n    window = null;\n    eventListeners = new Map();\n    setWindow(window) {\n        // Clean up previous window listeners\n        this.cleanup();\n        this.window = window;\n        if (window) {\n            // Set up window lifecycle listeners\n            const onClosed = () => {\n                this.window = null;\n                this.cleanup();\n            };\n            window.on('closed', onClosed);\n            this.eventListeners.set('closed', onClosed);\n        }\n    }\n    getWindow() {\n        return this.window && !this.window.isDestroyed() ? this.window : null;\n    }\n    hasWindow() {\n        return this.window !== null && !this.window.isDestroyed();\n    }\n    cleanup() {\n        // Remove all event listeners\n        this.eventListeners.forEach((listener, event) => {\n            if (this.window && !this.window.isDestroyed()) {\n                this.window.removeListener(event, listener);\n            }\n        });\n        this.eventListeners.clear();\n    }\n}\nconst windowManager = new WindowManager();\nfunction setMainWindow(window) {\n    windowManager.setWindow(window);\n}\nfunction getMainWindow() {\n    return windowManager.getWindow();\n}\nfunction hasMainWindow() {\n    return windowManager.hasWindow();\n}\n// Configuration storage\nconst configPath = path.join(process.cwd(), 'config', 'app-config.json');\nlet appConfig = {};\n/**\n * Initialize services\n */\nasync function initializeServices() {\n    console.log('Initializing IPC services...');\n    // Initialize PowerShell Execution Service\n    // Always use the fixed deployment directory for PowerShell modules\n    // This ensures modules are found regardless of where Electron is launched from\n    const deploymentDir = 'C:\\\\enterprisediscovery';\n    const cwd = process.cwd();\n    const baseDir = cwd.endsWith('guiv2') ? path.join(cwd, '..') : deploymentDir;\n    console.log(`[IPC] PowerShell scripts base directory: ${baseDir}`);\n    psService = new PowerShellExecutionService({\n        maxPoolSize: 10,\n        minPoolSize: 2,\n        sessionTimeout: 300000, // 5 minutes\n        queueSize: 100,\n        enableModuleCaching: true,\n        defaultTimeout: 60000, // 1 minute\n        scriptsBaseDir: baseDir,\n    });\n    await psService.initialize();\n    // Initialize Module Registry\n    const registryPath = path.join(process.cwd(), 'config', 'module-registry.json');\n    moduleRegistry = new ModuleRegistry(psService, registryPath);\n    try {\n        await moduleRegistry.loadRegistry();\n    }\n    catch (error) {\n        console.warn(`Could not load module registry: ${error instanceof Error ? error.message : String(error)}`);\n    }\n    // Initialize Environment Detection Service\n    environmentDetectionService = new EnvironmentDetectionService(psService);\n    console.log('Environment Detection Service initialized');\n    // Initialize Mock Logic Engine Service\n    mockLogicEngineService = MockLogicEngineService.getInstance();\n    console.log('Mock Logic Engine Service initialized');\n    // Initialize Real Logic Engine Service\n    const defaultDataRoot = path.join('C:', 'discoverydata', 'ljpops', 'Raw');\n    logicEngineService = LogicEngineService.getInstance(defaultDataRoot);\n    console.log('Logic Engine Service initialized');\n    // Initialize Project Service\n    projectService = new ProjectService();\n    console.log('Project Service initialized');\n    // Initialize Dashboard Service (depends on LogicEngine and Project Service)\n    dashboardService = new DashboardService(logicEngineService, projectService);\n    console.log('Dashboard Service initialized');\n    // Initialize Profile Service with auto-discovery\n    profileService = new ProfileService();\n    await profileService.initialize();\n    // Initialize FileSystem Service\n    const { FileSystemService } = await import('./services/FileSystemService');\n    const fsService = new FileSystemService();\n    console.log('Profile Service initialized');\n    console.log('FileSystem Service initialized');\n    // Get active profile and load its data into Logic Engine\n    const activeProfile = await profileService.getCurrentProfile();\n    if (activeProfile) {\n        console.log(`[ProfileService] Active profile found: ${activeProfile.companyName}`);\n        const dataPath = profileService.getCompanyDataPath(activeProfile.companyName);\n        const rawPath = path.join(dataPath, 'Raw');\n        console.log(`[ProfileService] Loading data from: ${rawPath}`);\n        // Update Logic Engine to use active profile's data path\n        logicEngineService = LogicEngineService.getInstance(rawPath);\n        // Load all CSV data asynchronously (don't block startup)\n        logicEngineService.loadAllAsync(rawPath).then((success) => {\n            if (success) {\n                console.log(`[LogicEngine] Successfully loaded data for profile: ${activeProfile.companyName}`);\n            }\n            else {\n                console.warn(`[LogicEngine] Failed to load data for profile: ${activeProfile.companyName}`);\n            }\n        }).catch((error) => {\n            console.error(`[LogicEngine] Error loading data: ${error}`);\n        });\n    }\n    else {\n        console.warn('[ProfileService] No active profile found - Logic Engine will use default hardcoded path');\n    }\n    // Load application configuration\n    try {\n        const configData = await fs.readFile(configPath, 'utf-8');\n        appConfig = JSON.parse(configData);\n        console.log('Loaded application configuration');\n    }\n    catch (error) {\n        if (error instanceof Error && 'code' in error && error.code === 'ENOENT') {\n            console.log('No configuration file found, starting with defaults');\n            appConfig = {};\n            // Create config directory\n            await fs.mkdir(path.dirname(configPath), { recursive: true });\n        }\n        else {\n            console.error(`Failed to load config: ${error instanceof Error ? error.message : String(error)}`);\n        }\n    }\n    // Initialize ConfigService\n    configService = new ConfigService();\n    await configService.initialize();\n    console.log('Config Service initialized');\n    // Initialize LicenseService\n    licenseService = new LicenseService(configService);\n    await licenseService.initialize();\n    console.log('License Service initialized');\n    // Initialize UpdateService\n    updateService = new UpdateService(configService, licenseService);\n    await updateService.initialize();\n    console.log('Update Service initialized');\n    console.log('IPC services initialized successfully');\n}\n/**\n * Save application configuration to disk\n */\nasync function saveConfig() {\n    try {\n        await fs.mkdir(path.dirname(configPath), { recursive: true });\n        await fs.writeFile(configPath, JSON.stringify(appConfig, null, 2), 'utf-8');\n    }\n    catch (error) {\n        console.error(`Failed to save config: ${error instanceof Error ? error.message : String(error)}`);\n        throw error;\n    }\n}\n/**\n * Sanitize file path to prevent directory traversal attacks\n */\nfunction sanitizePath(filePath) {\n    // Normalize path and resolve to absolute\n    const normalized = path.normalize(filePath);\n    const resolved = path.resolve(normalized);\n    // Ensure path doesn't try to escape base directory\n    // This is a basic check - in production, define allowed base directories\n    return resolved;\n}\n/**\n * Register all IPC handlers\n * @param window The main browser window for sending events to renderer\n */\nexport async function registerIpcHandlers(window) {\n    console.error('[IPC] ================================================');\n    console.error('[IPC] registerIpcHandlers called with window:', !!window);\n    console.error('[IPC] ================================================');\n    // Store window reference for stream events\n    if (window) {\n        setMainWindow(window);\n        console.error('[IPC]  Window stored, verified:', hasMainWindow());\n    }\n    else {\n        console.error('[IPC]  CRITICAL WARNING: No window provided to registerIpcHandlers!');\n    }\n    // Initialize services first\n    await initializeServices();\n    console.error('[IPC] After initializeServices, window still exists:', hasMainWindow());\n    // ========================================\n    // PowerShell Stream Event Forwarding\n    // ========================================\n    // Forward all 6 PowerShell streams to renderer process\n    if (hasMainWindow()) {\n        psService.on('stream:output', (data) => {\n            const win = getMainWindow();\n            win?.webContents.send('powershell:stream:output', data);\n        });\n        psService.on('stream:error', (data) => {\n            const win = getMainWindow();\n            win?.webContents.send('powershell:stream:error', data);\n        });\n        psService.on('stream:warning', (data) => {\n            const win = getMainWindow();\n            win?.webContents.send('powershell:stream:warning', data);\n        });\n        psService.on('stream:verbose', (data) => {\n            const win = getMainWindow();\n            win?.webContents.send('powershell:stream:verbose', data);\n        });\n        psService.on('stream:debug', (data) => {\n            const win = getMainWindow();\n            win?.webContents.send('powershell:stream:debug', data);\n        });\n        psService.on('stream:information', (data) => {\n            const win = getMainWindow();\n            win?.webContents.send('powershell:stream:information', data);\n        });\n        // Forward legacy output event (backward compatibility)\n        psService.on('output', (data) => {\n            const win = getMainWindow();\n            win?.webContents.send('powershell:output', data);\n        });\n        // Forward cancellation events\n        psService.on('execution:cancelled', (data) => {\n            const win = getMainWindow();\n            win?.webContents.send('powershell:execution:cancelled', data);\n        });\n        console.log('PowerShell stream event forwarding configured');\n        // Forward Environment Detection events\n        environmentDetectionService.on('detection:started', (data) => {\n            const win = getMainWindow();\n            win?.webContents.send('environment:detection:started', data);\n        });\n        environmentDetectionService.on('detection:progress', (data) => {\n            const win = getMainWindow();\n            win?.webContents.send('environment:detection:progress', data);\n        });\n        environmentDetectionService.on('detection:completed', (data) => {\n            const win = getMainWindow();\n            win?.webContents.send('environment:detection:completed', data);\n        });\n        environmentDetectionService.on('detection:failed', (data) => {\n            const win = getMainWindow();\n            win?.webContents.send('environment:detection:failed', data);\n        });\n        environmentDetectionService.on('detection:cancelled', (data) => {\n            const win = getMainWindow();\n            win?.webContents.send('environment:detection:cancelled', data);\n        });\n        console.log('Environment Detection event forwarding configured');\n    }\n    // ========================================\n    // PowerShell Execution Handlers\n    // ========================================\n    ipcMain.handle('powershell:executeScript', async (_, params) => {\n        try {\n            // Check if this is an inline script or a script file\n            if ('script' in params) {\n                // Inline script execution\n                console.log(`IPC: executeInlineScript - ${params.script.substring(0, 50)}...`);\n                const startTime = Date.now();\n                try {\n                    const result = await psService.executeRawCommand(params.script, params.timeout || 30000);\n                    const duration = Date.now() - startTime;\n                    return {\n                        success: true,\n                        data: result,\n                        duration,\n                        warnings: [],\n                    };\n                }\n                catch (error) {\n                    const duration = Date.now() - startTime;\n                    return {\n                        success: false,\n                        error: error instanceof Error ? error.message : String(error),\n                        duration,\n                        warnings: [],\n                    };\n                }\n            }\n            else {\n                // Script file execution\n                console.log(`IPC: executeScript - ${params.scriptPath}`);\n                return await psService.executeScript(params.scriptPath, params.args || [], params.options);\n            }\n        }\n        catch (error) {\n            console.error(`executeScript error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error),\n                duration: 0,\n                warnings: [],\n            };\n        }\n    });\n    ipcMain.handle('powershell:executeModule', async (_, params) => {\n        try {\n            console.log(`IPC: executeModule - ${params.modulePath} :: ${params.functionName}`);\n            return await psService.executeModule(params.modulePath, params.functionName, params.parameters || {}, params.options);\n        }\n        catch (error) {\n            console.error(`executeModule error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error),\n                duration: 0,\n                warnings: [],\n            };\n        }\n    });\n    // Discovery module execution with credentials\n    ipcMain.handle('powershell:executeDiscoveryModule', async (_, params) => {\n        try {\n            console.log(`[IPC] executeDiscoveryModule - ${params.moduleName} for ${params.companyName}`);\n            return await psService.executeDiscoveryModule(params.moduleName, params.companyName, params.additionalParams || {}, params.options);\n        }\n        catch (error) {\n            console.error(`executeDiscoveryModule error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error),\n                duration: 0,\n                warnings: [],\n            };\n        }\n    });\n    ipcMain.handle('powershell:cancel', async (_, token) => {\n        try {\n            console.log(`IPC: cancelExecution - ${token}`);\n            return psService.cancelExecution(token);\n        }\n        catch (error) {\n            console.error(`cancelExecution error: ${error instanceof Error ? error.message : String(error)}`);\n            return false;\n        }\n    });\n    ipcMain.handle('powershell:getStatistics', async () => {\n        try {\n            return psService.getStatistics();\n        }\n        catch (error) {\n            console.error(`getStatistics error: ${error instanceof Error ? error.message : String(error)}`);\n            return null;\n        }\n    });\n    // New enhanced PowerShell handlers\n    ipcMain.handle('powershell:discoverModules', async () => {\n        try {\n            console.log('IPC: discoverModules');\n            return await psService.discoverModules();\n        }\n        catch (error) {\n            console.error(`discoverModules error: ${error instanceof Error ? error.message : String(error)}`);\n            return [];\n        }\n    });\n    ipcMain.handle('powershell:executeParallel', async (_, scripts) => {\n        try {\n            console.log(`IPC: executeParallel - ${scripts.length} scripts`);\n            return await psService.executeParallel(scripts);\n        }\n        catch (error) {\n            console.error(`executeParallel error: ${error instanceof Error ? error.message : String(error)}`);\n            return scripts.map(() => ({\n                success: false,\n                error: error instanceof Error ? error.message : String(error),\n                duration: 0,\n                warnings: [],\n            }));\n        }\n    });\n    ipcMain.handle('powershell:executeWithRetry', async (_, params, retries, backoff) => {\n        try {\n            console.log(`IPC: executeWithRetry - ${params.scriptPath} (retries: ${retries})`);\n            return await psService.executeWithRetry(params.scriptPath, params.args || [], params.options, retries, backoff);\n        }\n        catch (error) {\n            console.error(`executeWithRetry error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error),\n                duration: 0,\n                warnings: [],\n            };\n        }\n    });\n    // ========================================\n    // Module Registry Handlers\n    // ========================================\n    ipcMain.handle('modules:getByCategory', async (_, category) => {\n        try {\n            return moduleRegistry.getModulesByCategory(category);\n        }\n        catch (error) {\n            console.error(`getModulesByCategory error: ${error instanceof Error ? error.message : String(error)}`);\n            return [];\n        }\n    });\n    ipcMain.handle('modules:getAll', async () => {\n        try {\n            return moduleRegistry.getAllModules();\n        }\n        catch (error) {\n            console.error(`getAllModules error: ${error instanceof Error ? error.message : String(error)}`);\n            return [];\n        }\n    });\n    ipcMain.handle('modules:getById', async (_, moduleId) => {\n        try {\n            return moduleRegistry.getModule(moduleId);\n        }\n        catch (error) {\n            console.error(`getModule error: ${error instanceof Error ? error.message : String(error)}`);\n            return null;\n        }\n    });\n    ipcMain.handle('modules:search', async (_, query) => {\n        try {\n            return moduleRegistry.searchModules(query);\n        }\n        catch (error) {\n            console.error(`searchModules error: ${error instanceof Error ? error.message : String(error)}`);\n            return [];\n        }\n    });\n    ipcMain.handle('modules:execute', async (_, moduleId, params, options) => {\n        try {\n            console.log(`IPC: executeModule - ${moduleId}`);\n            return await moduleRegistry.executeModule(moduleId, params, options);\n        }\n        catch (error) {\n            console.error(`executeModule error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error),\n                duration: 0,\n                warnings: [],\n            };\n        }\n    });\n    ipcMain.handle('modules:getStatistics', async () => {\n        try {\n            return moduleRegistry.getStatistics();\n        }\n        catch (error) {\n            console.error(`getModuleStatistics error: ${error instanceof Error ? error.message : String(error)}`);\n            return null;\n        }\n    });\n    // ========================================\n    // File Operation Handlers\n    // ========================================\n    ipcMain.handle('file:read', async (_, filePath, encoding = 'utf-8') => {\n        try {\n            const sanitized = sanitizePath(filePath);\n            console.log(`IPC: readFile - ${sanitized}`);\n            return await fs.readFile(sanitized, encoding);\n        }\n        catch (error) {\n            console.error(`readFile error: ${error instanceof Error ? error.message : String(error)}`);\n            throw new Error(`Failed to read file: ${error instanceof Error ? error.message : String(error)}`);\n        }\n    });\n    ipcMain.handle('file:write', async (_, filePath, content, encoding = 'utf-8') => {\n        try {\n            const sanitized = sanitizePath(filePath);\n            console.log(`IPC: writeFile - ${sanitized}`);\n            // Ensure directory exists\n            await fs.mkdir(path.dirname(sanitized), { recursive: true });\n            await fs.writeFile(sanitized, content, encoding);\n        }\n        catch (error) {\n            console.error(`writeFile error: ${error instanceof Error ? error.message : String(error)}`);\n            throw new Error(`Failed to write file: ${error instanceof Error ? error.message : String(error)}`);\n        }\n    });\n    ipcMain.handle('file:exists', async (_, filePath) => {\n        try {\n            const sanitized = sanitizePath(filePath);\n            await fs.access(sanitized);\n            return true;\n        }\n        catch {\n            return false;\n        }\n    });\n    ipcMain.handle('file:delete', async (_, filePath) => {\n        try {\n            const sanitized = sanitizePath(filePath);\n            console.log(`IPC: deleteFile - ${sanitized}`);\n            await fs.unlink(sanitized);\n        }\n        catch (error) {\n            console.error(`deleteFile error: ${error instanceof Error ? error.message : String(error)}`);\n            throw new Error(`Failed to delete file: ${error instanceof Error ? error.message : String(error)}`);\n        }\n    });\n    ipcMain.handle('file:list', async (_, dirPath, pattern) => {\n        try {\n            const sanitized = sanitizePath(dirPath);\n            console.log(`IPC: listFiles - ${sanitized}`);\n            let files = await fs.readdir(sanitized);\n            // Apply pattern filter if provided\n            if (pattern) {\n                const regex = new RegExp(pattern.replace(/\\*/g, '.*').replace(/\\?/g, '.'));\n                files = files.filter(f => regex.test(f));\n            }\n            // Return full paths\n            return files.map(f => path.join(sanitized, f));\n        }\n        catch (error) {\n            console.error(`listFiles error: ${error instanceof Error ? error.message : String(error)}`);\n            throw new Error(`Failed to list files: ${error instanceof Error ? error.message : String(error)}`);\n        }\n    });\n    ipcMain.handle('file:stat', async (_, filePath) => {\n        try {\n            const sanitized = sanitizePath(filePath);\n            const stats = await fs.stat(sanitized);\n            return {\n                size: stats.size,\n                isFile: stats.isFile(),\n                isDirectory: stats.isDirectory(),\n                mtime: stats.mtime,\n                atime: stats.atime,\n                ctime: stats.ctime,\n            };\n        }\n        catch (error) {\n            // Don't log ENOENT errors - these are expected when checking if optional files exist\n            if (error instanceof Error && 'code' in error && error.code === 'ENOENT') {\n                return null; // File doesn't exist - return null instead of throwing\n            }\n            // Log other errors (permissions, etc.)\n            console.error(`statFile error: ${error instanceof Error ? error.message : String(error)}`);\n            throw new Error(`Failed to stat file: ${error instanceof Error ? error.message : String(error)}`);\n        }\n    });\n    // Count CSV rows efficiently (without loading entire file into memory for display)\n    ipcMain.handle('file:countCsvRows', async (_, filePath) => {\n        try {\n            const sanitized = sanitizePath(filePath);\n            const content = await fs.readFile(sanitized, 'utf-8');\n            const lines = content.split('\\n').filter(line => line.trim());\n            return Math.max(0, lines.length - 1); // Subtract header row\n        }\n        catch (error) {\n            // File doesn't exist or can't be read - return 0\n            if (error instanceof Error && 'code' in error && error.code === 'ENOENT') {\n                return 0;\n            }\n            console.error(`countCsvRows error: ${error instanceof Error ? error.message : String(error)}`);\n            return 0;\n        }\n    });\n    // Get discovery module status from status file\n    ipcMain.handle('discovery:getModuleStatus', async (_, moduleId, companyName) => {\n        try {\n            const statusPath = path.join('C:\\\\DiscoveryData', companyName, 'DiscoveryStatus', `${moduleId}.json`);\n            const content = await fs.readFile(statusPath, 'utf-8');\n            return JSON.parse(content);\n        }\n        catch (error) {\n            // No status file exists - return null\n            return null;\n        }\n    });\n    // ========================================\n    // Additional File System Handlers\n    // ========================================\n    // DUPLICATE:   ipcMain.handle('fs:readFile', async (_, args: { path: string; encoding?: string }) => {\n    // DUPLICATE:     try {\n    // DUPLICATE:       const { path: filePath, encoding = 'utf8' } = args;\n    // DUPLICATE:       const sanitized = sanitizePath(filePath);\n    // DUPLICATE:       console.log(`IPC: fs:readFile - ${sanitized}`);\n    // DUPLICATE:       const result = await fs.readFile(sanitized, encoding as BufferEncoding);\n    // DUPLICATE:       return { success: true, data: result };\n    // DUPLICATE:     } catch (error: unknown) {\n    // DUPLICATE:       console.error(`fs:readFile error: ${error instanceof Error ? error.message : String(error)}`);\n    // DUPLICATE:       return {\n    // DUPLICATE:         success: false,\n    // DUPLICATE:         error: error instanceof Error ? error.message : String(error)\n    // DUPLICATE:       };\n    // DUPLICATE:     }\n    // DUPLICATE:   });\n    ipcMain.handle('fs:writeFile', async (_, args) => {\n        try {\n            const { path: filePath, content, encoding = 'utf8' } = args;\n            const sanitized = sanitizePath(filePath);\n            console.log(`IPC: fs:writeFile - ${sanitized}`);\n            // Ensure directory exists\n            await fs.mkdir(path.dirname(sanitized), { recursive: true });\n            await fs.writeFile(sanitized, content, encoding);\n            return { success: true };\n        }\n        catch (error) {\n            console.error(`fs:writeFile error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    ipcMain.handle('fs:exists', async (_, args) => {\n        try {\n            const { path: filePath } = args;\n            const sanitized = sanitizePath(filePath);\n            await fs.access(sanitized);\n            return { success: true, exists: true };\n        }\n        catch {\n            return { success: true, exists: false };\n        }\n    });\n    ipcMain.handle('fs:mkdir', async (_, args) => {\n        try {\n            const { path: dirPath, recursive = false } = args;\n            const sanitized = sanitizePath(dirPath);\n            console.log(`IPC: fs:mkdir - ${sanitized}`);\n            await fs.mkdir(sanitized, { recursive });\n            return { success: true };\n        }\n        catch (error) {\n            console.error(`fs:mkdir error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    ipcMain.handle('fs:rmdir', async (_, args) => {\n        try {\n            const { path: dirPath, recursive = false } = args;\n            const sanitized = sanitizePath(dirPath);\n            console.log(`IPC: fs:rmdir - ${sanitized}`);\n            await fs.rm(sanitized, { recursive });\n            return { success: true };\n        }\n        catch (error) {\n            console.error(`fs:rmdir error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    ipcMain.handle('fs:unlink', async (_, args) => {\n        try {\n            const { path: filePath } = args;\n            const sanitized = sanitizePath(filePath);\n            console.log(`IPC: fs:unlink - ${sanitized}`);\n            await fs.unlink(sanitized);\n            return { success: true };\n        }\n        catch (error) {\n            console.error(`fs:unlink error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    ipcMain.handle('fs:readdir', async (_, args) => {\n        try {\n            const { path: dirPath, options } = args;\n            const sanitized = sanitizePath(dirPath);\n            console.log(`IPC: fs:readdir - ${sanitized}`);\n            const result = await fs.readdir(sanitized, options);\n            return { success: true, data: result };\n        }\n        catch (error) {\n            console.error(`fs:readdir error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    ipcMain.handle('fs:stat', async (_, args) => {\n        try {\n            const { path: filePath } = args;\n            const sanitized = sanitizePath(filePath);\n            const stats = await fs.stat(sanitized);\n            return {\n                success: true,\n                data: {\n                    size: stats.size,\n                    isFile: stats.isFile(),\n                    isDirectory: stats.isDirectory(),\n                    isSymbolicLink: stats.isSymbolicLink(),\n                    created: stats.birthtime,\n                    modified: stats.mtime,\n                    accessed: stats.atime,\n                }\n            };\n        }\n        catch (error) {\n            console.error(`fs:stat error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    // ========================================\n    // Configuration Handlers\n    // ========================================\n    ipcMain.handle('config:get', async (_, key) => {\n        return appConfig[key];\n    });\n    ipcMain.handle('config:set', async (_, key, value) => {\n        appConfig[key] = value;\n        await saveConfig();\n    });\n    ipcMain.handle('config:getAll', async () => {\n        return { ...appConfig };\n    });\n    ipcMain.handle('config:delete', async (_, key) => {\n        delete appConfig[key];\n        await saveConfig();\n    });\n    ipcMain.handle('config:reset', async () => {\n        appConfig = {};\n        await saveConfig();\n    });\n    // ========================================\n    // Profile Management Handlers\n    // ========================================\n    /**\n     * Load all source profiles (includes auto-discovered profiles from C:\\DiscoveryData)\n     */\n    ipcMain.handle('profile:loadSourceProfiles', async () => {\n        try {\n            const profiles = await profileService.getProfiles();\n            console.log(`Loaded ${profiles.length} source profiles`);\n            return profiles;\n        }\n        catch (error) {\n            console.error(`loadSourceProfiles error: ${error instanceof Error ? error.message : String(error)}`);\n            return [];\n        }\n    });\n    // NOTE: 'profile:loadTargetProfiles' handler is registered in ./ipc/targetProfileHandlers.ts\n    /**\n     * Get active source profile\n     */\n    ipcMain.handle('profile:getActiveSource', async () => {\n        try {\n            const profile = await profileService.getCurrentProfile();\n            return profile;\n        }\n        catch (error) {\n            console.error(`getActiveSource error: ${error instanceof Error ? error.message : String(error)}`);\n            return null;\n        }\n    });\n    /**\n     * Get active target profile\n     */\n    ipcMain.handle('profile:getActiveTarget', async () => {\n        try {\n            // For now, return same as active profile (target profiles not yet implemented)\n            const profile = await profileService.getCurrentProfile();\n            return profile;\n        }\n        catch (error) {\n            console.error(`getActiveTarget error: ${error instanceof Error ? error.message : String(error)}`);\n            return null;\n        }\n    });\n    /**\n     * Test connection for a profile\n     * Validates Azure credentials by making actual API call to Microsoft Graph\n     * Uses Node.js fetch() for direct OAuth2 testing (more reliable than PowerShell)\n     */\n    ipcMain.handle('profile:testConnection', async (_, profileIdOrData) => {\n        try {\n            console.log(`[IPC profile:testConnection] ========================================`);\n            console.log(`[IPC profile:testConnection] Starting connection test`);\n            let profileId;\n            // Extract profileId from input\n            if (typeof profileIdOrData === 'object') {\n                profileId = profileIdOrData.profileId;\n                console.log(`[IPC profile:testConnection] Testing with provided credentials for profile: ${profileId}`);\n            }\n            else {\n                profileId = profileIdOrData;\n                console.log(`[IPC profile:testConnection] Testing stored credentials for profile: ${profileId}`);\n            }\n            // Use CredentialService's testConnection method which handles:\n            // - Credential retrieval (ENV, safeStorage, legacy DPAPI)\n            // - DPAPI decryption with multiple fallback strategies\n            // - Credential structure validation\n            // - Graph API OAuth2 token request\n            console.log(`[IPC profile:testConnection] Initializing CredentialService`);\n            const { CredentialService } = await import('./services/credentialService');\n            const credService = new CredentialService();\n            await credService.initialize();\n            console.log(`[IPC profile:testConnection] Calling credentialService.testConnection()`);\n            const result = await credService.testConnection(profileId);\n            console.log(`[IPC profile:testConnection] Test complete: ${result.success ? ' SUCCESS' : ' FAILED'}`);\n            console.log(`[IPC profile:testConnection] ========================================`);\n            // Return result in expected format\n            return {\n                success: result.success,\n                decryptionSuccess: result.decryptionSuccess,\n                connectionSuccess: result.connectionSuccess,\n                message: result.details || (result.success ? 'Successfully authenticated with Azure' : undefined),\n                error: result.error,\n                data: result.success ? {\n                    connectionType: 'AzureAD',\n                    hasCredentials: true,\n                    hasSecret: true\n                } : undefined\n            };\n        }\n        catch (error) {\n            console.error(`[IPC profile:testConnection] Unhandled error:`, error);\n            console.log(`[IPC profile:testConnection] ========================================`);\n            return {\n                success: false,\n                decryptionSuccess: false,\n                connectionSuccess: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * Clear credentials for a profile\n     * Forces reload from legacy DPAPI file on next access\n     * Useful for testing and forcing credential refresh\n     */\n    ipcMain.handle('profile:clearCredentials', async (_, profileId) => {\n        try {\n            console.log(`[IPC profile:clearCredentials] ========================================`);\n            console.log(`[IPC profile:clearCredentials] Clearing credentials for profile: ${profileId}`);\n            const { CredentialService } = await import('./services/credentialService');\n            const credService = new CredentialService();\n            await credService.initialize();\n            await credService.deleteCredential(profileId);\n            console.log(`[IPC profile:clearCredentials]  Credentials cleared successfully`);\n            console.log(`[IPC profile:clearCredentials] Next credential load will use DPAPI file`);\n            console.log(`[IPC profile:clearCredentials] ========================================`);\n            return { success: true };\n        }\n        catch (error) {\n            console.error(`[IPC profile:clearCredentials]  Error:`, error);\n            console.log(`[IPC profile:clearCredentials] ========================================`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * Create a new source profile\n     */\n    ipcMain.handle('profile:createSource', async (_, profile) => {\n        try {\n            const newProfile = await profileService.createProfile(profile);\n            console.log(`Created source profile: ${newProfile.id}`);\n            return { success: true, profile: newProfile };\n        }\n        catch (error) {\n            console.error(`createSource error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    // NOTE: 'profile:createTarget' handler is registered in ./ipc/targetProfileHandlers.ts\n    /**\n     * Update a source profile\n     */\n    ipcMain.handle('profile:updateSource', async (_, id, updates) => {\n        try {\n            // CRITICAL: Get the full existing profile first before merging updates\n            // This prevents undefined values (like companyName) from breaking updateProfile()\n            const profiles = await profileService.getProfiles();\n            const existing = profiles.find(p => p.id === id);\n            if (!existing) {\n                throw new Error(`Profile with ID \"${id}\" not found`);\n            }\n            // Merge updates with existing profile to ensure all required fields are present\n            const updatedProfile = { ...existing, ...updates };\n            const profile = await profileService.updateProfile(updatedProfile);\n            console.log(`Updated source profile: ${id}`);\n            return { success: true, profile };\n        }\n        catch (error) {\n            console.error(`updateSource error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    // NOTE: 'profile:updateTarget' handler is registered in ./ipc/targetProfileHandlers.ts\n    /**\n     * Delete a source profile\n     */\n    ipcMain.handle('profile:deleteSource', async (_, profileId) => {\n        try {\n            const success = await profileService.deleteProfile(profileId);\n            console.log(`Deleted source profile: ${profileId}`);\n            return { success };\n        }\n        catch (error) {\n            console.error(`deleteSource error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    // NOTE: 'profile:deleteTarget' handler is registered in ./ipc/targetProfileHandlers.ts\n    /**\n     * Set active source profile\n     */\n    ipcMain.handle('profile:setActiveSource', async (_, profileId) => {\n        try {\n            const success = await profileService.setCurrentProfile(profileId);\n            console.log(`Set active source profile: ${profileId}`);\n            // Update Logic Engine data path to use this profile's data\n            const dataPath = profileService.getCompanyDataPath(profileId);\n            const rawPath = path.join(dataPath, 'Raw');\n            console.log(`Updating Logic Engine data path to: ${rawPath}`);\n            // Reinitialize Logic Engine with new data path\n            logicEngineService = LogicEngineService.getInstance(rawPath);\n            return { success, dataPath: rawPath };\n        }\n        catch (error) {\n            console.error(`setActiveSource error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * Set active target profile\n     * DUPLICATE - handler in src/main/ipc/targetProfileHandlers.ts is active\n     */\n    // DUPLICATE: ipcMain.handle('profile:setActiveTarget', async (_, profileId: string) => {\n    //   try {\n    //     const profileService = getProfileService();\n    //     await profileService.setActiveTargetProfile(profileId);\n    //     console.log(`Set active target profile: ${profileId}`);\n    //     return { success: true };\n    //   } catch (error: unknown) {\n    //     console.error(`setActiveTarget error: ${error instanceof Error ? error.message : String(error)}`);\n    //     return {\n    //       success: false,\n    //       error: error instanceof Error ? error.message : String(error)\n    //     };\n    //   }\n    // });\n    /**\n     * Refresh profiles (re-run auto-discovery)\n     */\n    ipcMain.handle('profile:refresh', async () => {\n        try {\n            await profileService.refreshProfiles();\n            const sourceProfiles = await profileService.getSourceProfiles();\n            console.log(`Refreshed profiles: ${sourceProfiles.length} source profiles found`);\n            return { success: true, profiles: sourceProfiles };\n        }\n        catch (error) {\n            console.error(`refresh profiles error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * Get profile data path for a source profile\n     */\n    ipcMain.handle('profile:getDataPath', async (_, profileId) => {\n        try {\n            const profiles = await profileService.getProfiles();\n            const profile = profiles.find(p => p.id === profileId);\n            if (!profile) {\n                throw new Error(`Profile with ID \"${profileId}\" not found`);\n            }\n            const dataPath = profileService.getCompanyDataPath(profile.companyName);\n            return { success: true, dataPath };\n        }\n        catch (error) {\n            console.error(`getDataPath error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    // ========================================\n    // Credential Management Handlers\n    // ========================================\n    /**\n     * Load credentials for a profile\n     * Uses precedence: ENV > safeStorage > Legacy File\n     */\n    ipcMain.handle('credentials:load', async (_, args) => {\n        const { profileId } = args;\n        try {\n            console.log(`IPC: credentials:load - ${profileId}`);\n            const { CredentialService } = await import('./services/credentialService');\n            const credService = new CredentialService();\n            await credService.initialize();\n            const creds = await credService.getCredential(profileId);\n            if (creds) {\n                // Return sanitized credentials (no secrets to renderer)\n                return {\n                    ok: true,\n                    credentials: {\n                        tenantId: creds.tenantId,\n                        clientId: creds.clientId,\n                        hasSecret: !!(creds.clientSecret || creds.password),\n                        connectionType: creds.connectionType,\n                        username: creds.username,\n                    }\n                };\n            }\n            return { ok: false, error: 'No credentials found for profile' };\n        }\n        catch (error) {\n            console.error(`credentials:load error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                ok: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * Save credentials for a profile\n     */\n    ipcMain.handle('credentials:save', async (_, args) => {\n        const { profileId, username, password, connectionType, domain } = args;\n        try {\n            console.log(`IPC: credentials:save - ${profileId}`);\n            const { CredentialService } = await import('./services/credentialService');\n            const credService = new CredentialService();\n            await credService.initialize();\n            await credService.storeCredential(profileId, username, password, connectionType, domain);\n            return { ok: true };\n        }\n        catch (error) {\n            console.error(`credentials:save error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                ok: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * Delete credentials for a profile\n     */\n    ipcMain.handle('credentials:delete', async (_, args) => {\n        const { profileId } = args;\n        try {\n            console.log(`IPC: credentials:delete - ${profileId}`);\n            const { CredentialService } = await import('./services/credentialService');\n            const credService = new CredentialService();\n            await credService.initialize();\n            await credService.deleteCredential(profileId);\n            return { ok: true };\n        }\n        catch (error) {\n            console.error(`credentials:delete error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                ok: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * Check if credentials exist for a profile\n     */\n    ipcMain.handle('credentials:exists', async (_, args) => {\n        const { profileId } = args;\n        try {\n            const { CredentialService } = await import('./services/credentialService');\n            const credService = new CredentialService();\n            await credService.initialize();\n            const exists = await credService.hasCredential(profileId);\n            return { ok: true, exists };\n        }\n        catch (error) {\n            console.error(`credentials:exists error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                ok: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    // ========================================\n    // License Management Handlers\n    // ========================================\n    /**\n     * Activate a new license key\n     */\n    ipcMain.handle('license:activate', async (_, licenseKey) => {\n        try {\n            const result = await licenseService.activateLicense(licenseKey);\n            return result;\n        }\n        catch (error) {\n            console.error(`license:activate error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * Get current license information\n     */\n    ipcMain.handle('license:getInfo', async () => {\n        try {\n            const info = await licenseService.getLicenseInfo();\n            return { success: true, licenseInfo: info };\n        }\n        catch (error) {\n            console.error(`license:getInfo error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * Check if license is valid\n     */\n    ipcMain.handle('license:isValid', async () => {\n        try {\n            const isValid = await licenseService.isLicenseValid();\n            return { success: true, isValid };\n        }\n        catch (error) {\n            console.error(`license:isValid error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * Get detailed license information\n     */\n    ipcMain.handle('license:getDetails', async () => {\n        try {\n            const details = await licenseService.getLicenseDetails();\n            return { success: true, details };\n        }\n        catch (error) {\n            console.error(`license:getDetails error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * Check if a specific feature is enabled\n     */\n    ipcMain.handle('license:hasFeature', async (_, featureId) => {\n        try {\n            const hasFeature = await licenseService.hasFeature(featureId);\n            return { success: true, hasFeature };\n        }\n        catch (error) {\n            console.error(`license:hasFeature error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * Get customer ID\n     */\n    ipcMain.handle('license:getCustomerId', async () => {\n        try {\n            const customerId = await licenseService.getCustomerId();\n            return { success: true, customerId };\n        }\n        catch (error) {\n            console.error(`license:getCustomerId error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * Deactivate current license\n     */\n    ipcMain.handle('license:deactivate', async () => {\n        try {\n            await licenseService.deactivateLicense();\n            return { success: true };\n        }\n        catch (error) {\n            console.error(`license:deactivate error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * Refresh license validation\n     */\n    ipcMain.handle('license:refresh', async () => {\n        try {\n            const info = await licenseService.refreshLicense();\n            return { success: true, licenseInfo: info };\n        }\n        catch (error) {\n            console.error(`license:refresh error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    // ========================================\n    // Update Management Handlers\n    // ========================================\n    /**\n     * Check for available updates\n     */\n    ipcMain.handle('update:check', async () => {\n        try {\n            const updateInfo = await updateService.checkForUpdates();\n            return { success: true, updateInfo };\n        }\n        catch (error) {\n            console.error(`update:check error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * Download update package\n     */\n    ipcMain.handle('update:download', async (_, updateInfo) => {\n        try {\n            const filePath = await updateService.downloadUpdate(updateInfo);\n            return { success: true, filePath };\n        }\n        catch (error) {\n            console.error(`update:download error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * Apply downloaded update\n     */\n    ipcMain.handle('update:apply', async (_, installerPath, mode = 'prompt') => {\n        try {\n            await updateService.applyUpdate(installerPath, mode);\n            return { success: true };\n        }\n        catch (error) {\n            console.error(`update:apply error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * Rollback to previous version\n     */\n    ipcMain.handle('update:rollback', async () => {\n        try {\n            await updateService.rollback();\n            return { success: true };\n        }\n        catch (error) {\n            console.error(`update:rollback error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * Get update history\n     */\n    ipcMain.handle('update:getHistory', async () => {\n        try {\n            const history = await updateService.getUpdateHistory();\n            return { success: true, history };\n        }\n        catch (error) {\n            console.error(`update:getHistory error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * Enable/disable automatic updates\n     */\n    ipcMain.handle('update:setAutoUpdate', async (_, enabled) => {\n        try {\n            await updateService.setAutoUpdateEnabled(enabled);\n            return { success: true };\n        }\n        catch (error) {\n            console.error(`update:setAutoUpdate error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * Listen for update events\n     */\n    updateService.on('update-available', (updateInfo) => {\n        const window = getMainWindow();\n        if (window) {\n            window.webContents.send('update:available', updateInfo);\n        }\n    });\n    updateService.on('download-progress', (progress) => {\n        const window = getMainWindow();\n        if (window) {\n            window.webContents.send('update:download-progress', progress);\n        }\n    });\n    updateService.on('download-complete', (data) => {\n        const window = getMainWindow();\n        if (window) {\n            window.webContents.send('update:download-complete', data);\n        }\n    });\n    updateService.on('install-started', () => {\n        const window = getMainWindow();\n        if (window) {\n            window.webContents.send('update:install-started');\n        }\n    });\n    updateService.on('install-complete', () => {\n        const window = getMainWindow();\n        if (window) {\n            window.webContents.send('update:install-complete');\n        }\n    });\n    /**\n     * Listen for license events\n     */\n    licenseService.on('license-activated', (licenseInfo) => {\n        const window = getMainWindow();\n        if (window) {\n            window.webContents.send('license:activated', licenseInfo);\n        }\n    });\n    licenseService.on('license-deactivated', () => {\n        const window = getMainWindow();\n        if (window) {\n            window.webContents.send('license:deactivated');\n        }\n    });\n    // ========================================\n    // System / App Handlers\n    // ========================================\n    ipcMain.handle('system:getAppVersion', async () => {\n        return process.env.npm_package_version || '1.0.0';\n    });\n    ipcMain.handle('system:getDataPath', async () => {\n        return process.cwd();\n    });\n    ipcMain.handle('system:openExternal', async (_, target) => {\n        try {\n            await shell.openExternal(target);\n        }\n        catch (error) {\n            console.error(`openExternal error: ${error instanceof Error ? error.message : String(error)}`);\n            throw new Error(`Failed to open external: ${error instanceof Error ? error.message : String(error)}`);\n        }\n    });\n    ipcMain.handle('system:showOpenDialog', async (_, options) => {\n        try {\n            const result = await dialog.showOpenDialog(options);\n            return result.canceled ? null : result.filePaths;\n        }\n        catch (error) {\n            console.error(`showOpenDialog error: ${error instanceof Error ? error.message : String(error)}`);\n            return null;\n        }\n    });\n    ipcMain.handle('system:showSaveDialog', async (_, options) => {\n        try {\n            const result = await dialog.showSaveDialog(options);\n            return result.canceled ? null : result.filePath;\n        }\n        catch (error) {\n            console.error(`showSaveDialog error: ${error instanceof Error ? error.message : String(error)}`);\n            return null;\n        }\n    });\n    // ========================================\n    // Window Management Handlers\n    // ========================================\n    ipcMain.handle('window:minimize', async () => {\n        try {\n            const win = getMainWindow();\n            if (win) {\n                win.minimize();\n                return { success: true };\n            }\n            return { success: false, error: 'Main window not available' };\n        }\n        catch (error) {\n            console.error(`window:minimize error: ${error instanceof Error ? error.message : String(error)}`);\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    ipcMain.handle('window:maximize', async () => {\n        try {\n            const win = getMainWindow();\n            if (win) {\n                if (win.isMaximized()) {\n                    win.unmaximize();\n                }\n                else {\n                    win.maximize();\n                }\n                return { success: true };\n            }\n            return { success: false, error: 'Main window not available' };\n        }\n        catch (error) {\n            console.error(`window:maximize error: ${error instanceof Error ? error.message : String(error)}`);\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    ipcMain.handle('window:close', async () => {\n        try {\n            const win = getMainWindow();\n            if (win) {\n                win.close();\n                return { success: true };\n            }\n            return { success: false, error: 'Main window not available' };\n        }\n        catch (error) {\n            console.error(`window:close error: ${error instanceof Error ? error.message : String(error)}`);\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    ipcMain.handle('window:restore', async () => {\n        try {\n            const win = getMainWindow();\n            if (win) {\n                win.restore();\n                return { success: true };\n            }\n            return { success: false, error: 'Main window not available' };\n        }\n        catch (error) {\n            console.error(`window:restore error: ${error instanceof Error ? error.message : String(error)}`);\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    ipcMain.handle('window:isMaximized', async () => {\n        try {\n            const win = getMainWindow();\n            if (win) {\n                return { success: true, isMaximized: win.isMaximized() };\n            }\n            return { success: false, error: 'Main window not available' };\n        }\n        catch (error) {\n            console.error(`window:isMaximized error: ${error instanceof Error ? error.message : String(error)}`);\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    // ========================================\n    // Environment Detection Handlers\n    // ========================================\n    ipcMain.handle('environment:detect', async (_, config) => {\n        try {\n            console.log('IPC: detectEnvironment');\n            return await environmentDetectionService.detectEnvironment(config);\n        }\n        catch (error) {\n            console.error(`detectEnvironment error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                id: 'error',\n                startTime: new Date(),\n                endTime: new Date(),\n                status: 'failed',\n                detectedEnvironment: 'unknown',\n                detectedServices: [],\n                recommendations: [],\n                totalServicesFound: 0,\n                confidence: 0,\n                errors: [{ timestamp: new Date(), serviceType: 'system', message: error instanceof Error ? error.message : String(error) }],\n                warnings: [], // TODO: Define proper warning type\n            };\n        }\n    });\n    ipcMain.handle('environment:validateCredentials', async (_, provider, credentials) => {\n        try {\n            console.log(`IPC: validateCredentials - ${provider}`);\n            return await environmentDetectionService.validateCredentials(provider, credentials);\n        }\n        catch (error) {\n            console.error(`validateCredentials error: ${error instanceof Error ? error.message : String(error)}`);\n            return { valid: false, message: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    ipcMain.handle('environment:cancel', async (_, detectionId) => {\n        try {\n            console.log(`IPC: cancelDetection - ${detectionId}`);\n            return await environmentDetectionService.cancelDetection(detectionId);\n        }\n        catch (error) {\n            console.error(`cancelDetection error: ${error instanceof Error ? error.message : String(error)}`);\n            return false;\n        }\n    });\n    ipcMain.handle('environment:getStatistics', async () => {\n        try {\n            return environmentDetectionService.getStatistics();\n        }\n        catch (error) {\n            console.error(`getEnvironmentStatistics error: ${error instanceof Error ? error.message : String(error)}`);\n            return { activeDetections: 0, totalDetectionsRun: 0 };\n        }\n    });\n    // ========================================\n    // File Watcher Handlers\n    // ========================================\n    ipcMain.handle('filewatcher:start', async (_, profileId) => {\n        try {\n            console.log(`IPC: filewatcher:start for profile \"${profileId}\"`);\n            const { getFileWatcherService } = await import('./services/fileWatcherService');\n            const fileWatcher = getFileWatcherService();\n            const win = getMainWindow();\n            if (win) {\n                fileWatcher.setMainWindow(win);\n            }\n            await fileWatcher.watchProfile(profileId);\n            return { success: true, profileId };\n        }\n        catch (error) {\n            console.error(`filewatcher:start error: ${error instanceof Error ? error.message : String(error)}`);\n            throw new Error(`Failed to start file watcher: ${error instanceof Error ? error.message : String(error)}`);\n        }\n    });\n    ipcMain.handle('filewatcher:stop', async (_, profileId) => {\n        try {\n            console.log(`IPC: filewatcher:stop for profile \"${profileId}\"`);\n            const { getFileWatcherService } = await import('./services/fileWatcherService');\n            const fileWatcher = getFileWatcherService();\n            await fileWatcher.stopWatching(profileId);\n            return { success: true, profileId };\n        }\n        catch (error) {\n            console.error(`filewatcher:stop error: ${error instanceof Error ? error.message : String(error)}`);\n            throw new Error(`Failed to stop file watcher: ${error instanceof Error ? error.message : String(error)}`);\n        }\n    });\n    ipcMain.handle('filewatcher:stopAll', async () => {\n        try {\n            console.log('IPC: filewatcher:stopAll');\n            const { getFileWatcherService } = await import('./services/fileWatcherService');\n            const fileWatcher = getFileWatcherService();\n            await fileWatcher.stopAll();\n            return { success: true };\n        }\n        catch (error) {\n            console.error(`filewatcher:stopAll error: ${error instanceof Error ? error.message : String(error)}`);\n            throw new Error(`Failed to stop all file watchers: ${error instanceof Error ? error.message : String(error)}`);\n        }\n    });\n    ipcMain.handle('filewatcher:getWatchedFiles', async () => {\n        try {\n            const { getFileWatcherService } = await import('./services/fileWatcherService');\n            const fileWatcher = getFileWatcherService();\n            return fileWatcher.getWatchedFiles();\n        }\n        catch (error) {\n            console.error(`filewatcher:getWatchedFiles error: ${error instanceof Error ? error.message : String(error)}`);\n            return [];\n        }\n    });\n    ipcMain.handle('filewatcher:getStatistics', async () => {\n        try {\n            const { getFileWatcherService } = await import('./services/fileWatcherService');\n            const fileWatcher = getFileWatcherService();\n            return fileWatcher.getStatistics();\n        }\n        catch (error) {\n            console.error(`filewatcher:getStatistics error: ${error instanceof Error ? error.message : String(error)}`);\n            return {\n                activeWatchers: 0,\n                watchedDirectories: [],\n                totalEvents: 0,\n                eventsByType: { added: 0, changed: 0, deleted: 0 }\n            };\n        }\n    });\n    // ========================================\n    // Logic Engine Handlers (Epic 4)\n    // ========================================\n    /**\n     * IPC Handler: logic-engine:load-all\n     *\n     * Loads all discovery data from CSV files into the Logic Engine.\n     * Performs data correlation, inference rule application, and graph building.\n     *\n     * @param profilePath - Optional path to profile data directory\n     * @returns Success status and load statistics\n     */\n    ipcMain.handle('logic-engine:load-all', async (_, args) => {\n        const { profilePath } = args;\n        try {\n            console.log(`IPC: logic-engine:load-all - ${profilePath || 'default'}`);\n            // Set up progress event listener\n            const progressHandler = (progress) => {\n                const win = getMainWindow();\n                if (win) {\n                    win.webContents.send('logic-engine:progress', progress);\n                }\n            };\n            const loadedHandler = (data) => {\n                const win = getMainWindow();\n                if (win) {\n                    win.webContents.send('logic-engine:loaded', data);\n                }\n            };\n            const errorHandler = (error) => {\n                const win = getMainWindow();\n                if (win) {\n                    win.webContents.send('logic-engine:error', error);\n                }\n            };\n            logicEngineService.on('progress', progressHandler);\n            logicEngineService.on('loaded', loadedHandler);\n            logicEngineService.on('error', errorHandler);\n            // Perform the load\n            const success = await logicEngineService.loadAllAsync(profilePath);\n            // Remove listeners\n            logicEngineService.removeListener('progress', progressHandler);\n            logicEngineService.removeListener('loaded', loadedHandler);\n            logicEngineService.removeListener('error', errorHandler);\n            return {\n                success,\n                statistics: success ? logicEngineService['lastLoadStats'] : null\n            };\n        }\n        catch (error) {\n            console.error('logic-engine:load-all error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * IPC Handler: logic-engine:get-user-detail\n     *\n     * Retrieves comprehensive user detail projection with all correlated data.\n     * Includes groups, devices, apps, permissions, risks, and migration hints.\n     *\n     * @param userId - User SID or UPN\n     * @returns UserDetailProjection with complete user context\n     */\n    ipcMain.handle('logic-engine:get-user-detail', async (_, args) => {\n        const { userId } = args;\n        try {\n            console.log(`IPC: logic-engine:get-user-detail - ${userId}`);\n            if (!userId || typeof userId !== 'string') {\n                throw new Error('Invalid userId parameter');\n            }\n            const projection = await logicEngineService.buildUserDetailProjection(userId);\n            if (!projection) {\n                return {\n                    success: false,\n                    error: `User not found: ${userId}`\n                };\n            }\n            return {\n                success: true,\n                data: projection\n            };\n        }\n        catch (error) {\n            console.error('logic-engine:get-user-detail error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * IPC Handler: logic-engine:get-statistics\n     *\n     * Returns current data load statistics from the Logic Engine.\n     *\n     * @returns Data load statistics including entity counts and inference metrics\n     */\n    ipcMain.handle('logic-engine:get-statistics', async () => {\n        try {\n            return {\n                success: true,\n                data: {\n                    statistics: logicEngineService['lastLoadStats'],\n                    lastLoadTime: logicEngineService.getLastLoadTime(),\n                    isLoading: logicEngineService.getIsLoading()\n                }\n            };\n        }\n        catch (error) {\n            console.error('logic-engine:get-statistics error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * IPC Handler: logic-engine:invalidate-cache\n     *\n     * Forces the Logic Engine to reload data on next access.\n     * Useful after external data changes.\n     *\n     * @returns Success status\n     */\n    ipcMain.handle('logic-engine:invalidate-cache', async () => {\n        try {\n            // Clear file load times to force reload\n            logicEngineService['fileLoadTimes'].clear();\n            return {\n                success: true\n            };\n        }\n        catch (error) {\n            console.error('logic-engine:invalidate-cache error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    // ========================================\n    // Dashboard & Project Handlers (Dashboard Enhancement)\n    // ========================================\n    /**\n     * IPC Handler: dashboard:getStats\n     *\n     * Get aggregated dashboard statistics from Logic Engine\n     */\n    ipcMain.handle('dashboard:getStats', async (_, profileName) => {\n        try {\n            console.log('[IPC dashboard:getStats] Received profileName:', profileName, 'type:', typeof profileName);\n            const stats = await dashboardService.getStats(profileName);\n            return { success: true, data: stats };\n        }\n        catch (error) {\n            console.error('dashboard:getStats error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * IPC Handler: dashboard:getProjectTimeline\n     *\n     * Get project timeline information\n     */\n    ipcMain.handle('dashboard:getProjectTimeline', async (_, profileName) => {\n        try {\n            console.log('[IPC dashboard:getProjectTimeline] Received profileName:', profileName, 'type:', typeof profileName);\n            const timeline = await dashboardService.getProjectTimeline(profileName);\n            return { success: true, data: timeline };\n        }\n        catch (error) {\n            console.error('dashboard:getProjectTimeline error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * IPC Handler: dashboard:getSystemHealth\n     *\n     * Get system health status\n     */\n    ipcMain.handle('dashboard:getSystemHealth', async () => {\n        try {\n            const health = await dashboardService.getSystemHealth();\n            return { success: true, data: health };\n        }\n        catch (error) {\n            console.error('dashboard:getSystemHealth error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * IPC Handler: dashboard:getRecentActivity\n     *\n     * Get recent activity from logs\n     */\n    ipcMain.handle('dashboard:getRecentActivity', async (_, profileName, limit = 10) => {\n        try {\n            const activities = await dashboardService.getRecentActivity(profileName, limit);\n            return { success: true, data: activities };\n        }\n        catch (error) {\n            console.error('dashboard:getRecentActivity error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * IPC Handler: dashboard:acknowledgeAlert\n     *\n     * Acknowledge a system alert\n     */\n    ipcMain.handle('dashboard:acknowledgeAlert', async (_, alertId) => {\n        try {\n            await dashboardService.acknowledgeAlert(alertId);\n            return { success: true };\n        }\n        catch (error) {\n            console.error('dashboard:acknowledgeAlert error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    // ========================================\n    // Migration Analysis Handlers (TASK 5)\n    // ========================================\n    /**\n     * IPC Handler: logicEngine:analyzeMigrationComplexity\n     *\n     * Analyze migration complexity for a user\n     * Returns complexity score with level and contributing factors\n     */\n    ipcMain.handle('logicEngine:analyzeMigrationComplexity', async (_, userId) => {\n        try {\n            console.log(`Analyzing migration complexity for user: ${userId}`);\n            if (!userId || typeof userId !== 'string') {\n                throw new Error('Invalid userId parameter');\n            }\n            // Call Logic Engine complexity analysis\n            const complexity = await logicEngineService.analyzeMigrationComplexity(userId);\n            return {\n                success: true,\n                data: complexity\n            };\n        }\n        catch (error) {\n            console.error('logicEngine:analyzeMigrationComplexity error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * IPC Handler: logicEngine:batchAnalyzeMigrationComplexity\n     *\n     * Batch analyze migration complexity for multiple users\n     */\n    ipcMain.handle('logicEngine:batchAnalyzeMigrationComplexity', async (_, userIds) => {\n        try {\n            console.log(`Batch analyzing migration complexity for ${userIds.length} users`);\n            if (!Array.isArray(userIds) || userIds.length === 0) {\n                throw new Error('Invalid userIds parameter');\n            }\n            // Call Logic Engine batch analysis\n            const results = await logicEngineService.batchAnalyzeMigrationComplexity(userIds);\n            // Convert Map to object for JSON serialization\n            const resultsObj = {};\n            results.forEach((value, key) => {\n                resultsObj[key] = value;\n            });\n            return {\n                success: true,\n                data: resultsObj\n            };\n        }\n        catch (error) {\n            console.error('logicEngine:batchAnalyzeMigrationComplexity error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * IPC Handler: logicEngine:getComplexityStatistics\n     *\n     * Get complexity statistics for all analyzed users\n     */\n    ipcMain.handle('logicEngine:getComplexityStatistics', async () => {\n        try {\n            const stats = logicEngineService.getComplexityStatistics();\n            return {\n                success: true,\n                data: stats\n            };\n        }\n        catch (error) {\n            console.error('logicEngine:getComplexityStatistics error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * IPC Handler: logicEngine:forceReload\n     *\n     * Force reload all data from CSV files (bypasses cache)\n     */\n    ipcMain.handle('logicEngine:forceReload', async (_, profilePath) => {\n        try {\n            console.log('[LogicEngine] Force reloading data from CSV files...');\n            const success = await logicEngineService.loadAllAsync(profilePath, true); // Pass true to force reload\n            if (success) {\n                console.log('[LogicEngine] Force reload completed successfully');\n                return { success: true };\n            }\n            else {\n                return { success: false, error: 'Failed to reload data' };\n            }\n        }\n        catch (error) {\n            console.error('logicEngine:forceReload error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * IPC Handler: logicEngine:getAllUsers\n     *\n     * Get all users from the Logic Engine\n     */\n    ipcMain.handle('logicEngine:getAllUsers', async () => {\n        try {\n            const users = logicEngineService.getAllUsers();\n            console.log(`[LogicEngine] Retrieved ${users.length} users`);\n            return {\n                success: true,\n                data: users\n            };\n        }\n        catch (error) {\n            console.error('logicEngine:getAllUsers error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * IPC Handler: logicEngine:getAllGroups\n     *\n     * Get all groups from the Logic Engine\n     */\n    ipcMain.handle('logicEngine:getAllGroups', async () => {\n        try {\n            const groups = logicEngineService.getAllGroups();\n            console.log(`[LogicEngine] Retrieved ${groups.length} groups`);\n            return {\n                success: true,\n                data: groups\n            };\n        }\n        catch (error) {\n            console.error('logicEngine:getAllGroups error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * IPC Handler: logicEngine:getAllDevices\n     *\n     * Get all devices from the Logic Engine\n     */\n    ipcMain.handle('logicEngine:getAllDevices', async () => {\n        try {\n            const devices = logicEngineService.getAllDevices();\n            console.log(`[LogicEngine] Retrieved ${devices.length} devices`);\n            return {\n                success: true,\n                data: devices\n            };\n        }\n        catch (error) {\n            console.error('logicEngine:getAllDevices error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * IPC Handler: logicEngine:getAllApplications\n     *\n     * Get all applications from the Logic Engine\n     */\n    ipcMain.handle('logicEngine:getAllApplications', async () => {\n        try {\n            const apps = logicEngineService.getAllApplications();\n            console.log(`[LogicEngine] Retrieved ${apps.length} applications`);\n            return {\n                success: true,\n                data: apps\n            };\n        }\n        catch (error) {\n            console.error('logicEngine:getAllApplications error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * IPC Handler: logicEngine:getAllMailboxes\n     *\n     * Get all mailboxes from Logic Engine\n     */\n    ipcMain.handle('logicEngine:getAllMailboxes', async () => {\n        try {\n            const mailboxes = logicEngineService.getAllMailboxes();\n            return { success: true, data: mailboxes };\n        }\n        catch (error) {\n            console.error('logicEngine:getAllMailboxes error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * IPC Handler: project:getConfiguration\n     *\n     * Get project configuration for a profile\n     */\n    ipcMain.handle('project:getConfiguration', async (_, profileName) => {\n        try {\n            const config = await projectService.loadProjectConfig(profileName);\n            return { success: true, data: config };\n        }\n        catch (error) {\n            console.error('project:getConfiguration error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * IPC Handler: project:saveConfiguration\n     *\n     * Save project configuration\n     */\n    ipcMain.handle('project:saveConfiguration', async (_, profileName, config) => {\n        try {\n            await projectService.saveProjectConfig(profileName, config);\n            return { success: true };\n        }\n        catch (error) {\n            console.error('project:saveConfiguration error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * IPC Handler: project:updateStatus\n     *\n     * Update project status\n     */\n    ipcMain.handle('project:updateStatus', async (_, profileName, status) => {\n        try {\n            await projectService.updateProjectStatus(profileName, status);\n            return { success: true };\n        }\n        catch (error) {\n            console.error('project:updateStatus error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * IPC Handler: project:addWave\n     *\n     * Add a migration wave\n     */\n    ipcMain.handle('project:addWave', async (_, profileName, wave) => {\n        try {\n            await projectService.addMigrationWave(profileName, wave);\n            return { success: true };\n        }\n        catch (error) {\n            console.error('project:addWave error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * IPC Handler: project:updateWaveStatus\n     *\n     * Update wave status\n     */\n    ipcMain.handle('project:updateWaveStatus', async (_, profileName, waveId, status) => {\n        try {\n            await projectService.updateWaveStatus(profileName, waveId, status);\n            return { success: true };\n        }\n        catch (error) {\n            console.error('project:updateWaveStatus error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    // ========================================\n    // User Detail Handlers (Epic 1 Task 1.2)\n    // ========================================\n    /**\n     * IPC Handler: get-user-detail\n     *\n     * Retrieves comprehensive user detail projection from LogicEngineService.\n     * Currently using MockLogicEngineService until Epic 4 completes.\n     *\n     * @param userId - User SID or UPN\n     * @returns UserDetailProjection with all correlated data\n     */\n    ipcMain.handle('get-user-detail', async (_, args) => {\n        const { userId } = args;\n        try {\n            console.log(`IPC: get-user-detail - ${userId}`);\n            if (!userId || typeof userId !== 'string') {\n                throw new Error('Invalid userId parameter');\n            }\n            // Use mock service for now (will be replaced with real LogicEngineService in Epic 4)\n            const userDetail = await mockLogicEngineService.getUserDetailAsync(userId);\n            if (!userDetail) {\n                return {\n                    success: false,\n                    error: `User not found: ${userId}`,\n                    data: null,\n                };\n            }\n            return {\n                success: true,\n                data: userDetail,\n            };\n        }\n        catch (error) {\n            console.error('get-user-detail error:', error);\n            return {\n                success: false,\n                error: (error instanceof Error ? error.message : String(error)) || 'Failed to retrieve user details',\n                data: null,\n            };\n        }\n    });\n    /**\n     * IPC Handler: clear-user-detail-cache\n     *\n     * Clears cached user detail data for a specific user.\n     * Forces fresh data retrieval on next load.\n     */\n    ipcMain.handle('clear-user-detail-cache', async (_, args) => {\n        const { userId } = args;\n        try {\n            console.log(`IPC: clear-user-detail-cache - ${userId}`);\n            mockLogicEngineService.clearUserDetailCache(userId);\n            return { success: true };\n        }\n        catch (error) {\n            console.error('clear-user-detail-cache error:', error);\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    /**\n     * IPC Handler: export-user-snapshot\n     *\n     * Exports user detail snapshot to JSON or CSV file.\n     *\n     * @param userDetail - UserDetailProjection to export\n     * @param format - 'json' or 'csv'\n     * @param fileName - Output file name\n     */\n    ipcMain.handle('export-user-snapshot', async (_, args) => {\n        const { userDetail, format, fileName } = args;\n        try {\n            console.log(`IPC: export-user-snapshot - ${fileName} (${format})`);\n            // Use downloads directory\n            const downloadsPath = path.join(process.env.USERPROFILE || process.env.HOME || '', 'Downloads');\n            const exportPath = path.join(downloadsPath, path.basename(fileName)); // Prevent directory traversal\n            if (format === 'json') {\n                await fs.writeFile(exportPath, JSON.stringify(userDetail, null, 2), 'utf-8');\n            }\n            else {\n                // Convert to CSV (flatten nested structures)\n                const csv = convertUserDetailToCSV(userDetail);\n                await fs.writeFile(exportPath, csv, 'utf-8');\n            }\n            return { success: true, filePath: exportPath };\n        }\n        catch (error) {\n            console.error('export-user-snapshot error:', error);\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    // ========================================\n    // Computer Detail Handlers (Epic 1 Task 1.3)\n    // ========================================\n    /**\n     * IPC Handler: get-computer-detail\n     * Retrieves comprehensive computer detail projection from LogicEngineService.\n     */\n    ipcMain.handle('get-computer-detail', async (_, args) => {\n        const { computerId } = args;\n        try {\n            console.log(`IPC: get-computer-detail - ${computerId}`);\n            if (!computerId || typeof computerId !== 'string') {\n                throw new Error('Invalid computerId parameter');\n            }\n            const { mockComputerDetailService } = await import('./services/mockLogicEngineService');\n            const computerDetail = await mockComputerDetailService.getComputerDetailAsync(computerId);\n            if (!computerDetail) {\n                return {\n                    success: false,\n                    error: `Computer not found: ${computerId}`,\n                    data: null,\n                };\n            }\n            return {\n                success: true,\n                data: computerDetail,\n            };\n        }\n        catch (error) {\n            console.error('get-computer-detail error:', error);\n            return {\n                success: false,\n                error: (error instanceof Error ? error.message : String(error)) || 'Failed to retrieve computer details',\n                data: null,\n            };\n        }\n    });\n    /**\n     * IPC Handler: clear-computer-detail-cache\n     * Clears cached computer detail data for a specific computer.\n     */\n    ipcMain.handle('clear-computer-detail-cache', async (_, args) => {\n        const { computerId } = args;\n        try {\n            console.log(`IPC: clear-computer-detail-cache - ${computerId}`);\n            const { mockComputerDetailService } = await import('./services/mockLogicEngineService');\n            mockComputerDetailService.clearComputerDetailCache(computerId);\n            return { success: true };\n        }\n        catch (error) {\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    /**\n     * IPC Handler: export-computer-snapshot\n     * Exports computer detail snapshot to JSON or CSV file.\n     */\n    ipcMain.handle('export-computer-snapshot', async (_, args) => {\n        try {\n            const { computerDetail, format, fileName } = args;\n            const downloadsPath = path.join(process.env.USERPROFILE || process.env.HOME || '', 'Downloads');\n            const exportPath = path.join(downloadsPath, path.basename(fileName));\n            if (format === 'json') {\n                await fs.writeFile(exportPath, JSON.stringify(computerDetail, null, 2), 'utf-8');\n            }\n            else if (format === 'csv') {\n                // Basic CSV export - flatten computer data\n                const csv = convertComputerDetailToCSV(computerDetail);\n                await fs.writeFile(exportPath, csv, 'utf-8');\n            }\n            console.log(`Exported computer snapshot: ${exportPath}`);\n            return { success: true, path: exportPath };\n        }\n        catch (error) {\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    /**\n     * IPC Handler: remote-connect\n     * Initiates remote connection to computer (RDP/PSRemoting)\n     */\n    ipcMain.handle('remote-connect', async (_, args) => {\n        try {\n            const { computerId, connectionType } = args;\n            console.log(`IPC: remote-connect - ${computerId} (${connectionType})`);\n            // TODO: Implement RDP/PSRemoting connection logic in future\n            // For now, just log and return success\n            return { success: true, message: `${connectionType} connection initiated to ${computerId}` };\n        }\n        catch (error) {\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    // ========================================\n    // Group Detail Handlers (Epic 1 Task 1.4)\n    // ========================================\n    /**\n     * IPC Handler: get-group-detail\n     * Retrieves comprehensive group detail projection from LogicEngineService.\n     */\n    ipcMain.handle('get-group-detail', async (_, args) => {\n        const { groupId } = args;\n        try {\n            console.log(`IPC: get-group-detail - ${groupId}`);\n            if (!groupId || typeof groupId !== 'string') {\n                throw new Error('Invalid groupId parameter');\n            }\n            const { mockGroupDetailService } = await import('./services/mockLogicEngineService');\n            const groupDetail = await mockGroupDetailService.getGroupDetailAsync(groupId);\n            if (!groupDetail) {\n                return {\n                    success: false,\n                    error: `Group not found: ${groupId}`,\n                    data: null,\n                };\n            }\n            return {\n                success: true,\n                data: groupDetail,\n            };\n        }\n        catch (error) {\n            console.error('get-group-detail error:', error);\n            return {\n                success: false,\n                error: (error instanceof Error ? error.message : String(error)) || 'Failed to retrieve group details',\n                data: null,\n            };\n        }\n    });\n    /**\n     * IPC Handler: clear-group-detail-cache\n     * Clears cached group detail data for a specific group.\n     */\n    ipcMain.handle('clear-group-detail-cache', async (_, args) => {\n        const { groupId } = args;\n        try {\n            console.log(`IPC: clear-group-detail-cache - ${groupId}`);\n            const { mockGroupDetailService } = await import('./services/mockLogicEngineService');\n            mockGroupDetailService.clearGroupDetailCache(groupId);\n            return { success: true };\n        }\n        catch (error) {\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    /**\n     * IPC Handler: export-group-snapshot\n     * Exports group detail snapshot to JSON or CSV file.\n     */\n    ipcMain.handle('export-group-snapshot', async (_, args) => {\n        try {\n            const { groupDetail, format, fileName } = args;\n            const downloadsPath = path.join(process.env.USERPROFILE || process.env.HOME || '', 'Downloads');\n            const exportPath = path.join(downloadsPath, path.basename(fileName));\n            if (format === 'json') {\n                await fs.writeFile(exportPath, JSON.stringify(groupDetail, null, 2), 'utf-8');\n            }\n            else if (format === 'csv') {\n                // Basic CSV export - flatten group data\n                const csv = convertGroupDetailToCSV(groupDetail);\n                await fs.writeFile(exportPath, csv, 'utf-8');\n            }\n            console.log(`Exported group snapshot: ${exportPath}`);\n            return { success: true, path: exportPath };\n        }\n        catch (error) {\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    /**\n     * IPC Handler: add-group-members\n     * Adds members to a group (mock implementation)\n     */\n    ipcMain.handle('add-group-members', async (_, args) => {\n        try {\n            const { groupId, memberIds } = args;\n            console.log(`IPC: add-group-members - ${groupId} (${memberIds.length} members)`);\n            // TODO: Implement add members logic in future\n            // For now, just log and return success\n            return { success: true, message: `Added ${memberIds.length} members to group ${groupId}` };\n        }\n        catch (error) {\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    /**\n     * IPC Handler: update-group\n     * Updates group properties (mock implementation)\n     */\n    ipcMain.handle('update-group', async (_, args) => {\n        try {\n            const { groupId, updates } = args;\n            console.log(`IPC: update-group - ${groupId}`, updates);\n            // TODO: Implement update group logic in future\n            // For now, just log and return success\n            return { success: true, message: `Updated group ${groupId}` };\n        }\n        catch (error) {\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    // ========================================\n    // Discovery Module Execution Handlers (Epic 3)\n    // ========================================\n    /**\n     * Execute discovery module with real-time streaming\n     * Emits events: discovery:output, discovery:progress, discovery:complete, discovery:error\n     */\n    console.log('[IPC] Registering discovery:execute handler...');\n    ipcMain.handle('discovery:execute', async (event, args) => {\n        console.log('[IPC] ========== discovery:execute RECEIVED PARAMS ==========');\n        console.log('[IPC] args:', JSON.stringify(args, null, 2));\n        // Support both new structure (configuration/executionOptions) and old structure (parameters)\n        const moduleName = args.moduleName;\n        const parameters = args.configuration || args.parameters || {};\n        const executionId = args.executionId;\n        const executionOptions = args.executionOptions || {};\n        const providedCompanyName = args.companyName;\n        console.log('[IPC] Extracted parameters:', JSON.stringify(parameters, null, 2));\n        console.log('[IPC] Extracted executionOptions:', JSON.stringify(executionOptions, null, 2));\n        console.log(`[IPC] ===============================================`);\n        console.log(`[IPC] discovery:execute HANDLER CALLED!`);\n        console.log(`[IPC] Module: ${moduleName}`);\n        console.log(`[IPC] ExecutionId: ${executionId || 'auto-generating...'}`);\n        console.log(`[IPC] mainWindow exists: ${hasMainWindow()}`);\n        console.log(`[IPC] ===============================================`);\n        try {\n            // Generate execution ID if not provided\n            const execId = executionId || crypto.randomUUID();\n            console.log(`IPC: discovery:execute - ${moduleName} (executionId: ${execId})`);\n            // Create execution context\n            const execution = {\n                id: execId,\n                moduleName,\n                parameters,\n                startTime: Date.now(),\n            };\n            // Stream output events back to renderer\n            const outputListeners = [];\n            // Listen to all 6 PowerShell streams\n            const onOutputStream = (data) => {\n                console.error(`[IPC Handler]  Received stream:output event:`, data.data?.substring(0, 100));\n                const win = getMainWindow();\n                console.error(`[IPC Handler]  Window exists: ${!!win}, hasWindow: ${hasMainWindow()}`);\n                if (win && !win.isDestroyed()) {\n                    console.error(`[IPC Handler]  Forwarding output to renderer (execId: ${execId})`);\n                    win.webContents.send('discovery:output', {\n                        executionId: execId,\n                        timestamp: new Date().toISOString(),\n                        level: 'output',\n                        message: data.data,\n                        source: moduleName,\n                    });\n                }\n                else {\n                    console.error(`[IPC Handler]  Window not available, cannot forward output event`);\n                }\n            };\n            const onErrorStream = (data) => {\n                console.error(`[IPC Handler]  Received stream:error event:`, data.data?.substring(0, 100));\n                const win = getMainWindow();\n                if (win && !win.isDestroyed()) {\n                    console.error(`[IPC Handler]  Forwarding error to renderer (execId: ${execId})`);\n                    win.webContents.send('discovery:output', {\n                        executionId: execId,\n                        timestamp: new Date().toISOString(),\n                        level: 'error',\n                        message: data.data,\n                        source: moduleName,\n                    });\n                }\n                else {\n                    console.error(`[IPC Handler]  Window not available, cannot forward error event`);\n                }\n            };\n            const onWarningStream = (data) => {\n                console.error(`[IPC Handler]  Received stream:warning event:`, data.data?.substring(0, 100));\n                const win = getMainWindow();\n                if (win && !win.isDestroyed()) {\n                    console.error(`[IPC Handler]  Forwarding warning to renderer (execId: ${execId})`);\n                    win.webContents.send('discovery:output', {\n                        executionId: execId,\n                        timestamp: new Date().toISOString(),\n                        level: 'warning',\n                        message: data.data,\n                        source: moduleName,\n                    });\n                }\n                else {\n                    console.error(`[IPC Handler]  Window not available, cannot forward warning event`);\n                }\n            };\n            const onVerboseStream = (data) => {\n                console.error(`[IPC Handler]  Received stream:verbose event:`, data.data?.substring(0, 100));\n                const win = getMainWindow();\n                if (win && !win.isDestroyed()) {\n                    console.error(`[IPC Handler]  Forwarding verbose to renderer (execId: ${execId})`);\n                    win.webContents.send('discovery:output', {\n                        executionId: execId,\n                        timestamp: new Date().toISOString(),\n                        level: 'verbose',\n                        message: data.data,\n                        source: moduleName,\n                    });\n                }\n                else {\n                    console.error(`[IPC Handler]  Window not available, cannot forward verbose event`);\n                }\n            };\n            const onDebugStream = (data) => {\n                console.error(`[IPC Handler]  Received stream:debug event:`, data.data?.substring(0, 100));\n                const win = getMainWindow();\n                if (win && !win.isDestroyed()) {\n                    console.error(`[IPC Handler]  Forwarding debug to renderer (execId: ${execId})`);\n                    win.webContents.send('discovery:output', {\n                        executionId: execId,\n                        timestamp: new Date().toISOString(),\n                        level: 'debug',\n                        message: data.data,\n                        source: moduleName,\n                    });\n                }\n                else {\n                    console.error(`[IPC Handler]  Window not available, cannot forward debug event`);\n                }\n            };\n            const onInformationStream = (data) => {\n                console.error(`[IPC Handler]  Received stream:information event:`, data.data?.substring(0, 100));\n                const win = getMainWindow();\n                if (win && !win.isDestroyed()) {\n                    console.error(`[IPC Handler]  Forwarding information to renderer (execId: ${execId})`);\n                    win.webContents.send('discovery:output', {\n                        executionId: execId,\n                        timestamp: new Date().toISOString(),\n                        level: 'information',\n                        message: data.data,\n                        source: moduleName,\n                    });\n                }\n                else {\n                    console.error(`[IPC Handler]  Window not available, cannot forward information event`);\n                }\n            };\n            // Register listeners\n            console.log(`[IPC Handler]  Registering stream listeners for execId: ${execId}`);\n            psService.on('stream:output', onOutputStream);\n            psService.on('stream:error', onErrorStream);\n            psService.on('stream:warning', onWarningStream);\n            psService.on('stream:verbose', onVerboseStream);\n            psService.on('stream:debug', onDebugStream);\n            psService.on('stream:information', onInformationStream);\n            console.log(`[IPC Handler]  All stream listeners registered for execId: ${execId}`);\n            // Store cleanup functions\n            outputListeners.push(() => psService.off('stream:output', onOutputStream));\n            outputListeners.push(() => psService.off('stream:error', onErrorStream));\n            outputListeners.push(() => psService.off('stream:warning', onWarningStream));\n            outputListeners.push(() => psService.off('stream:verbose', onVerboseStream));\n            outputListeners.push(() => psService.off('stream:debug', onDebugStream));\n            outputListeners.push(() => psService.off('stream:information', onInformationStream));\n            // Get active profile to determine company name\n            const activeProfile = await profileService.getCurrentProfile();\n            if (!activeProfile) {\n                throw new Error('No active profile selected. Please select a company profile first.');\n            }\n            console.log(`[IPC:discovery:execute] Starting ${moduleName} discovery`);\n            console.log(`[IPC:discovery:execute] Company: ${activeProfile.companyName}`);\n            console.log(`[IPC:discovery:execute] Execution ID: ${execId}`);\n            console.log(`[IPC:discovery:execute] Parameters:`, JSON.stringify(parameters, null, 2));\n            // Note: Credentials are loaded from CredentialService, not from profile directly\n            // Use provided company name if available, otherwise use active profile\n            const companyName = providedCompanyName || activeProfile.companyName;\n            console.log(`[IPC:discovery:execute] Using company name: ${companyName}`);\n            // Resolve profile path\n            const profilePath = profileService.getCompanyDataPath(companyName);\n            console.log(`[IPC:discovery:execute] Resolved profile path: ${profilePath}`);\n            // Inject domain credentials for AD-related modules\n            const adRelatedModules = ['ActiveDirectory', 'DNSDHCP', 'GPO', 'Infrastructure'];\n            let domainCreds = null;\n            if (adRelatedModules.includes(moduleName)) {\n                try {\n                    domainCreds = await profileService.getDomainCredentialsDecrypted(activeProfile.id);\n                    if (domainCreds) {\n                        console.log(`[IPC:discovery:execute]  Domain credentials loaded for ${moduleName} module`);\n                        console.log(`[IPC:discovery:execute] Username: ${domainCreds.username.replace(/\\\\.*$/, '\\\\***')}`);\n                    }\n                    else {\n                        console.log(`[IPC:discovery:execute]  No domain credentials configured for profile - using integrated auth`);\n                    }\n                }\n                catch (error) {\n                    console.error(`[IPC:discovery:execute]  Failed to load domain credentials: ${error instanceof Error ? error.message : String(error)}`);\n                    console.error('[IPC:discovery:execute] Proceeding with integrated authentication');\n                }\n            }\n            // Merge credentials into parameters (will be passed to PowerShell Configuration)\n            const enhancedParameters = {\n                ...parameters,\n                ...(domainCreds ? { domainCredentials: domainCreds } : {})\n            };\n            // Execute discovery module with credentials from profile\n            const result = await psService.executeDiscoveryModule(moduleName, companyName, enhancedParameters, {\n                cancellationToken: execId,\n                streamOutput: true,\n                timeout: executionOptions.timeout || 300000,\n                showWindow: executionOptions.showWindow !== undefined ? executionOptions.showWindow : false, // Default to NOT showing PowerShell window\n                outputPath: profilePath\n            });\n            // Cleanup listeners\n            console.log(`[IPC Handler]  Cleaning up stream listeners for execId: ${execId}`);\n            outputListeners.forEach(cleanup => cleanup());\n            console.log(`[IPC Handler]  All stream listeners cleaned up for execId: ${execId}`);\n            console.log(`[IPC:discovery:execute]  ${moduleName} completed successfully`);\n            console.log(`[IPC:discovery:execute] Duration: ${Date.now() - execution.startTime}ms`);\n            console.log(`[IPC:discovery:execute] Result:`, result.success ? 'SUCCESS' : 'FAILED');\n            // Send completion event with normalized result structure\n            const completionWin = getMainWindow();\n            if (completionWin && !completionWin.isDestroyed()) {\n                console.error('[IPC Handler]  Sending discovery:complete event');\n                // Normalize result: Add totalItems from PowerShell RecordCount\n                const psData = result.data;\n                const normalizedResult = {\n                    ...result,\n                    totalItems: psData?.RecordCount || 0, // Map PowerShell RecordCount to totalItems\n                    recordCount: psData?.RecordCount || 0, // Keep RecordCount for backward compatibility\n                };\n                console.error(`[IPC Handler]  Discovery results: RecordCount=${psData?.RecordCount}, Success=${psData?.Success}`);\n                completionWin.webContents.send('discovery:complete', {\n                    executionId: execId,\n                    result: normalizedResult,\n                    duration: Date.now() - execution.startTime,\n                });\n            }\n            else {\n                console.error('[IPC Handler]  Window not available for completion event');\n            }\n            return {\n                success: true,\n                executionId: execId,\n                result,\n            };\n        }\n        catch (error) {\n            console.error('[IPC:discovery:execute]  Error:', error);\n            // Send error event\n            const errorWin = getMainWindow();\n            if (errorWin && !errorWin.isDestroyed() && executionId) {\n                console.error('[IPC Handler]  Sending discovery:error event');\n                errorWin.webContents.send('discovery:error', {\n                    executionId: executionId || 'unknown',\n                    error: error instanceof Error ? error.message : String(error),\n                });\n            }\n            else {\n                console.error('[IPC Handler]  Window not available for error event');\n            }\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error),\n            };\n        }\n    });\n    /**\n     * Cancel discovery execution\n     */\n    ipcMain.handle('discovery:cancel', async (_, args) => {\n        const { executionId } = args;\n        try {\n            console.log(`IPC: discovery:cancel - ${executionId}`);\n            const success = await psService.cancelExecution(executionId);\n            const win = getMainWindow();\n            if (success && win) {\n                win.webContents.send('discovery:cancelled', { executionId });\n            }\n            return { success };\n        }\n        catch (error) {\n            console.error('discovery:cancel error:', error);\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    /**\n     * Get execution status for a specific discovery execution\n     */\n    ipcMain.handle('discovery:get-status', async (_, args) => {\n        const { executionId } = args;\n        try {\n            console.log(`IPC: discovery:get-status - ${executionId}`);\n            // For now, return a basic status\n            // TODO: Implement execution status tracking in PowerShellExecutionService\n            return {\n                success: true,\n                status: {\n                    state: 'running',\n                    progress: 0,\n                    message: 'Execution in progress'\n                }\n            };\n        }\n        catch (error) {\n            console.error('discovery:get-status error:', error);\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    /**\n     * Clear logs for a specific discovery execution\n     */\n    ipcMain.handle('discovery:clear-logs', async (_, args) => {\n        const { executionId } = args;\n        try {\n            console.log(`IPC: discovery:clear-logs - ${executionId}`);\n            // Send event to renderer to clear logs\n            const win = getMainWindow();\n            if (win) {\n                win.webContents.send('discovery:logs-cleared', { executionId });\n            }\n            return { success: true };\n        }\n        catch (error) {\n            console.error('discovery:clear-logs error:', error);\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    /**\n     * Get available discovery modules from registry\n     */\n    ipcMain.handle('discovery:get-modules', async () => {\n        try {\n            console.log('IPC: discovery:get-modules');\n            const allModules = moduleRegistry.getAllModules();\n            // Filter for discovery-category modules\n            const discoveryModules = allModules.filter((module) => module.category === 'discovery');\n            return { success: true, modules: discoveryModules };\n        }\n        catch (error) {\n            console.error('discovery:get-modules error:', error);\n            return { success: false, error: error instanceof Error ? error.message : String(error), modules: [] };\n        }\n    });\n    /**\n     * Get module information (description, parameters, etc.)\n     */\n    ipcMain.handle('discovery:get-module-info', async (_, args) => {\n        const { moduleName } = args;\n        try {\n            console.log(`IPC: discovery:get-module-info - ${moduleName}`);\n            const moduleInfo = moduleRegistry.getModule(moduleName);\n            if (!moduleInfo) {\n                return {\n                    success: false,\n                    error: `Module not found: ${moduleName}`,\n                    info: null,\n                };\n            }\n            return {\n                success: true,\n                info: moduleInfo,\n            };\n        }\n        catch (error) {\n            console.error('discovery:get-module-info error:', error);\n            return { success: false, error: error instanceof Error ? error.message : String(error), info: null };\n        }\n    });\n    // ========================================\n    // Backup and Restore Handlers\n    // ========================================\n    /**\n     * IPC Handler: backup:create\n     *\n     * Create a new backup operation\n     */\n    ipcMain.handle('backup:create', async (_, args) => {\n        try {\n            const { config } = args;\n            console.log('IPC: backup:create', config);\n            // TODO: Implement backup creation service\n            // For now, return mock success\n            const operationId = `backup-${Date.now()}`;\n            return {\n                success: true,\n                operationId,\n                filePath: `backup-${operationId}.zip`\n            };\n        }\n        catch (error) {\n            console.error('backup:create error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * IPC Handler: backup:cancel\n     */\n    ipcMain.handle('backup:cancel', async (_, args) => {\n        try {\n            const { operationId } = args;\n            console.log('IPC: backup:cancel', operationId);\n            // TODO: Implement backup cancellation\n            return { success: true };\n        }\n        catch (error) {\n            console.error('backup:cancel error:', error);\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    /**\n     * IPC Handler: backup:list\n     */\n    ipcMain.handle('backup:list', async () => {\n        try {\n            console.log('IPC: backup:list');\n            // TODO: Implement backup listing\n            return { success: true, backups: [] };\n        }\n        catch (error) {\n            console.error('backup:list error:', error);\n            return { success: false, error: error instanceof Error ? error.message : String(error), backups: [] };\n        }\n    });\n    /**\n     * IPC Handler: backup:delete\n     */\n    ipcMain.handle('backup:delete', async (_, args) => {\n        try {\n            const { operationId } = args;\n            console.log('IPC: backup:delete', operationId);\n            // TODO: Implement backup deletion\n            return { success: true };\n        }\n        catch (error) {\n            console.error('backup:delete error:', error);\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    /**\n     * IPC Handler: backup:validate\n     */\n    ipcMain.handle('backup:validate', async (_, args) => {\n        try {\n            const { filePath } = args;\n            console.log('IPC: backup:validate', filePath);\n            // TODO: Implement backup validation\n            return {\n                success: true,\n                isValid: true,\n                errors: [],\n                warnings: []\n            };\n        }\n        catch (error) {\n            console.error('backup:validate error:', error);\n            return {\n                success: false,\n                isValid: false,\n                errors: [error instanceof Error ? error.message : String(error)],\n                warnings: []\n            };\n        }\n    });\n    // ========================================\n    // Restore Handlers\n    // ========================================\n    /**\n     * IPC Handler: restore:create\n     */\n    ipcMain.handle('restore:create', async (_, args) => {\n        try {\n            const { backupFilePath, config } = args;\n            console.log('IPC: restore:create', backupFilePath, config);\n            // TODO: Implement restore creation service\n            const operationId = `restore-${Date.now()}`;\n            return {\n                success: true,\n                operationId\n            };\n        }\n        catch (error) {\n            console.error('restore:create error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    });\n    /**\n     * IPC Handler: restore:cancel\n     */\n    ipcMain.handle('restore:cancel', async (_, args) => {\n        try {\n            const { operationId } = args;\n            console.log('IPC: restore:cancel', operationId);\n            // TODO: Implement restore cancellation\n            return { success: true };\n        }\n        catch (error) {\n            console.error('restore:cancel error:', error);\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    // ========================================\n    // Migration Operation Handlers\n    // ========================================\n    /**\n     * IPC Handler: migration:plan\n     */\n    ipcMain.handle('migration:plan', async (_, args) => {\n        try {\n            const { provider, profileId, args: migrationArgs } = args;\n            console.log('IPC: migration:plan', provider, profileId);\n            // TODO: Implement migration planning service\n            const runId = `migration-${Date.now()}`;\n            return { runId };\n        }\n        catch (error) {\n            console.error('migration:plan error:', error);\n            throw new Error(error instanceof Error ? error.message : String(error));\n        }\n    });\n    /**\n     * IPC Handler: migration:execute\n     */\n    ipcMain.handle('migration:execute', async (_, args) => {\n        try {\n            const { provider, profileId, runId, args: executionArgs } = args;\n            console.log('IPC: migration:execute', provider, profileId, runId);\n            // TODO: Implement migration execution service\n            const executionRunId = runId || `migration-${Date.now()}`;\n            return { runId: executionRunId };\n        }\n        catch (error) {\n            console.error('migration:execute error:', error);\n            throw new Error(error instanceof Error ? error.message : String(error));\n        }\n    });\n    /**\n     * IPC Handler: migration:cancel\n     */\n    ipcMain.handle('migration:cancel', async (_, args) => {\n        try {\n            const { runId } = args;\n            console.log('IPC: migration:cancel', runId);\n            // TODO: Implement migration cancellation\n            return { success: true };\n        }\n        catch (error) {\n            console.error('migration:cancel error:', error);\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    /**\n     * IPC Handler: migration:pause\n     */\n    ipcMain.handle('migration:pause', async (_, args) => {\n        try {\n            const { runId } = args;\n            console.log('IPC: migration:pause', runId);\n            // TODO: Implement migration pause\n            return { success: true };\n        }\n        catch (error) {\n            console.error('migration:pause error:', error);\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    /**\n     * IPC Handler: migration:resume\n     */\n    ipcMain.handle('migration:resume', async (_, args) => {\n        try {\n            const { runId } = args;\n            console.log('IPC: migration:resume', runId);\n            // TODO: Implement migration resume\n            return { success: true };\n        }\n        catch (error) {\n            console.error('migration:resume error:', error);\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    /**\n    // DUPLICATE:    * IPC Handler: migration:get-statistics\n    // DUPLICATE:    */\n    // DUPLICATE:   ipcMain.handle('migration:get-statistics', async (_, args: { runId: string }) => {\n    // DUPLICATE:     try {\n    // DUPLICATE:       const { runId } = args;\n    // DUPLICATE:       console.log('IPC: migration:get-statistics', runId);\n    // DUPLICATE: \n    // DUPLICATE:       // TODO: Implement migration statistics\n    // DUPLICATE:       return {\n    // DUPLICATE:         success: true,\n    // DUPLICATE:         statistics: {\n    // DUPLICATE:           totalItems: 0,\n    // DUPLICATE:           processedItems: 0,\n    // DUPLICATE:           successCount: 0,\n    // DUPLICATE:           errorCount: 0,\n    // DUPLICATE:           progressPercentage: 0\n    // DUPLICATE:         }\n    // DUPLICATE:       };\n    // DUPLICATE:     } catch (error: unknown) {\n    // DUPLICATE:       console.error('migration:get-statistics error:', error);\n    // DUPLICATE:       return {\n    // DUPLICATE:         success: false,\n    // DUPLICATE:         error: error instanceof Error ? error.message : String(error)\n    // DUPLICATE:       };\n    // DUPLICATE:     }\n    // DUPLICATE:   });\n    // ========================================\n    // Migration Plan Persistence (Epic 2)\n    // ========================================\n    const { registerMigrationHandlers } = await import('./ipcHandlers.migration');\n    registerMigrationHandlers(psService);\n    // ========================================\n    // Consolidated Inventory\n    // ========================================\n    const { registerInventoryHandlers } = await import('./ipcHandlers.inventory');\n    registerInventoryHandlers();\n    // ========================================\n    // Migration Wave Management\n    // ========================================\n    const { registerMigrationWaveHandlers } = await import('./ipcHandlers.waves');\n    registerMigrationWaveHandlers();\n    // ========================================\n    // Azure App Registration (Task 3)\n    // ========================================\n    const { registerAppRegistrationHandlers } = await import('./ipc/appRegistrationHandlers');\n    registerAppRegistrationHandlers();\n    // ========================================\n    // Target Profile Management (Task 4)\n    // ========================================\n    const { registerTargetProfileHandlers } = await import('./ipc/targetProfileHandlers');\n    registerTargetProfileHandlers();\n    // ========================================\n    // Connection Testing (Task 5)\n    // ========================================\n    const { registerConnectionTestHandlers } = await import('./ipc/connectionTestHandlers');\n    registerConnectionTestHandlers(getMainWindow() || undefined);\n    // ========================================\n    // Migration Planning (Task 7)\n    // ========================================\n    const { registerMigrationPlanningHandlers } = await import('./ipc/migrationPlanningHandlers');\n    registerMigrationPlanningHandlers();\n    // ========================================\n    // Module Discovery (Task 6)\n    // ========================================\n    const { registerModuleDiscoveryHandlers } = await import('./ipc/moduleDiscoveryHandlers');\n    registerModuleDiscoveryHandlers();\n    // ========================================\n    // Data Export/Import (Task 8)\n    // ========================================\n    const { registerDataExportImportHandlers } = await import('./ipc/dataExportImportHandlers');\n    registerDataExportImportHandlers();\n    // ========================================\n    // Error Monitoring (Task 9)\n    // ========================================\n    const { registerErrorMonitoringHandlers } = await import('./ipc/errorMonitoringHandlers');\n    registerErrorMonitoringHandlers(getMainWindow() || undefined);\n    // ========================================\n    // Centralized Logging (Task 10)\n    // ========================================\n    const { registerLoggingHandlers, initializeLogging } = await import('./ipc/loggingHandlers');\n    await initializeLogging();\n    registerLoggingHandlers();\n    // ========================================\n    // Advanced IPC Handlers (External File)\n    // ========================================\n    const { registerAdvancedIpcHandlers } = await import('./ipc/handlers');\n    registerAdvancedIpcHandlers();\n    // ========================================\n    // Application Fact Sheet Handlers\n    // ========================================\n    const { registerApplicationFactSheetHandlers } = await import('./ipc/applicationFactSheetHandlers');\n    registerApplicationFactSheetHandlers();\n    // ========================================\n    // Enterprise Systems Integration Handlers\n    // ========================================\n    const { registerEnterpriseSystemsHandlers } = await import('./services/enterpriseSystemsService');\n    registerEnterpriseSystemsHandlers();\n    // ========================================\n    // Discovery Data Access Handlers\n    // ========================================\n    ipcMain.handle('discovery:get-applications', async (_, args) => {\n        try {\n            const { sourceProfileId } = args;\n            const profileService = await import('./services/profileService');\n            const profile = await profileService.getProfileById(sourceProfileId);\n            // Get profile name for data path\n            const profileName = profile?.companyName || 'default';\n            const dataPath = path.join(process.env.DISCOVERY_DATA_PATH || 'C:\\\\DiscoveryData', profileName, 'Raw');\n            // Try to read ApplicationCatalog.csv first, then Applications.csv\n            const catalogPath = path.join(dataPath, 'ApplicationCatalog.csv');\n            const appsPath = path.join(dataPath, 'Applications.csv');\n            let filePath = '';\n            if (fsSync.existsSync(catalogPath)) {\n                filePath = catalogPath;\n            }\n            else if (fsSync.existsSync(appsPath)) {\n                filePath = appsPath;\n            }\n            else {\n                return { success: false, error: 'No application discovery data found' };\n            }\n            // Read and parse CSV\n            const content = fsSync.readFileSync(filePath, 'utf-8');\n            const lines = content.split('\\n').filter((line) => line.trim());\n            if (lines.length < 2) {\n                return { success: false, error: 'No application data in file' };\n            }\n            // Parse headers\n            const headers = lines[0].split(',').map((h) => h.replace(/^\"|\"$/g, '').trim());\n            // Parse data rows\n            const applications = [];\n            for (let i = 1; i < lines.length; i++) {\n                const values = lines[i].match(/(\"([^\"]*)\"|[^,]*)/g) || [];\n                const row = {};\n                headers.forEach((header, idx) => {\n                    let value = values[idx] || '';\n                    value = value.replace(/^\"|\"$/g, '').trim();\n                    row[header] = value;\n                });\n                // Only add if has a name\n                if (row.Name || row.ApplicationName || row.name) {\n                    applications.push(row);\n                }\n            }\n            return {\n                success: true,\n                data: applications,\n                sourceFile: path.basename(filePath),\n                count: applications.length\n            };\n        }\n        catch (error) {\n            console.error('Error getting discovery applications:', error);\n            return { success: false, error: error.message };\n        }\n    });\n    // ========================================\n    // Webhook Handlers (Legacy - moved to handlers.ts)\n    // DUPLICATES COMMENTED OUT - handlers in src/main/ipc/handlers.ts are active\n    // ========================================\n    // DUPLICATE: ipcMain.handle('getWebhooks', async (_, args: { page?: number; limit?: number; search?: string } = {}) => {\n    //   try {\n    //     const { page = 1, limit = 20, search } = args;\n    //     const { webhookService } = await import('../renderer/services/webhookService');\n    //     const allWebhooks = webhookService.getAllWebhooks();\n    //\n    //     // Apply search filter\n    //     let filteredWebhooks = allWebhooks;\n    //     if (search) {\n    //       const searchLower = search.toLowerCase();\n    //       filteredWebhooks = allWebhooks.filter(webhook =>\n    //         webhook.name.toLowerCase().includes(searchLower) ||\n    //         webhook.url.toLowerCase().includes(searchLower)\n    //       );\n    //     }\n    //\n    //     // Apply pagination\n    //     const startIndex = (page - 1) * limit;\n    //     const endIndex = startIndex + limit;\n    //     const paginatedWebhooks = filteredWebhooks.slice(startIndex, endIndex);\n    //\n    //     return {\n    //       success: true,\n    //       data: {\n    //         webhooks: paginatedWebhooks,\n    //         total: filteredWebhooks.length,\n    //         page,\n    //         limit,\n    //         totalPages: Math.ceil(filteredWebhooks.length / limit)\n    //       }\n    //     };\n    //   } catch (error: unknown) {\n    //     console.error(`getWebhooks error: ${error instanceof Error ? error.message : String(error)}`);\n    //     return { success: false, error: error instanceof Error ? error.message : String(error) };\n    //   }\n    // });\n    // DUPLICATE: ipcMain.handle('createWebhook', async (_, webhookData: any) => {\n    //   try {\n    //     const { webhookService } = await import('../renderer/services/webhookService');\n    //     const webhook = webhookService.register(webhookData);\n    //     return { success: true, data: webhook };\n    //   } catch (error: unknown) {\n    //     console.error(`createWebhook error: ${error instanceof Error ? error.message : String(error)}`);\n    //     return { success: false, error: error instanceof Error ? error.message : String(error) };\n    //   }\n    // });\n    // DUPLICATE: ipcMain.handle('updateWebhook', async (_, args: { webhookId: string; updates: any }) => {\n    //   try {\n    //     const { webhookId, updates } = args;\n    //     const { webhookService } = await import('../renderer/services/webhookService');\n    //     const success = webhookService.update(webhookId, updates);\n    //     if (success) {\n    //       const webhook = webhookService.getWebhook(webhookId);\n    //       return { success: true, data: webhook };\n    //     } else {\n    //       return { success: false, error: 'Webhook not found or update failed' };\n    //     }\n    //   } catch (error: unknown) {\n    //     console.error(`updateWebhook error: ${error instanceof Error ? error.message : String(error)}`);\n    //     return { success: false, error: error instanceof Error ? error.message : String(error) };\n    //   }\n    // });\n    // DUPLICATE: ipcMain.handle('deleteWebhook', async (_, args: { webhookId: string }) => {\n    //   try {\n    //     const { webhookId } = args;\n    //     const { webhookService } = await import('../renderer/services/webhookService');\n    //     const success = webhookService.unregister(webhookId);\n    //     return { success };\n    //   } catch (error: unknown) {\n    //     console.error(`deleteWebhook error: ${error instanceof Error ? error.message : String(error)}`);\n    //     return { success: false, error: error instanceof Error ? error.message : String(error) };\n    //   }\n    // });\n    ipcMain.handle('triggerWebhook', async (_, args) => {\n        try {\n            const { webhookId, event, data = {} } = args;\n            const { webhookService } = await import('../renderer/services/webhookService');\n            const webhook = webhookService.getWebhook(webhookId);\n            if (!webhook) {\n                return { success: false, error: 'Webhook not found' };\n            }\n            await webhookService.trigger(event, data);\n            return { success: true };\n        }\n        catch (error) {\n            console.error(`triggerWebhook error: ${error instanceof Error ? error.message : String(error)}`);\n            return { success: false, error: error instanceof Error ? error.message : String(error) };\n        }\n    });\n    // ========================================\n    // Workflow Handlers\n    // DUPLICATES COMMENTED OUT - handlers in src/main/ipc/handlers.ts are active\n    // ========================================\n    // DUPLICATE: ipcMain.handle('getWorkflows', async (_, args: { page?: number; limit?: number; search?: string } = {}) => {\n    //   try {\n    //     const { page = 1, limit = 20, search } = args;\n    //\n    //     // For now, return a mock response since workflow service doesn't exist yet\n    //     // This should be replaced with actual workflow service integration\n    //     const mockWorkflows = [\n    //       {\n    //         id: 'workflow-1',\n    //         name: 'Sample Migration Workflow',\n    //         description: 'Automated user migration workflow',\n    //         status: 'active',\n    //         steps: [],\n    //         createdAt: new Date().toISOString(),\n    //         updatedAt: new Date().toISOString(),\n    //         executionCount: 0,\n    //         lastExecutedAt: null\n    //       }\n    //     ];\n    //\n    //     // Apply search filter\n    //     let filteredWorkflows = mockWorkflows;\n    //     if (search) {\n    //       const searchLower = search.toLowerCase();\n    //       filteredWorkflows = mockWorkflows.filter(workflow =>\n    //         workflow.name.toLowerCase().includes(searchLower) ||\n    //         workflow.description.toLowerCase().includes(searchLower)\n    //       );\n    //     }\n    //\n    //     // Apply pagination\n    //     const startIndex = (page - 1) * limit;\n    //     const endIndex = startIndex + limit;\n    //     const paginatedWorkflows = filteredWorkflows.slice(startIndex, endIndex);\n    //\n    //     return {\n    //       success: true,\n    //       data: {\n    //         workflows: paginatedWorkflows,\n    //         total: filteredWorkflows.length,\n    //         page,\n    //         limit,\n    //         totalPages: Math.ceil(filteredWorkflows.length / limit)\n    //       }\n    //     };\n    //   } catch (error: unknown) {\n    //     console.error(`getWorkflows error: ${error instanceof Error ? error.message : String(error)}`);\n    //     return { success: false, error: error instanceof Error ? error.message : String(error) };\n    //   }\n    // });\n    // DUPLICATE: ipcMain.handle('createWorkflow', async (_, workflowData: any) => {\n    //   try {\n    //     // For now, return mock success since workflow service doesn't exist yet\n    //     const mockWorkflow = {\n    //       id: `workflow-${Date.now()}`,\n    //       ...workflowData,\n    //       createdAt: new Date().toISOString(),\n    //       updatedAt: new Date().toISOString(),\n    //       executionCount: 0,\n    //       lastExecutedAt: null\n    //     };\n    //\n    //     console.log(`Mock workflow created: ${mockWorkflow.id}`);\n    //     return { success: true, data: mockWorkflow };\n    //   } catch (error: unknown) {\n    //     console.error(`createWorkflow error: ${error instanceof Error ? error.message : String(error)}`);\n    //     return { success: false, error: error instanceof Error ? error.message : String(error) };\n    //   }\n    // });\n    // DUPLICATE: ipcMain.handle('executeWorkflow', async (_, args: { workflowId: string; parameters?: Record<string, any> }) => {\n    //   try {\n    //     const { workflowId, parameters = {} } = args;\n    //\n    //     // For now, return mock execution result since workflow service doesn't exist yet\n    //     const mockExecution = {\n    //       id: `execution-${Date.now()}`,\n    //       workflowId,\n    //       status: 'running',\n    //       startedAt: new Date().toISOString(),\n    //       parameters,\n    //       steps: [],\n    //       currentStep: null\n    //     };\n    //\n    //     console.log(`Mock workflow execution started: ${mockExecution.id}`);\n    //\n    //     // Simulate async execution completion\n    //     setTimeout(() => {\n    //       console.log(`Mock workflow execution completed: ${mockExecution.id}`);\n    //     }, 1000);\n    //\n    //     return { success: true, data: mockExecution };\n    //   } catch (error: unknown) {\n    //     console.error(`executeWorkflow error: ${error instanceof Error ? error.message : String(error)}`);\n    //     return { success: false, error: error instanceof Error ? error.message : String(error) };\n    //   }\n    // });\n    console.log('All IPC handlers registered successfully');\n}\n/**\n * Helper: Convert UserDetailProjection to CSV format\n */\nfunction convertUserDetailToCSV(userDetail) {\n    const rows = [];\n    // Header\n    rows.push('Section,Key,Value');\n    // User Info\n    rows.push(`User,Display Name,\"${escapeCSV(userDetail.user.displayName)}\"`);\n    rows.push(`User,UPN,\"${escapeCSV(userDetail.user.userPrincipalName)}\"`);\n    rows.push(`User,Email,\"${escapeCSV(userDetail.user.mail)}\"`);\n    rows.push(`User,Department,\"${escapeCSV(userDetail.user.department)}\"`);\n    rows.push(`User,Job Title,\"${escapeCSV(userDetail.user.jobTitle)}\"`);\n    // Groups\n    userDetail.groups.forEach((group, i) => {\n        rows.push(`Groups,Group ${i + 1},\"${escapeCSV(group.name)}\"`);\n    });\n    // Devices\n    userDetail.devices.forEach((device, i) => {\n        rows.push(`Devices,Device ${i + 1},\"${escapeCSV(device.name)}\"`);\n    });\n    // Apps\n    userDetail.apps.forEach((app, i) => {\n        rows.push(`Apps,App ${i + 1},\"${escapeCSV(app.name)}\"`);\n    });\n    // Azure Roles\n    userDetail.azureRoles.forEach((role, i) => {\n        rows.push(`Azure Roles,Role ${i + 1},\"${escapeCSV(role.roleName)}\"`);\n    });\n    // Risks\n    userDetail.risks.forEach((risk, i) => {\n        rows.push(`Risks,Risk ${i + 1},\"${risk.severity}: ${escapeCSV(risk.description)}\"`);\n    });\n    return rows.join('\\n');\n}\n/**\n * Escape CSV field values\n */\nfunction escapeCSV(value) {\n    if (!value)\n        return '';\n    return value.replace(/\"/g, '\"\"');\n}\n/**\n * Helper: Convert ComputerDetailProjection to CSV format\n */\nfunction convertComputerDetailToCSV(computerDetail) {\n    const rows = [];\n    // Header\n    rows.push('Section,Key,Value');\n    // Computer Info\n    rows.push(`Computer,Name,\"${escapeCSV(computerDetail.computer.name)}\"`);\n    rows.push(`Computer,DNS,\"${escapeCSV(computerDetail.computer.dns)}\"`);\n    rows.push(`Computer,Domain,\"${escapeCSV(computerDetail.computer.domain)}\"`);\n    rows.push(`Computer,OS,\"${escapeCSV(computerDetail.computer.os)}\"`);\n    rows.push(`Computer,Status,\"${escapeCSV(computerDetail.computer.status)}\"`);\n    // Users\n    computerDetail.users.forEach((user, i) => {\n        rows.push(`Users,User ${i + 1},\"${escapeCSV(user.displayName)}\"`);\n    });\n    // Software\n    computerDetail.software.forEach((software, i) => {\n        rows.push(`Software,App ${i + 1},\"${escapeCSV(software.name)}\"`);\n    });\n    // Groups\n    computerDetail.groups.forEach((group, i) => {\n        rows.push(`Groups,Group ${i + 1},\"${escapeCSV(group.name)}\"`);\n    });\n    // Risks\n    computerDetail.risks.forEach((risk, i) => {\n        rows.push(`Risks,Risk ${i + 1},\"${risk.severity}: ${escapeCSV(risk.description)}\"`);\n    });\n    return rows.join('\\n');\n}\n/**\n * Helper: Convert GroupDetailProjection to CSV format\n */\nfunction convertGroupDetailToCSV(groupDetail) {\n    const rows = [];\n    // Header\n    rows.push('Section,Key,Value');\n    // Group Info\n    rows.push(`Group,Name,\"${escapeCSV(groupDetail.group.name)}\"`);\n    rows.push(`Group,Display Name,\"${escapeCSV(groupDetail.group.displayName)}\"`);\n    rows.push(`Group,Type,\"${escapeCSV(groupDetail.group.groupType)}\"`);\n    rows.push(`Group,Scope,\"${escapeCSV(groupDetail.group.scope)}\"`);\n    rows.push(`Group,Email,\"${escapeCSV(groupDetail.group.email)}\"`);\n    // Members\n    groupDetail.members.forEach((member, i) => {\n        rows.push(`Members,Member ${i + 1},\"${escapeCSV(member.displayName)} (${member.userPrincipalName})\"`);\n    });\n    // Owners\n    groupDetail.owners.forEach((owner, i) => {\n        rows.push(`Owners,Owner ${i + 1},\"${escapeCSV(owner.displayName)}\"`);\n    });\n    // Permissions\n    groupDetail.permissions.forEach((permission, i) => {\n        rows.push(`Permissions,Permission ${i + 1},\"${escapeCSV(permission.resourceName)} - ${permission.accessLevel}\"`);\n    });\n    // Applications\n    groupDetail.applications.forEach((app, i) => {\n        rows.push(`Applications,App ${i + 1},\"${escapeCSV(app.applicationName)} - ${app.roleName}\"`);\n    });\n    // Risks\n    groupDetail.risks.forEach((risk, i) => {\n        rows.push(`Risks,Risk ${i + 1},\"${risk.severity}: ${escapeCSV(risk.description)}\"`);\n    });\n    return rows.join('\\n');\n}\n// ===================================================================\n// ORGANISATION MAP HANDLERS\n// ===================================================================\n/**\n * Get all discovery CSV files\n */\nipcMain.handle('get-discovery-files', async () => {\n    try {\n        console.log('[IPC] get-discovery-files: Scanning for CSV files...');\n        const discoveryPaths = [\n            path.join(process.cwd(), 'DiscoveryData'),\n            path.join('C:', 'DiscoveryData'),\n            path.join(process.cwd(), 'Modules', 'Discovery')\n        ];\n        const csvFiles = [];\n        const scanDirectory = async (dir) => {\n            try {\n                if (!(await fs.stat(dir).catch(() => null)))\n                    return;\n                const files = await fs.readdir(dir);\n                for (const file of files) {\n                    const fullPath = path.join(dir, file);\n                    const stat = await fs.stat(fullPath).catch(() => null);\n                    if (!stat)\n                        continue;\n                    if (stat.isDirectory()) {\n                        // IMPORTANT: Exclude test data and old data directories\n                        const lowerFile = file.toLowerCase();\n                        if (lowerFile.includes('rawold') ||\n                            lowerFile.includes('testdata') ||\n                            lowerFile.includes('test_') ||\n                            lowerFile.includes('_test') ||\n                            lowerFile.includes('backup') ||\n                            lowerFile.includes('archive')) {\n                            console.log('[IPC] get-discovery-files: Skipping test/archive directory:', file);\n                            continue;\n                        }\n                        await scanDirectory(fullPath);\n                    }\n                    else if (file.endsWith('.csv')) {\n                        // IMPORTANT: Exclude test, sample, and timestamped files\n                        const lowerFile = file.toLowerCase();\n                        if (lowerFile.includes('test') ||\n                            lowerFile.includes('sample') ||\n                            lowerFile.includes('demo') ||\n                            lowerFile.includes('_20') || // Timestamped files like _20251217_\n                            lowerFile.includes('performance') ||\n                            lowerFile.includes('placeholder')) {\n                            console.log('[IPC] get-discovery-files: Skipping test file:', file);\n                            continue;\n                        }\n                        // Determine file type based on filename patterns\n                        let type = 'generic';\n                        if (lowerFile.includes('user'))\n                            type = 'users';\n                        else if (lowerFile.includes('group'))\n                            type = 'groups';\n                        else if (lowerFile.includes('application'))\n                            type = 'applications';\n                        else if (lowerFile.includes('infrastructure'))\n                            type = 'infrastructure';\n                        else if (lowerFile.includes('exchange'))\n                            type = 'exchange';\n                        else if (lowerFile.includes('filesystem'))\n                            type = 'filesystem';\n                        csvFiles.push({ path: fullPath, type });\n                    }\n                }\n            }\n            catch (err) {\n                console.warn('[IPC] get-discovery-files: Error scanning directory:', dir, err);\n            }\n        };\n        for (const discoveryPath of discoveryPaths) {\n            await scanDirectory(discoveryPath);\n        }\n        console.log('[IPC] get-discovery-files: Found', csvFiles.length, 'CSV files');\n        return csvFiles;\n    }\n    catch (error) {\n        console.error('[IPC] get-discovery-files: Error:', error);\n        return [];\n    }\n});\n/**\n * Read discovery CSV file\n */\nipcMain.handle('read-discovery-file', async (_, filePath) => {\n    try {\n        console.log('[IPC] read-discovery-file:', filePath);\n        const content = await fs.readFile(filePath, 'utf8');\n        return content;\n    }\n    catch (error) {\n        console.error('[IPC] read-discovery-file: Error reading file:', filePath, error);\n        throw error;\n    }\n});\n// ============================================================================\n// Decision Trace IPC Handlers\n// ============================================================================\n/**\n * Initialize Decision Trace service\n */\nipcMain.handle('decision-trace:initialize', async () => {\n    try {\n        if (!decisionTraceService) {\n            decisionTraceService = DecisionTraceService.getInstance();\n        }\n        decisionTraceService.initialize();\n        console.log('[IPC] Decision Trace service initialized');\n        return { success: true };\n    }\n    catch (error) {\n        console.error('[IPC] decision-trace:initialize error:', error);\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : 'Failed to initialize Decision Trace service',\n        };\n    }\n});\n/**\n * Append a decision trace\n */\nipcMain.handle('decision-trace:append', async (_, trace) => {\n    try {\n        if (!decisionTraceService) {\n            throw new Error('Decision Trace service not initialized');\n        }\n        await decisionTraceService.appendTrace(trace);\n        console.log('[IPC] Decision trace appended:', trace.id, trace.kind);\n        return { success: true, traceId: trace.id };\n    }\n    catch (error) {\n        console.error('[IPC] decision-trace:append error:', error);\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : 'Failed to append trace',\n        };\n    }\n});\n/**\n * Query decision traces\n */\nipcMain.handle('decision-trace:query', async (_, options) => {\n    try {\n        if (!decisionTraceService) {\n            throw new Error('Decision Trace service not initialized');\n        }\n        const traces = await decisionTraceService.queryTraces(options);\n        console.log('[IPC] Queried decision traces:', traces.length, 'results');\n        return { success: true, data: traces };\n    }\n    catch (error) {\n        console.error('[IPC] decision-trace:query error:', error);\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : 'Failed to query traces',\n        };\n    }\n});\n/**\n * Get decision trace statistics\n */\nipcMain.handle('decision-trace:statistics', async (_, profileId) => {\n    try {\n        if (!decisionTraceService) {\n            throw new Error('Decision Trace service not initialized');\n        }\n        const stats = await decisionTraceService.getStatistics(profileId);\n        console.log('[IPC] Retrieved decision trace statistics:', stats.totalTraces, 'total traces');\n        return { success: true, data: stats };\n    }\n    catch (error) {\n        console.error('[IPC] decision-trace:statistics error:', error);\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : 'Failed to get statistics',\n        };\n    }\n});\n// ============================================================================\n// Consolidation Engine IPC Handlers\n// ============================================================================\n/**\n * Run consolidation on discovery data\n */\nipcMain.handle('consolidation:run', async (_, args) => {\n    try {\n        const { profileId, discoveryDataPath } = args;\n        if (!consolidationEngine) {\n            consolidationEngine = ConsolidationEngine.getInstance();\n        }\n        consolidationEngine.setProfileId(profileId);\n        console.log('[IPC] Running consolidation:', { profileId, discoveryDataPath });\n        const result = await consolidationEngine.consolidate(discoveryDataPath);\n        console.log('[IPC] Consolidation complete:', {\n            entities: result.entities.length,\n            relationships: result.relationships.length,\n            timeMs: result.statistics.processingTimeMs,\n        });\n        return {\n            success: true,\n            data: result,\n        };\n    }\n    catch (error) {\n        console.error('[IPC] consolidation:run error:', error);\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : 'Failed to run consolidation',\n        };\n    }\n});\n/**\n * Cleanup function to shutdown services\n */\nexport async function shutdownIpcHandlers() {\n    console.log('Shutting down IPC services...');\n    if (psService) {\n        await psService.shutdown();\n    }\n    // Close Decision Trace service database connection\n    if (decisionTraceService) {\n        decisionTraceService.close();\n    }\n    // Save configuration one last time\n    await saveConfig();\n    console.log('IPC services shutdown complete');\n}\n","/**\n * Configuration Service\n * Manages application configuration with persistence to file system\n */\nimport { promises as fs } from 'fs';\nimport path from 'path';\nimport { app } from 'electron';\nexport class ConfigService {\n    configPath;\n    config = {};\n    initialized = false;\n    constructor() {\n        // Store config in user data directory\n        const userDataPath = app.getPath('userData');\n        this.configPath = path.join(userDataPath, 'config.json');\n    }\n    /**\n     * Initialize the config service by loading from disk\n     */\n    async initialize() {\n        if (this.initialized) {\n            return;\n        }\n        try {\n            const data = await fs.readFile(this.configPath, 'utf-8');\n            this.config = JSON.parse(data);\n        }\n        catch (error) {\n            // If file doesn't exist or is invalid, start with empty config\n            if (error.code !== 'ENOENT') {\n                console.error('Error loading config:', error);\n            }\n            this.config = this.getDefaultConfig();\n            await this.save();\n        }\n        this.initialized = true;\n    }\n    /**\n     * Get a configuration value\n     */\n    async get(key) {\n        await this.ensureInitialized();\n        return this.config[key];\n    }\n    /**\n     * Set a configuration value\n     */\n    async set(key, value) {\n        await this.ensureInitialized();\n        this.config[key] = value;\n        await this.save();\n    }\n    /**\n     * Get all configuration\n     */\n    async getAll() {\n        await this.ensureInitialized();\n        return { ...this.config };\n    }\n    /**\n     * Delete a configuration key\n     */\n    async delete(key) {\n        await this.ensureInitialized();\n        delete this.config[key];\n        await this.save();\n    }\n    /**\n     * Reset configuration to defaults\n     */\n    async reset() {\n        this.config = this.getDefaultConfig();\n        await this.save();\n    }\n    /**\n     * Save configuration to disk\n     */\n    async save() {\n        try {\n            // Ensure directory exists\n            await fs.mkdir(path.dirname(this.configPath), { recursive: true });\n            // Write config with pretty formatting\n            await fs.writeFile(this.configPath, JSON.stringify(this.config, null, 2), 'utf-8');\n        }\n        catch (error) {\n            console.error('Error saving config:', error);\n            throw new Error(`Failed to save configuration: ${error}`);\n        }\n    }\n    /**\n     * Ensure service is initialized\n     */\n    async ensureInitialized() {\n        if (!this.initialized) {\n            await this.initialize();\n        }\n    }\n    /**\n     * Get default configuration\n     */\n    getDefaultConfig() {\n        return {\n            theme: 'light',\n            language: 'en',\n            powerShell: {\n                maxPoolSize: 10,\n                minPoolSize: 2,\n                sessionTimeout: 300000, // 5 minutes\n                executionTimeout: 60000, // 1 minute\n            },\n            discovery: {\n                defaultTimeout: 30000,\n                maxConcurrentOperations: 5,\n            },\n            ui: {\n                enableAnimations: true,\n                compactMode: false,\n                showSystemStatus: true,\n            },\n            logging: {\n                level: 'info',\n                maxLogFiles: 10,\n                maxLogSize: 10485760, // 10MB\n            },\n            license: {\n                // Machine ID (generated on first run)\n                machineId: undefined,\n                // Encrypted license key (stored after activation)\n                key: undefined,\n                // License metadata (cached for performance)\n                customerId: undefined,\n                type: undefined,\n                activatedAt: undefined,\n                expiresAt: undefined,\n                features: [],\n            },\n            updates: {\n                // Current version (updated after successful update)\n                currentVersion: undefined,\n                // Auto-update settings\n                autoUpdateEnabled: false,\n                // Last check timestamp\n                lastCheckTime: undefined,\n                // Update history (last 20 updates)\n                history: [],\n            },\n        };\n    }\n}\nexport default ConfigService;\n","/**\n * Consolidation Engine\n *\n * Core service that transforms raw discovery CSV data into canonical entities\n * with full decision trace provenance.\n *\n * Responsibilities:\n * - Load and parse discovery CSV files\n * - Create canonical entities with provenance\n * - Identity matching across source systems\n * - Entity deduplication and merging\n * - Relationship inference with evidence\n * - Decision trace emission for all operations\n *\n * Based on Decision Traces architecture in CLAUDE.local.md\n */\nimport * as fs from 'fs/promises';\nimport * as path from 'path';\nimport * as crypto from 'crypto';\nimport { v4 as uuidv4 } from 'uuid';\nimport { traceConsolidationRun, traceIdentityMatch, traceEntityMerge, traceRelationshipInferred, createFieldMatchEvidence, createMembershipEvidence, createOwnershipEvidence, createAccessEvidence, } from './decisionTraceHelpers';\n/**\n * Consolidation Engine Service\n */\nexport class ConsolidationEngine {\n    static instance;\n    profileId = 'default';\n    constructor() { }\n    static getInstance() {\n        if (!ConsolidationEngine.instance) {\n            ConsolidationEngine.instance = new ConsolidationEngine();\n        }\n        return ConsolidationEngine.instance;\n    }\n    /**\n     * Set current profile context\n     */\n    setProfileId(profileId) {\n        this.profileId = profileId;\n        console.log('[ConsolidationEngine] Profile context set:', profileId);\n    }\n    /**\n     * Main consolidation entry point\n     */\n    async consolidate(discoveryDataPath) {\n        const startTime = performance.now();\n        console.log('[ConsolidationEngine] Starting consolidation:', discoveryDataPath);\n        // Phase 1: Discover and load CSV files\n        const csvFiles = await this.discoverCSVFiles(discoveryDataPath);\n        console.log(`[ConsolidationEngine] Discovered ${csvFiles.length} CSV files`);\n        // Phase 2: Parse CSV files into records\n        const recordsByType = await this.parseCSVFiles(csvFiles);\n        const totalRecords = Object.values(recordsByType).reduce((sum, records) => sum + records.length, 0);\n        console.log(`[ConsolidationEngine] Parsed ${totalRecords} records across ${Object.keys(recordsByType).length} types`);\n        // Phase 3: Create canonical entities with provenance\n        const entities = await this.createCanonicalEntities(recordsByType);\n        console.log(`[ConsolidationEngine] Created ${entities.length} canonical entities`);\n        // Phase 4: Identity matching and merging\n        const { mergedEntities, mergeCount } = await this.performIdentityMatching(entities);\n        console.log(`[ConsolidationEngine] Merged ${mergeCount} duplicate entities, ${mergedEntities.length} final entities`);\n        // Phase 5: Infer relationships\n        const relationships = await this.inferRelationships(mergedEntities, recordsByType);\n        console.log(`[ConsolidationEngine] Inferred ${relationships.length} relationships`);\n        // Phase 6: Detect conflicts\n        const conflictCount = this.detectConflicts(mergedEntities);\n        console.log(`[ConsolidationEngine] Detected ${conflictCount} field conflicts`);\n        const processingTimeMs = performance.now() - startTime;\n        // Phase 7: Emit consolidation run trace\n        await traceConsolidationRun(this.profileId, csvFiles.map((f) => ({ file: f.path, hash: f.hash, recordCount: f.recordCount })), {\n            entitiesCreated: entities.length,\n            entitiesMerged: mergeCount,\n            relationshipsInferred: relationships.length,\n            conflictsDetected: conflictCount,\n            processingTimeMs,\n        });\n        console.log(`[ConsolidationEngine] Consolidation complete in ${processingTimeMs.toFixed(2)}ms`);\n        return {\n            entities: mergedEntities,\n            relationships,\n            statistics: {\n                inputFiles: csvFiles.length,\n                recordsProcessed: totalRecords,\n                entitiesCreated: entities.length,\n                entitiesMerged: mergeCount,\n                relationshipsInferred: relationships.length,\n                conflictsDetected: conflictCount,\n                processingTimeMs,\n            },\n        };\n    }\n    /**\n     * Phase 1: Discover CSV files in discovery data directory\n     */\n    async discoverCSVFiles(discoveryDataPath) {\n        const csvFiles = [];\n        const scanDirectory = async (dirPath) => {\n            try {\n                const entries = await fs.readdir(dirPath, { withFileTypes: true });\n                for (const entry of entries) {\n                    const fullPath = path.join(dirPath, entry.name);\n                    if (entry.isDirectory()) {\n                        await scanDirectory(fullPath);\n                    }\n                    else if (entry.isFile() && entry.name.toLowerCase().endsWith('.csv')) {\n                        const content = await fs.readFile(fullPath, 'utf8');\n                        const hash = crypto.createHash('sha256').update(content).digest('hex').substring(0, 16);\n                        const recordCount = content.split('\\n').length - 1; // -1 for header\n                        // Infer source system and entity type from filename/path\n                        const { sourceSystem, entityType } = this.inferFileType(fullPath);\n                        csvFiles.push({\n                            path: fullPath,\n                            hash,\n                            recordCount,\n                            sourceSystem,\n                            entityType,\n                        });\n                    }\n                }\n            }\n            catch (err) {\n                console.warn('[ConsolidationEngine] Error scanning directory:', dirPath, err);\n            }\n        };\n        await scanDirectory(discoveryDataPath);\n        return csvFiles;\n    }\n    /**\n     * Infer source system and entity type from file path\n     */\n    inferFileType(filePath) {\n        const fileName = path.basename(filePath).toLowerCase();\n        const dirName = path.dirname(filePath).toLowerCase();\n        // Determine source system\n        let sourceSystem = 'LOCAL';\n        if (fileName.includes('azure') || fileName.includes('entra'))\n            sourceSystem = 'ENTRA';\n        else if (fileName.includes('intune'))\n            sourceSystem = 'INTUNE';\n        else if (fileName.includes('exchange'))\n            sourceSystem = 'EXCHANGE';\n        else if (fileName.includes('sharepoint'))\n            sourceSystem = 'SHAREPOINT';\n        else if (dirName.includes('ad') || fileName.includes('activedirectory'))\n            sourceSystem = 'AD';\n        // Determine entity type\n        let entityType = 'INFRASTRUCTURE';\n        if (fileName.includes('user'))\n            entityType = 'USER';\n        else if (fileName.includes('group'))\n            entityType = 'GROUP';\n        else if (fileName.includes('app') || fileName.includes('application'))\n            entityType = 'APPLICATION';\n        else if (fileName.includes('computer') || fileName.includes('device') || fileName.includes('server'))\n            entityType = 'INFRASTRUCTURE';\n        return { sourceSystem, entityType };\n    }\n    /**\n     * Phase 2: Parse CSV files into structured records\n     */\n    async parseCSVFiles(csvFiles) {\n        const recordsByType = {\n            USER: [],\n            GROUP: [],\n            APPLICATION: [],\n            INFRASTRUCTURE: [],\n        };\n        for (const csvFile of csvFiles) {\n            try {\n                const content = await fs.readFile(csvFile.path, 'utf8');\n                const lines = content.split('\\n').filter((line) => line.trim());\n                if (lines.length < 2)\n                    continue; // Skip empty files\n                // Parse CSV with quoted field support\n                const parseCSVLine = (line) => {\n                    const values = [];\n                    let current = '';\n                    let inQuotes = false;\n                    for (let i = 0; i < line.length; i++) {\n                        const char = line[i];\n                        if (char === '\"') {\n                            inQuotes = !inQuotes;\n                        }\n                        else if (char === ',' && !inQuotes) {\n                            values.push(current.trim().replace(/^\"|\"$/g, ''));\n                            current = '';\n                        }\n                        else {\n                            current += char;\n                        }\n                    }\n                    values.push(current.trim().replace(/^\"|\"$/g, ''));\n                    return values;\n                };\n                const headers = parseCSVLine(lines[0]);\n                for (let i = 1; i < lines.length; i++) {\n                    const values = parseCSVLine(lines[i]);\n                    if (values.length < headers.length / 2)\n                        continue; // Skip malformed rows\n                    const data = {};\n                    headers.forEach((header, idx) => {\n                        data[header] = values[idx] || '';\n                    });\n                    const record = {\n                        data,\n                        sourceRef: {\n                            file: csvFile.path,\n                            rowId: String(i),\n                            hash: csvFile.hash,\n                            observedAt: new Date().toISOString(),\n                        },\n                        sourceSystem: csvFile.sourceSystem,\n                    };\n                    recordsByType[csvFile.entityType].push(record);\n                }\n            }\n            catch (err) {\n                console.error('[ConsolidationEngine] Error parsing CSV:', csvFile.path, err);\n            }\n        }\n        return recordsByType;\n    }\n    /**\n     * Phase 3: Create canonical entities from parsed records\n     */\n    async createCanonicalEntities(recordsByType) {\n        const entities = [];\n        // Process each entity type\n        for (const [entityType, records] of Object.entries(recordsByType)) {\n            for (const record of records) {\n                const entity = await this.createCanonicalEntity(entityType, [record]);\n                if (entity) {\n                    entities.push(entity);\n                }\n            }\n        }\n        return entities;\n    }\n    /**\n     * Create a canonical entity from one or more source records\n     */\n    async createCanonicalEntity(entityType, records) {\n        if (records.length === 0)\n            return null;\n        const primaryRecord = records[0];\n        const data = primaryRecord.data;\n        // Extract display name (try multiple fields)\n        const displayName = data.DisplayName ||\n            data.Name ||\n            data.UserPrincipalName ||\n            data.ComputerName ||\n            data.ApplicationName ||\n            data.GroupName ||\n            '';\n        if (!displayName || displayName.trim() === '')\n            return null;\n        // Extract external IDs\n        const externalIds = records.map((rec) => ({\n            system: rec.sourceSystem,\n            id: rec.data.ObjectId || rec.data.Id || rec.data.SID || rec.data.GUID || displayName,\n            tenantOrDomain: rec.data.Domain || rec.data.TenantId,\n        }));\n        // Build provenance\n        const provenance = {\n            sources: [...new Set(records.map((r) => r.sourceSystem))],\n            sourceRecordRefs: records.map((r) => r.sourceRef),\n            confidence: records.length === 1 ? 1.0 : 0.85, // Lower confidence if merged from multiple sources\n            lastObservedAt: new Date().toISOString(),\n        };\n        // Create entity-specific attributes\n        let attributes = {};\n        switch (entityType) {\n            case 'USER':\n                attributes = this.extractUserAttributes(data);\n                break;\n            case 'GROUP':\n                attributes = this.extractGroupAttributes(data);\n                break;\n            case 'APPLICATION':\n                attributes = this.extractApplicationAttributes(data);\n                break;\n            case 'INFRASTRUCTURE':\n                attributes = this.extractInfrastructureAttributes(data);\n                break;\n        }\n        const entity = {\n            id: uuidv4(),\n            entityType,\n            displayName: displayName.trim(),\n            externalIds,\n            attributes,\n            provenance,\n            version: 1,\n            updatedAt: new Date().toISOString(),\n        };\n        return entity;\n    }\n    extractUserAttributes(data) {\n        return {\n            userPrincipalName: data.UserPrincipalName || data.UPN,\n            email: data.Mail || data.Email || data.PrimarySmtpAddress,\n            displayName: data.DisplayName || data.Name,\n            firstName: data.GivenName || data.FirstName,\n            lastName: data.Surname || data.LastName,\n            department: data.Department,\n            jobTitle: data.JobTitle || data.Title,\n            manager: data.Manager || data.ManagerDisplayName,\n            accountEnabled: data.AccountEnabled === 'True' || data.Enabled === 'True',\n        };\n    }\n    extractGroupAttributes(data) {\n        return {\n            groupType: data.GroupType || data.Type,\n            scope: data.Scope || data.GroupScope,\n            description: data.Description,\n            email: data.Mail || data.Email,\n            memberCount: parseInt(data.MemberCount || '0', 10),\n            isSecurityEnabled: data.IsSecurityEnabled === 'True' || data.SecurityEnabled === 'True',\n            isMailEnabled: data.IsMailEnabled === 'True' || data.MailEnabled === 'True',\n        };\n    }\n    extractApplicationAttributes(data) {\n        return {\n            publisher: data.Publisher || data.Vendor,\n            version: data.Version,\n            category: data.Category || data.Type,\n            criticality: data.Criticality,\n            complexity: data.Complexity,\n        };\n    }\n    extractInfrastructureAttributes(data) {\n        return {\n            computerName: data.ComputerName || data.Name || data.DeviceName,\n            os: data.OperatingSystem || data.OS,\n            osVersion: data.OSVersion || data.Version,\n            manufacturer: data.Manufacturer,\n            model: data.Model,\n            serialNumber: data.SerialNumber,\n            ipAddress: data.IPAddress || data.IP,\n        };\n    }\n    /**\n     * Phase 4: Identity matching and merging\n     */\n    async performIdentityMatching(entities) {\n        const mergedEntities = [];\n        const processedIds = new Set();\n        let mergeCount = 0;\n        for (const entity of entities) {\n            if (processedIds.has(entity.id))\n                continue;\n            // Find potential matches\n            const matches = entities.filter((other) => other.id !== entity.id &&\n                !processedIds.has(other.id) &&\n                other.entityType === entity.entityType &&\n                this.arePotentialMatches(entity, other));\n            if (matches.length === 0) {\n                mergedEntities.push(entity);\n                processedIds.add(entity.id);\n                continue;\n            }\n            // Perform identity matching\n            const matchResult = this.calculateIdentityMatch(entity, matches);\n            if (matchResult.confidence >= 0.7) {\n                // High confidence match - merge entities\n                const mergedEntity = await this.mergeEntities(entity, matches, matchResult);\n                mergedEntities.push(mergedEntity);\n                processedIds.add(entity.id);\n                matches.forEach((m) => processedIds.add(m.id));\n                mergeCount += matches.length;\n                // Emit IDENTITY_MATCH trace\n                await traceIdentityMatch(this.profileId, mergedEntity.id, mergedEntity.entityType, [entity, ...matches].map((e) => ({\n                    system: e.provenance.sources[0] || 'LOCAL',\n                    externalId: e.externalIds[0]?.id || e.id,\n                    recordRef: e.provenance.sourceRecordRefs[0] || { file: 'unknown' },\n                })), matchResult.evidence, matchResult.confidence);\n                // Emit ENTITY_MERGE trace\n                await traceEntityMerge(this.profileId, mergedEntity.id, [entity.id, ...matches.map((m) => m.id)], mergedEntity.entityType, { type: 'SYSTEM', id: 'consolidation-engine', displayName: 'Consolidation Engine' }, `Merged ${matches.length + 1} entities based on identity matching`, matchResult.confidence);\n            }\n            else {\n                // Low confidence - keep separate\n                mergedEntities.push(entity);\n                processedIds.add(entity.id);\n            }\n        }\n        return { mergedEntities, mergeCount };\n    }\n    /**\n     * Quick check if two entities are potential matches\n     */\n    arePotentialMatches(entity1, entity2) {\n        // Check display name similarity\n        const name1 = entity1.displayName.toLowerCase();\n        const name2 = entity2.displayName.toLowerCase();\n        // Exact match\n        if (name1 === name2)\n            return true;\n        // Check for common identifiers in external IDs\n        for (const id1 of entity1.externalIds) {\n            for (const id2 of entity2.externalIds) {\n                if (id1.id === id2.id && id1.system !== id2.system) {\n                    return true; // Same ID in different systems\n                }\n            }\n        }\n        // For users, check email/UPN\n        if (entity1.entityType === 'USER' && entity2.entityType === 'USER') {\n            const upn1 = entity1.attributes.userPrincipalName?.toLowerCase();\n            const upn2 = entity2.attributes.userPrincipalName?.toLowerCase();\n            const email1 = entity1.attributes.email?.toLowerCase();\n            const email2 = entity2.attributes.email?.toLowerCase();\n            if ((upn1 && upn1 === upn2) || (email1 && email1 === email2))\n                return true;\n        }\n        return false;\n    }\n    /**\n     * Calculate identity match confidence and evidence\n     */\n    calculateIdentityMatch(entity, potentialMatches) {\n        const evidence = [];\n        let totalConfidence = 0;\n        let evidenceCount = 0;\n        for (const match of potentialMatches) {\n            // Display name match\n            if (entity.displayName.toLowerCase() === match.displayName.toLowerCase()) {\n                evidence.push(createFieldMatchEvidence('DisplayName', entity.displayName, match.displayName, 'Source1', 'Source2', 1.0));\n                totalConfidence += 1.0;\n                evidenceCount++;\n            }\n            // External ID match across systems\n            for (const id1 of entity.externalIds) {\n                for (const id2 of match.externalIds) {\n                    if (id1.id === id2.id && id1.system !== id2.system) {\n                        evidence.push(createFieldMatchEvidence('ExternalId', id1.id, id2.id, id1.system, id2.system, 0.9));\n                        totalConfidence += 0.9;\n                        evidenceCount++;\n                    }\n                }\n            }\n            // Entity-specific matching\n            if (entity.entityType === 'USER' && match.entityType === 'USER') {\n                const upn1 = entity.attributes.userPrincipalName?.toLowerCase();\n                const upn2 = match.attributes.userPrincipalName?.toLowerCase();\n                if (upn1 && upn1 === upn2) {\n                    evidence.push(createFieldMatchEvidence('UserPrincipalName', upn1, upn2, 'AD', 'Entra', 0.95));\n                    totalConfidence += 0.95;\n                    evidenceCount++;\n                }\n            }\n        }\n        const confidence = evidenceCount > 0 ? totalConfidence / evidenceCount : 0;\n        return {\n            confidence,\n            evidence,\n            matchedRecords: [], // We're working with entities, not raw records here\n        };\n    }\n    /**\n     * Merge multiple entities into one canonical entity\n     */\n    async mergeEntities(primaryEntity, otherEntities, matchResult) {\n        const allEntities = [primaryEntity, ...otherEntities];\n        // Merge external IDs\n        const externalIds = [];\n        for (const entity of allEntities) {\n            for (const extId of entity.externalIds) {\n                if (!externalIds.some((e) => e.id === extId.id && e.system === extId.system)) {\n                    externalIds.push(extId);\n                }\n            }\n        }\n        // Merge provenance\n        const sources = [...new Set(allEntities.flatMap((e) => e.provenance.sources))];\n        const sourceRecordRefs = allEntities.flatMap((e) => e.provenance.sourceRecordRefs);\n        // Merge attributes (prefer non-empty values)\n        const mergedAttributes = {};\n        for (const entity of allEntities) {\n            for (const [key, value] of Object.entries(entity.attributes)) {\n                if (!mergedAttributes[key] || (value && String(value).trim() !== '')) {\n                    mergedAttributes[key] = value;\n                }\n            }\n        }\n        const mergedEntity = {\n            id: uuidv4(), // New ID for merged entity\n            entityType: primaryEntity.entityType,\n            displayName: primaryEntity.displayName,\n            externalIds,\n            attributes: mergedAttributes,\n            provenance: {\n                sources,\n                sourceRecordRefs,\n                confidence: matchResult.confidence,\n                lastObservedAt: new Date().toISOString(),\n            },\n            version: 1,\n            updatedAt: new Date().toISOString(),\n        };\n        return mergedEntity;\n    }\n    /**\n     * Phase 5: Infer relationships between entities\n     */\n    async inferRelationships(entities, recordsByType) {\n        const relationships = [];\n        // Build entity lookup indices\n        const entityByUPN = new Map();\n        const entityByName = new Map();\n        const entityByExtId = new Map();\n        for (const entity of entities) {\n            entityByName.set(entity.displayName.toLowerCase(), entity);\n            if (entity.entityType === 'USER') {\n                const upn = entity.attributes.userPrincipalName;\n                if (upn)\n                    entityByUPN.set(upn.toLowerCase(), entity);\n            }\n            for (const extId of entity.externalIds) {\n                entityByExtId.set(`${extId.system}:${extId.id}`, entity);\n            }\n        }\n        // Infer relationships from CSV data\n        for (const [entityType, records] of Object.entries(recordsByType)) {\n            for (const record of records) {\n                const data = record.data;\n                // Find the entity corresponding to this record\n                const displayName = data.DisplayName || data.Name || data.UserPrincipalName || data.ComputerName || '';\n                const sourceEntity = entityByName.get(displayName.toLowerCase());\n                if (!sourceEntity)\n                    continue;\n                // USER  GROUP (MEMBER_OF)\n                if (entityType === 'USER' && data.GroupMemberships) {\n                    const groups = String(data.GroupMemberships).split(';').map(g => g.trim()).filter(Boolean);\n                    for (const groupName of groups) {\n                        const groupEntity = entityByName.get(groupName.toLowerCase());\n                        if (groupEntity && groupEntity.entityType === 'GROUP') {\n                            const rel = await this.createRelationship(sourceEntity, groupEntity, 'MEMBER_OF', [createMembershipEvidence(groupName, [sourceEntity.displayName])], 0.9, [record.sourceRef]);\n                            relationships.push(rel);\n                        }\n                    }\n                }\n                // USER  DEVICE (HAS_DEVICE)\n                if (entityType === 'USER' && data.AssignedDevices) {\n                    const devices = String(data.AssignedDevices).split(';').map(d => d.trim()).filter(Boolean);\n                    for (const deviceName of devices) {\n                        const deviceEntity = entityByName.get(deviceName.toLowerCase());\n                        if (deviceEntity && deviceEntity.entityType === 'INFRASTRUCTURE') {\n                            const rel = await this.createRelationship(sourceEntity, deviceEntity, 'HAS_DEVICE', [createOwnershipEvidence('AssignedDevices', deviceName)], 0.85, [record.sourceRef]);\n                            relationships.push(rel);\n                        }\n                    }\n                }\n                // INFRASTRUCTURE  APPLICATION (HOSTS_APPLICATION)\n                if (entityType === 'INFRASTRUCTURE' && data.InstalledApplications) {\n                    const apps = String(data.InstalledApplications).split(';').map(a => a.trim()).filter(Boolean);\n                    for (const appName of apps) {\n                        const appEntity = entityByName.get(appName.toLowerCase());\n                        if (appEntity && appEntity.entityType === 'APPLICATION') {\n                            const rel = await this.createRelationship(sourceEntity, appEntity, 'HOSTS_APPLICATION', [createAccessEvidence('Installed', appName)], 0.8, [record.sourceRef]);\n                            relationships.push(rel);\n                        }\n                    }\n                }\n            }\n        }\n        console.log(`[ConsolidationEngine] Inferred ${relationships.length} relationships`);\n        return relationships;\n    }\n    /**\n     * Create a canonical relationship with trace\n     */\n    async createRelationship(fromEntity, toEntity, relationType, evidence, confidence, sourceRefs) {\n        const relationId = uuidv4();\n        const relation = {\n            id: relationId,\n            type: relationType,\n            fromEntityId: fromEntity.id,\n            toEntityId: toEntity.id,\n            attributes: {},\n            provenance: {\n                inferred: true,\n                sources: [...new Set(sourceRefs.map((r) => r.file))],\n                sourceRecordRefs: sourceRefs,\n                confidence,\n                rationale: `Inferred ${relationType} relationship based on ${evidence.length} pieces of evidence`,\n            },\n            version: 1,\n            updatedAt: new Date().toISOString(),\n            isActive: true,\n        };\n        // Emit RELATIONSHIP_INFERRED trace\n        await traceRelationshipInferred(this.profileId, relationId, fromEntity.id, toEntity.id, relationType, evidence, confidence, sourceRefs);\n        return relation;\n    }\n    /**\n     * Phase 6: Detect conflicts in merged entities\n     */\n    detectConflicts(entities) {\n        let conflictCount = 0;\n        for (const entity of entities) {\n            if (entity.provenance.sources.length > 1) {\n                // Check for conflicting values across sources\n                // This is a simplified implementation\n                const conflicts = [];\n                // In a real implementation, we'd compare field values across source records\n                // and detect when sources disagree\n                if (conflicts.length > 0) {\n                    entity.provenance.conflicts = conflicts;\n                    conflictCount++;\n                }\n            }\n        }\n        return conflictCount;\n    }\n}\n// Export singleton\nexport const consolidationEngine = ConsolidationEngine.getInstance();\n","/**\n * Credential Service\n * Manages secure storage and retrieval of credentials\n * Uses Windows Credential Manager on Windows, Keychain on macOS, libsecret on Linux\n *\n * Credential Precedence (highest to lowest):\n * 1. ENV variables (AZURE_TENANT_ID, AZURE_CLIENT_ID, AZURE_CLIENT_SECRET)\n * 2. safeStorage encrypted credentials (secure, modern)\n * 3. Legacy unencrypted discoverycredentials.config (C:\\DiscoveryData\\{profile}\\Credentials)\n *\n * Security Note:\n * Legacy files are UNENCRYPTED - auto-migrates to safeStorage on first load\n */\nimport { promises as fs } from 'fs';\nimport path from 'path';\nimport { safeStorage, app } from 'electron';\nexport class CredentialService {\n    credentialsPath;\n    store = { credentials: [] };\n    initialized = false;\n    constructor() {\n        const userDataPath = app.getPath('userData');\n        this.credentialsPath = path.join(userDataPath, 'credentials.enc');\n    }\n    /**\n     * Initialize the credential service\n     */\n    async initialize() {\n        if (this.initialized) {\n            return;\n        }\n        // Verify encryption is available\n        if (!safeStorage.isEncryptionAvailable()) {\n            console.warn('Encryption not available - credentials will not be stored');\n            this.initialized = true;\n            return;\n        }\n        try {\n            const encryptedData = await fs.readFile(this.credentialsPath);\n            const decryptedData = safeStorage.decryptString(encryptedData);\n            this.store = JSON.parse(decryptedData);\n        }\n        catch (error) {\n            if (error.code !== 'ENOENT') {\n                console.error('Error loading credentials:', error);\n            }\n            this.store = { credentials: [] };\n        }\n        this.initialized = true;\n    }\n    /**\n     * Store credentials for a profile\n     */\n    async storeCredential(profileId, username, password, connectionType, domain, tenantId, clientId) {\n        await this.ensureInitialized();\n        if (!safeStorage.isEncryptionAvailable()) {\n            throw new Error('Encryption not available - cannot store credentials');\n        }\n        // Encrypt password\n        const encryptedPassword = safeStorage.encryptString(password).toString('base64');\n        // Remove existing credential for this profile\n        this.store.credentials = this.store.credentials.filter((c) => c.profileId !== profileId);\n        // Add new credential\n        this.store.credentials.push({\n            profileId,\n            username,\n            encryptedPassword,\n            domain,\n            connectionType,\n            createdAt: new Date().toISOString(),\n            tenantId,\n            clientId,\n        });\n        await this.save();\n    }\n    /**\n     * Clear cached credentials for a profile\n     * Call this before reading credentials to ensure fresh data from files\n     */\n    async clearCachedCredential(profileId) {\n        await this.ensureInitialized();\n        const hadCached = this.store.credentials.some((c) => c.profileId === profileId);\n        this.store.credentials = this.store.credentials.filter((c) => c.profileId !== profileId);\n        if (hadCached) {\n            console.log(`[CredentialService]  Cleared cached credentials for profile: ${profileId}`);\n            await this.save();\n        }\n    }\n    /**\n     * Retrieve credentials for a profile\n     * Follows precedence: ENV > Legacy File (fresh) > safeStorage (cached)\n     * IMPORTANT: Always reads from file system first to get latest credentials\n     */\n    async getCredential(profileId) {\n        await this.ensureInitialized();\n        console.log(`[CredentialService] ========================================`);\n        console.log(`[CredentialService] getCredential called for profile: ${profileId}`);\n        console.log(`[CredentialService] ========================================`);\n        // 1. Check ENV variables (highest priority)\n        const envCreds = this.getCredentialsFromEnv();\n        if (envCreds) {\n            console.log(`[CredentialService]  Using ENV variables for profile: ${profileId}`);\n            console.log(`[CredentialService] TenantId: ${envCreds.tenantId?.substring(0, 8)}...`);\n            console.log(`[CredentialService] ClientId: ${envCreds.clientId?.substring(0, 8)}...`);\n            return envCreds;\n        }\n        // 2. ALWAYS check legacy file FIRST (fresh from disk - authoritative source)\n        // This ensures we get the latest credentials after app registration\n        console.log(`[CredentialService] Checking legacy file FIRST (fresh from disk)...`);\n        const legacyCreds = await this.loadLegacyCredentials(profileId);\n        if (legacyCreds) {\n            console.log(`[CredentialService]  Successfully loaded FRESH credentials from file for profile: ${profileId}`);\n            console.log(`[CredentialService] TenantId: ${legacyCreds.TenantId?.substring(0, 8)}...`);\n            console.log(`[CredentialService] ClientId: ${legacyCreds.ClientId?.substring(0, 8)}...`);\n            console.log(`[CredentialService] ClientSecret length: ${legacyCreds.ClientSecret?.length || 0} characters`);\n            console.log(`[CredentialService] Domain: ${legacyCreds.Domain || 'N/A'}`);\n            // Check if cached credentials are stale (different clientId)\n            const cachedCred = this.store.credentials.find((c) => c.profileId === profileId);\n            if (cachedCred && cachedCred.clientId !== legacyCreds.ClientId) {\n                console.warn(`[CredentialService]  Cached credentials are STALE (different ClientId)`);\n                console.warn(`[CredentialService] Cached: ${cachedCred.clientId}, File: ${legacyCreds.ClientId}`);\n                console.warn(`[CredentialService] Clearing stale cached credentials...`);\n                await this.clearCachedCredential(profileId);\n            }\n            // Return fresh credentials from file (do NOT auto-migrate to avoid caching issues)\n            return {\n                username: legacyCreds.ClientId,\n                password: legacyCreds.ClientSecret,\n                connectionType: 'AzureAD',\n                tenantId: legacyCreds.TenantId,\n                clientId: legacyCreds.ClientId,\n                clientSecret: legacyCreds.ClientSecret,\n            };\n        }\n        // 3. Fallback to safeStorage (cached) only if no file exists\n        console.log(`[CredentialService] No legacy file found, checking safeStorage cache as fallback...`);\n        const credential = this.store.credentials.find((c) => c.profileId === profileId);\n        if (credential) {\n            console.log(`[CredentialService] Found safeStorage credentials for profile: ${profileId}`);\n            if (!safeStorage.isEncryptionAvailable()) {\n                throw new Error('Encryption not available - cannot decrypt credentials');\n            }\n            try {\n                // Decrypt password\n                const encryptedBuffer = Buffer.from(credential.encryptedPassword, 'base64');\n                const password = safeStorage.decryptString(encryptedBuffer);\n                // Update last used\n                credential.lastUsed = new Date().toISOString();\n                await this.save();\n                console.log(`[CredentialService]  Successfully decrypted safeStorage credentials`);\n                console.log(`[CredentialService] Username: ${credential.username}`);\n                console.log(`[CredentialService] Connection type: ${credential.connectionType}`);\n                console.log(`[CredentialService] TenantId: ${credential.tenantId?.substring(0, 8)}...`);\n                console.log(`[CredentialService] ClientId: ${credential.clientId?.substring(0, 8)}...`);\n                return {\n                    username: credential.username,\n                    password,\n                    domain: credential.domain,\n                    connectionType: credential.connectionType,\n                    tenantId: credential.tenantId,\n                    clientId: credential.clientId,\n                    clientSecret: password,\n                };\n            }\n            catch (error) {\n                console.error('[CredentialService]  Error decrypting safeStorage credential:', error);\n                throw new Error('Failed to decrypt credential');\n            }\n        }\n        console.warn(`[CredentialService]  No credentials found for profile: ${profileId}`);\n        console.warn(`[CredentialService] Checked legacy path: C:\\\\DiscoveryData\\\\${profileId}\\\\Credentials\\\\discoverycredentials.config`);\n        console.log(`[CredentialService] ========================================`);\n        return null;\n    }\n    /**\n     * Load credentials from ENV variables\n     */\n    getCredentialsFromEnv() {\n        const tenantId = process.env.AZURE_TENANT_ID;\n        const clientId = process.env.AZURE_CLIENT_ID;\n        const clientSecret = process.env.AZURE_CLIENT_SECRET;\n        if (tenantId && clientId && clientSecret) {\n            return {\n                username: clientId,\n                password: clientSecret,\n                tenantId,\n                clientId,\n                clientSecret,\n                connectionType: 'AzureAD',\n            };\n        }\n        return null;\n    }\n    /**\n     * Load legacy credentials from C:\\DiscoveryData\\{profile}\\Credentials\\discoverycredentials.config\n     * Supports both DPAPI-encrypted (default) and unencrypted (legacy) formats\n     */\n    async loadLegacyCredentials(profileId) {\n        try {\n            const legacyPath = path.join('C:', 'DiscoveryData', profileId, 'Credentials', 'discoverycredentials.config');\n            console.log(`[CredentialService] Checking legacy credentials at: ${legacyPath}`);\n            // Check if file exists\n            try {\n                await fs.access(legacyPath);\n            }\n            catch {\n                return null;\n            }\n            let data = await fs.readFile(legacyPath, 'utf-8');\n            // Strip BOM (Byte Order Mark) if present - PowerShell often adds UTF-8 BOM\n            if (data.charCodeAt(0) === 0xFEFF) {\n                data = data.slice(1);\n            }\n            data = data.trim();\n            // Try to parse as JSON first (unencrypted legacy format)\n            try {\n                const creds = JSON.parse(data);\n                // Check if specific fields are encrypted (Hybrid JSON format)\n                if (creds.Encrypted && creds.ClientSecret) {\n                    console.log(`[CredentialService]  Detected encrypted fields in JSON credentials`);\n                    console.log(`[CredentialService] Decrypting ClientSecret via DPAPI...`);\n                    const decryptedSecret = await this.decryptStringWithPowerShell(creds.ClientSecret);\n                    if (decryptedSecret) {\n                        creds.ClientSecret = decryptedSecret;\n                        creds.Encrypted = false; // Mark as decrypted\n                        console.log(`[CredentialService]  Successfully decrypted ClientSecret`);\n                    }\n                    else {\n                        console.error(`[CredentialService]  Failed to decrypt ClientSecret`);\n                        // Continue anyway, maybe the secret wasn't actually encrypted or will fail later\n                    }\n                }\n                // Validate required fields\n                if (!creds.TenantId || !creds.ClientId || !creds.ClientSecret) {\n                    console.warn(`[CredentialService] Legacy credentials missing required fields`);\n                    return null;\n                }\n                console.log(`[CredentialService]  Loaded legacy credentials`);\n                return creds;\n            }\n            catch (jsonError) {\n                // Not JSON - try DPAPI decryption (whole file)\n                console.log(`[CredentialService] File is not JSON, attempting whole-file DPAPI decryption...`);\n                return await this.decryptLegacyCredentialsDPAPI(legacyPath);\n            }\n        }\n        catch (error) {\n            if (error.code !== 'ENOENT') {\n                console.error(`[CredentialService] Error loading legacy credentials:`, error);\n            }\n            return null;\n        }\n    }\n    /**\n     * Validate credential file format and integrity\n     */\n    async validateCredentialFile(filePath) {\n        try {\n            const stats = await fs.stat(filePath);\n            console.log(`[CredentialService] File size: ${stats.size} bytes, modified: ${stats.mtime}`);\n            const content = await fs.readFile(filePath, 'utf-8');\n            const trimmed = content.trim();\n            // Check for BOM\n            const hasBOM = content.charCodeAt(0) === 0xFEFF;\n            console.log(`[CredentialService] Has BOM: ${hasBOM}`);\n            // Try parsing as JSON first\n            try {\n                const parsed = JSON.parse(hasBOM ? content.slice(1) : content);\n                console.log(`[CredentialService] File is valid JSON with keys: ${Object.keys(parsed).join(', ')}`);\n                return { isValid: true, format: 'plain', details: 'Valid JSON format' };\n            }\n            catch {\n                // Not JSON, assume DPAPI encrypted\n                console.log(`[CredentialService] File is not JSON, likely DPAPI encrypted`);\n                return { isValid: true, format: 'dpapi', details: 'Non-JSON content, likely DPAPI encrypted' };\n            }\n        }\n        catch (error) {\n            return {\n                isValid: false,\n                format: 'corrupted',\n                details: `File read error: ${error instanceof Error ? error.message : String(error)}`\n            };\n        }\n    }\n    /**\n     * Decrypt a single encrypted string using PowerShell (DPAPI)\n     */\n    async decryptStringWithPowerShell(encryptedString) {\n        const { spawn } = await import('child_process');\n        const script = `\r\n      try {\r\n        $ss = ConvertTo-SecureString -String '${encryptedString}'\r\n        $bstr = [Runtime.InteropServices.Marshal]::SecureStringToBSTR($ss)\r\n        $plain = [Runtime.InteropServices.Marshal]::PtrToStringAuto($bstr)\r\n        [Runtime.InteropServices.Marshal]::ZeroFreeBSTR($bstr)\r\n        Write-Output $plain\r\n      } catch {\r\n        # Silent fail for cleaner logs, caller handles null\r\n        exit 1\r\n      }\r\n    `;\n        return new Promise((resolve) => {\n            const child = spawn('powershell.exe', [\n                '-NoProfile',\n                '-NonInteractive',\n                '-ExecutionPolicy', 'Bypass',\n                '-Command',\n                script\n            ]);\n            let stdout = '';\n            child.stdout?.on('data', (data) => {\n                stdout += data.toString();\n            });\n            child.on('close', (code) => {\n                if (code !== 0) {\n                    resolve(null);\n                    return;\n                }\n                resolve(stdout.trim());\n            });\n            child.on('error', () => {\n                resolve(null);\n            });\n        });\n    }\n    /**\n     * Execute PowerShell script to decrypt credentials\n     */\n    async executePowerShellDecryption(script, filePath) {\n        const { spawn } = await import('child_process');\n        return new Promise((resolve) => {\n            const child = spawn('powershell.exe', [\n                '-NoProfile',\n                '-NonInteractive',\n                '-ExecutionPolicy', 'Bypass',\n                '-Command',\n                script\n            ]);\n            let stdout = '';\n            let stderr = '';\n            child.stdout?.on('data', (data) => {\n                stdout += data.toString();\n            });\n            child.stderr?.on('data', (data) => {\n                stderr += data.toString();\n            });\n            child.on('close', (code) => {\n                if (code !== 0) {\n                    console.error(`[CredentialService] PowerShell exit code: ${code}`);\n                    console.error(`[CredentialService] stderr: ${stderr}`);\n                    resolve(null);\n                    return;\n                }\n                try {\n                    const trimmedOutput = stdout.trim();\n                    console.log(`[CredentialService] PowerShell output length: ${trimmedOutput.length} characters`);\n                    const creds = JSON.parse(trimmedOutput);\n                    // Validate required fields\n                    if (!creds.TenantId || !creds.ClientId || !creds.ClientSecret) {\n                        console.warn(`[CredentialService] Decrypted credentials missing required fields`);\n                        console.warn(`[CredentialService] Has TenantId: ${!!creds.TenantId}, Has ClientId: ${!!creds.ClientId}, Has ClientSecret: ${!!creds.ClientSecret}`);\n                        resolve(null);\n                        return;\n                    }\n                    console.log(`[CredentialService]  Successfully parsed decrypted credentials`);\n                    console.log(`[CredentialService] ClientSecret length: ${creds.ClientSecret?.length || 0} characters`);\n                    resolve(creds);\n                }\n                catch (error) {\n                    console.error(`[CredentialService] Failed to parse PowerShell output as JSON:`, error);\n                    console.error(`[CredentialService] Output was: ${stdout.substring(0, 200)}...`);\n                    resolve(null);\n                }\n            });\n            child.on('error', (error) => {\n                console.error(`[CredentialService] PowerShell process error:`, error);\n                resolve(null);\n            });\n        });\n    }\n    /**\n     * Decrypt DPAPI-encrypted credential file using PowerShell\n     * Tries multiple decryption approaches for maximum compatibility\n     */\n    async decryptLegacyCredentialsDPAPI(filePath) {\n        try {\n            console.log(`[CredentialService] ========================================`);\n            console.log(`[CredentialService] Starting DPAPI decryption for: ${filePath}`);\n            console.log(`[CredentialService] ========================================`);\n            // Validate file first\n            const validation = await this.validateCredentialFile(filePath);\n            console.log(`[CredentialService] File validation: ${validation.format} - ${validation.details}`);\n            if (!validation.isValid) {\n                console.error(`[CredentialService]  File validation failed: ${validation.details}`);\n                return null;\n            }\n            const escapedPath = filePath.replace(/\\\\/g, '\\\\\\\\');\n            // Define multiple decryption strategies\n            const decryptionScripts = [\n                {\n                    name: 'Hex-encoded DPAPI (Enhanced - Roo Fix)',\n                    script: `\r\n            try {\r\n              $hex = (Get-Content -Raw -Path '${escapedPath}').Trim()\r\n              if ($hex[0] -eq [char]0xFEFF) { $hex = $hex.Substring(1) }\r\n\r\n              # Check if it looks like hex (DPAPI blob header: 01000000d08c9ddf...)\r\n              if ($hex -match '^[0-9A-Fa-f]+$') {\r\n                 if ($hex.Length % 2 -ne 0) {\r\n                   Write-Error \"Invalid hex string length: $($hex.Length)\"\r\n                   exit 1\r\n                 }\r\n\r\n                 # Convert Hex to Byte[] using .NET for better performance\r\n                 $byteCount = $hex.Length / 2\r\n                 $bytes = New-Object byte[] $byteCount\r\n\r\n                 for ($i = 0; $i -lt $byteCount; $i++) {\r\n                   $bytes[$i] = [Convert]::ToByte($hex.Substring($i * 2, 2), 16)\r\n                 }\r\n\r\n                 # Verify DPAPI header (should start with 01000000)\r\n                 if ($bytes[0] -ne 0x01 -or $bytes[1] -ne 0x00 -or $bytes[2] -ne 0x00 -or $bytes[3] -ne 0x00) {\r\n                   Write-Error \"Invalid DPAPI blob header\"\r\n                   exit 1\r\n                 }\r\n\r\n                 # Decrypt using DPAPI\r\n                 Add-Type -AssemblyName System.Security\r\n                 $decryptedBytes = [System.Security.Cryptography.ProtectedData]::Unprotect(\r\n                   $bytes,\r\n                   $null,\r\n                   [System.Security.Cryptography.DataProtectionScope]::CurrentUser\r\n                 )\r\n\r\n                 # Convert to UTF-8 string\r\n                 $json = [System.Text.Encoding]::UTF8.GetString($decryptedBytes)\r\n\r\n                 # Verify it's valid JSON before returning\r\n                 $null = $json | ConvertFrom-Json -ErrorAction Stop\r\n\r\n                 Write-Output $json\r\n              } else {\r\n                 Write-Error \"Content is not a hex string (expected DPAPI blob)\"\r\n                 exit 1\r\n              }\r\n            } catch {\r\n              Write-Error \"Hex DPAPI decryption failed: $($_.Exception.Message)\"\r\n              exit 1\r\n            }\r\n          `\n                },\n                {\n                    name: 'Standard DPAPI SecureString (ConvertTo-SecureString)',\n                    script: `\r\n            try {\r\n              $enc = (Get-Content -Raw -Path '${escapedPath}').Trim()\r\n              if ($enc[0] -eq [char]0xFEFF) { $enc = $enc.Substring(1) }\r\n              $ss = $enc | ConvertTo-SecureString\r\n              $bstr = [Runtime.InteropServices.Marshal]::SecureStringToBSTR($ss)\r\n              $json = [Runtime.InteropServices.Marshal]::PtrToStringUni($bstr)\r\n              [Runtime.InteropServices.Marshal]::ZeroFreeBSTR($bstr)\r\n              Write-Output $json\r\n            } catch {\r\n              Write-Error $_.Exception.Message\r\n              exit 1\r\n            }\r\n          `\n                },\n                {\n                    name: 'DPAPI ProtectedData.Unprotect (Base64)',\n                    script: `\r\n            try {\r\n              Add-Type -AssemblyName System.Security\r\n              $encContent = (Get-Content -Raw -Path '${escapedPath}').Trim()\r\n              if ($encContent[0] -eq [char]0xFEFF) { $encContent = $encContent.Substring(1) }\r\n\r\n              $encryptedBytes = [System.Convert]::FromBase64String($encContent)\r\n              $decryptedBytes = [System.Security.Cryptography.ProtectedData]::Unprotect(\r\n                $encryptedBytes,\r\n                $null,\r\n                [System.Security.Cryptography.DataProtectionScope]::CurrentUser\r\n              )\r\n              $json = [System.Text.Encoding]::UTF8.GetString($decryptedBytes)\r\n              Write-Output $json\r\n            } catch {\r\n              Write-Error $_.Exception.Message\r\n              exit 1\r\n            }\r\n          `\n                },\n                {\n                    name: 'Check if already plain JSON',\n                    script: `\r\n            try {\r\n              $content = (Get-Content -Raw -Path '${escapedPath}').Trim()\r\n              if ($content[0] -eq [char]0xFEFF) { $content = $content.Substring(1) }\r\n\r\n              if ($content -match '^\\\\s*[{\\\\[]') {\r\n                Write-Output $content\r\n              } else {\r\n                Write-Error \"Not plain JSON\"\r\n                exit 1\r\n              }\r\n            } catch {\r\n              Write-Error $_.Exception.Message\r\n              exit 1\r\n            }\r\n          `\n                },\n                {\n                    name: 'Hybrid approach (try DPAPI, fallback to plain)',\n                    script: `\r\n            try {\r\n              $content = (Get-Content -Raw -Path '${escapedPath}').Trim()\r\n              if ($content[0] -eq [char]0xFEFF) { $content = $content.Substring(1) }\r\n\r\n              # Check if it's plain JSON first\r\n              if ($content -match '^\\\\s*[{\\\\[]') {\r\n                Write-Output $content\r\n              } else {\r\n                # Try DPAPI decryption\r\n                try {\r\n                  $ss = $content | ConvertTo-SecureString -ErrorAction Stop\r\n                  $bstr = [Runtime.InteropServices.Marshal]::SecureStringToBSTR($ss)\r\n                  $json = [Runtime.InteropServices.Marshal]::PtrToStringUni($bstr)\r\n                  [Runtime.InteropServices.Marshal]::ZeroFreeBSTR($bstr)\r\n                  Write-Output $json\r\n                } catch {\r\n                  # Try Base64 DPAPI\r\n                  Add-Type -AssemblyName System.Security\r\n                  $encryptedBytes = [System.Convert]::FromBase64String($content)\r\n                  $decryptedBytes = [System.Security.Cryptography.ProtectedData]::Unprotect(\r\n                    $encryptedBytes,\r\n                    $null,\r\n                    [System.Security.Cryptography.DataProtectionScope]::CurrentUser\r\n                  )\r\n                  $json = [System.Text.Encoding]::UTF8.GetString($decryptedBytes)\r\n                  Write-Output $json\r\n                }\r\n              }\r\n            } catch {\r\n              Write-Error $_.Exception.Message\r\n              exit 1\r\n            }\r\n          `\n                }\n            ];\n            // Try each decryption approach in order\n            for (const [index, approach] of decryptionScripts.entries()) {\n                console.log(`[CredentialService] ----------------------------------------`);\n                console.log(`[CredentialService] Trying approach ${index + 1}/${decryptionScripts.length}: ${approach.name}`);\n                console.log(`[CredentialService] ----------------------------------------`);\n                try {\n                    const result = await this.executePowerShellDecryption(approach.script, filePath);\n                    if (result) {\n                        console.log(`[CredentialService]  Decryption approach ${index + 1} succeeded: ${approach.name}`);\n                        console.log(`[CredentialService] ========================================`);\n                        return result;\n                    }\n                    else {\n                        console.warn(`[CredentialService]  Approach ${index + 1} returned null: ${approach.name}`);\n                    }\n                }\n                catch (error) {\n                    console.warn(`[CredentialService]  Approach ${index + 1} failed: ${approach.name}`, error);\n                }\n            }\n            console.error(`[CredentialService]  All ${decryptionScripts.length} DPAPI decryption approaches failed`);\n            console.log(`[CredentialService] ========================================`);\n            return null;\n        }\n        catch (error) {\n            console.error(`[CredentialService]  Error in DPAPI decryption:`, error);\n            return null;\n        }\n    }\n    /**\n     * Migrate legacy credentials to safeStorage with backup\n     */\n    async migrateLegacyCredentials(profileId, legacyCreds) {\n        try {\n            console.log(`[CredentialService] ========================================`);\n            console.log(`[CredentialService] Starting credential migration for profile: ${profileId}`);\n            console.log(`[CredentialService] ========================================`);\n            // Validate credentials before migration\n            if (!legacyCreds.TenantId || !legacyCreds.ClientId || !legacyCreds.ClientSecret) {\n                const missing = [];\n                if (!legacyCreds.TenantId)\n                    missing.push('TenantId');\n                if (!legacyCreds.ClientId)\n                    missing.push('ClientId');\n                if (!legacyCreds.ClientSecret)\n                    missing.push('ClientSecret');\n                throw new Error(`Legacy credentials missing required fields: ${missing.join(', ')}`);\n            }\n            console.log(`[CredentialService] Validation passed - all required fields present`);\n            console.log(`[CredentialService] TenantId: ${legacyCreds.TenantId.substring(0, 8)}...`);\n            console.log(`[CredentialService] ClientId: ${legacyCreds.ClientId.substring(0, 8)}...`);\n            console.log(`[CredentialService] ClientSecret length: ${legacyCreds.ClientSecret.length} characters`);\n            // Store in safeStorage\n            await this.storeCredential(profileId, legacyCreds.ClientId, legacyCreds.ClientSecret, 'AzureAD', legacyCreds.Domain, legacyCreds.TenantId, legacyCreds.ClientId);\n            console.log(`[CredentialService]  Credentials stored in safeStorage`);\n            // Backup original file\n            try {\n                const legacyPath = path.join('C:', 'DiscoveryData', profileId, 'Credentials', 'discoverycredentials.config');\n                const timestamp = new Date().toISOString().replace(/[:.]/g, '-');\n                const backupPath = `${legacyPath}.migrated.${timestamp}`;\n                await fs.copyFile(legacyPath, backupPath);\n                console.log(`[CredentialService]  Backed up original credentials to: ${backupPath}`);\n            }\n            catch (backupError) {\n                console.warn(`[CredentialService]  Failed to backup original file (non-fatal):`, backupError);\n            }\n            console.log(`[CredentialService]  Successfully migrated credentials for profile: ${profileId}`);\n            console.log(`[CredentialService] ========================================`);\n        }\n        catch (error) {\n            console.error(`[CredentialService]  Migration failed:`, error);\n            console.error(`[CredentialService] Error details:`, error instanceof Error ? error.message : String(error));\n            console.log(`[CredentialService] ========================================`);\n            throw new Error(`Failed to migrate credentials: ${error instanceof Error ? error.message : String(error)}`);\n        }\n    }\n    /**\n     * Delete credentials for a profile\n     */\n    async deleteCredential(profileId) {\n        await this.ensureInitialized();\n        this.store.credentials = this.store.credentials.filter((c) => c.profileId !== profileId);\n        await this.save();\n    }\n    /**\n     * Check if credentials exist for a profile\n     * Checks all sources: ENV, legacy files (fresh), and safeStorage\n     * Priority: ENV > Legacy File > safeStorage\n     */\n    async hasCredential(profileId) {\n        await this.ensureInitialized();\n        // Check ENV variables\n        if (this.getCredentialsFromEnv()) {\n            return true;\n        }\n        // Check legacy file FIRST (fresh from disk)\n        const legacyCreds = await this.loadLegacyCredentials(profileId);\n        if (legacyCreds !== null) {\n            return true;\n        }\n        // Check safeStorage as fallback\n        if (this.store.credentials.some((c) => c.profileId === profileId)) {\n            return true;\n        }\n        return false;\n    }\n    /**\n     * List all profiles with stored credentials\n     */\n    async listProfiles() {\n        await this.ensureInitialized();\n        return this.store.credentials.map((c) => ({\n            profileId: c.profileId,\n            username: c.username,\n            connectionType: c.connectionType,\n            createdAt: c.createdAt,\n            lastUsed: c.lastUsed,\n        }));\n    }\n    /**\n     * Clear all stored credentials (use with caution)\n     */\n    async clearAll() {\n        this.store = { credentials: [] };\n        await this.save();\n    }\n    /**\n     * Save credentials to disk (encrypted)\n     */\n    async save() {\n        if (!safeStorage.isEncryptionAvailable()) {\n            return;\n        }\n        try {\n            // Ensure directory exists\n            await fs.mkdir(path.dirname(this.credentialsPath), { recursive: true });\n            // Encrypt entire store\n            const data = JSON.stringify(this.store);\n            const encryptedData = safeStorage.encryptString(data);\n            // Write to disk\n            await fs.writeFile(this.credentialsPath, encryptedData);\n        }\n        catch (error) {\n            console.error('Error saving credentials:', error);\n            throw new Error(`Failed to save credentials: ${error}`);\n        }\n    }\n    /**\n     * Validate credential structure for Azure AD\n     * Ensures all required fields are present and valid\n     */\n    validateCredentialStructure(creds) {\n        console.log('[CredentialService] Validating credential structure');\n        if (!creds) {\n            console.error('[CredentialService]  Credentials object is null/undefined');\n            return false;\n        }\n        // Check TenantId\n        if (!creds.TenantId || typeof creds.TenantId !== 'string') {\n            console.error('[CredentialService]  TenantId missing or invalid');\n            return false;\n        }\n        if (!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(creds.TenantId)) {\n            console.error('[CredentialService]  TenantId is not a valid GUID');\n            return false;\n        }\n        // Check ClientId\n        if (!creds.ClientId || typeof creds.ClientId !== 'string') {\n            console.error('[CredentialService]  ClientId missing or invalid');\n            return false;\n        }\n        if (!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(creds.ClientId)) {\n            console.error('[CredentialService]  ClientId is not a valid GUID');\n            return false;\n        }\n        // Check ClientSecret\n        if (!creds.ClientSecret || typeof creds.ClientSecret !== 'string') {\n            console.error('[CredentialService]  ClientSecret missing or invalid');\n            return false;\n        }\n        if (creds.ClientSecret.length < 8) {\n            console.error('[CredentialService]  ClientSecret too short (minimum 8 characters)');\n            return false;\n        }\n        console.log('[CredentialService]  Credential structure is valid');\n        console.log(`[CredentialService]   TenantId: ${creds.TenantId.substring(0, 8)}...`);\n        console.log(`[CredentialService]   ClientId: ${creds.ClientId.substring(0, 8)}...`);\n        console.log(`[CredentialService]   ClientSecret length: ${creds.ClientSecret.length} chars`);\n        return true;\n    }\n    /**\n     * Read credentials DIRECTLY from file system (bypasses all caches)\n     * This ensures we always get the latest credentials after app registration\n     */\n    async readCredentialsFromFile(companyName) {\n        const fsSync = require('fs');\n        const { execSync } = require('child_process');\n        try {\n            const credentialsDir = path.join('C:\\\\DiscoveryData', companyName, 'Credentials');\n            const summaryPath = path.join(credentialsDir, 'credential_summary.json');\n            const configPath = path.join(credentialsDir, 'discoverycredentials.config');\n            console.log(`[CredentialService] ========================================`);\n            console.log(`[CredentialService] Reading FRESH credentials from file system`);\n            console.log(`[CredentialService] Company: ${companyName}`);\n            console.log(`[CredentialService] Path: ${credentialsDir}`);\n            console.log(`[CredentialService] ========================================`);\n            let tenantId = null;\n            let clientId = null;\n            let clientSecret = null;\n            // First try credential_summary.json for tenantId and clientId\n            if (fsSync.existsSync(summaryPath)) {\n                console.log(`[CredentialService] Found credential_summary.json`);\n                const summaryContent = fsSync.readFileSync(summaryPath, 'utf-8');\n                const summary = JSON.parse(summaryContent);\n                tenantId = summary.TenantId || summary.tenantId;\n                clientId = summary.ClientId || summary.clientId;\n                console.log(`[CredentialService] From summary - TenantId: ${tenantId}, ClientId: ${clientId}`);\n            }\n            else {\n                console.log(`[CredentialService] credential_summary.json not found`);\n            }\n            // Read client secret from DPAPI encrypted file\n            if (fsSync.existsSync(configPath)) {\n                console.log(`[CredentialService] Found discoverycredentials.config, decrypting...`);\n                try {\n                    const encryptedContent = fsSync.readFileSync(configPath, 'utf-8').trim();\n                    // Use PowerShell to decrypt DPAPI\n                    const psScript = `\r\n            Add-Type -AssemblyName System.Security\r\n            $bytes = [Convert]::FromBase64String('${encryptedContent.replace(/'/g, \"''\")}')\r\n            $decrypted = [System.Security.Cryptography.ProtectedData]::Unprotect($bytes, $null, [System.Security.Cryptography.DataProtectionScope]::CurrentUser)\r\n            $json = [System.Text.Encoding]::UTF8.GetString($decrypted)\r\n            Write-Output $json\r\n          `;\n                    const decryptedJson = execSync(`powershell -NoProfile -ExecutionPolicy Bypass -Command \"${psScript.replace(/\"/g, '\\\\\"').replace(/\\r?\\n/g, ' ')}\"`, { encoding: 'utf-8', timeout: 30000 }).trim();\n                    const decryptedCreds = JSON.parse(decryptedJson);\n                    // Use values from decrypted file (these are the authoritative source)\n                    tenantId = decryptedCreds.TenantId || decryptedCreds.tenantId || tenantId;\n                    clientId = decryptedCreds.ClientId || decryptedCreds.clientId || clientId;\n                    clientSecret = decryptedCreds.ClientSecret || decryptedCreds.clientSecret;\n                    console.log(`[CredentialService]  Decrypted successfully`);\n                    console.log(`[CredentialService] TenantId: ${tenantId}`);\n                    console.log(`[CredentialService] ClientId: ${clientId}`);\n                    console.log(`[CredentialService] Secret length: ${clientSecret?.length || 0}`);\n                }\n                catch (decryptErr) {\n                    console.error('[CredentialService]  Failed to decrypt config file:', decryptErr);\n                }\n            }\n            else {\n                console.log(`[CredentialService] discoverycredentials.config not found`);\n            }\n            if (tenantId && clientId && clientSecret) {\n                console.log(`[CredentialService]  Complete credentials loaded from file system`);\n                return { tenantId, clientId, clientSecret };\n            }\n            console.warn('[CredentialService]  Could not read complete credentials from files');\n            return null;\n        }\n        catch (error) {\n            console.error('[CredentialService]  Error reading credentials from file:', error);\n            return null;\n        }\n    }\n    /**\n     * Test Azure AD connection with credentials\n     * ALWAYS clears cache and reads fresh from file system to avoid stale credentials\n     * Returns detailed result including decryption status and Graph API connectivity\n     */\n    async testConnection(profileId) {\n        console.log(`[CredentialService] ========================================`);\n        console.log(`[CredentialService] Testing connection for profile: ${profileId}`);\n        console.log(`[CredentialService] CLEARING CACHE and reading FRESH credentials from files`);\n        console.log(`[CredentialService] ========================================`);\n        try {\n            // Step 0: CLEAR any cached credentials to force fresh read from files\n            console.log('[CredentialService] Step 0: Clearing cached credentials to ensure fresh read');\n            await this.clearCachedCredential(profileId);\n            // Step 1: Read fresh credentials from file system\n            console.log('[CredentialService] Step 1: Reading credentials DIRECTLY from file system');\n            const fileCreds = await this.readCredentialsFromFile(profileId);\n            let creds = null;\n            if (fileCreds) {\n                console.log('[CredentialService]  Using FRESH credentials from file system');\n                console.log(`[CredentialService] ClientId from file: ${fileCreds.clientId}`);\n                creds = fileCreds;\n            }\n            else {\n                // Try getCredential which will also read from files first (cache was just cleared)\n                console.log('[CredentialService]  Direct file read failed, trying getCredential (will read from files)');\n                const freshCreds = await this.getCredential(profileId);\n                if (freshCreds) {\n                    creds = {\n                        tenantId: freshCreds.tenantId,\n                        clientId: freshCreds.clientId,\n                        clientSecret: freshCreds.clientSecret\n                    };\n                }\n            }\n            if (!creds) {\n                console.error('[CredentialService]  No credentials found');\n                return {\n                    success: false,\n                    decryptionSuccess: false,\n                    connectionSuccess: false,\n                    error: 'No credentials found for this profile'\n                };\n            }\n            console.log('[CredentialService]  Credentials retrieved successfully');\n            // Step 2: Validate credential structure\n            console.log('[CredentialService] Step 2: Validating credential structure');\n            const legacyCreds = await this.loadLegacyCredentials(profileId);\n            if (legacyCreds && !this.validateCredentialStructure(legacyCreds)) {\n                console.error('[CredentialService]  Credential structure validation failed');\n                return {\n                    success: false,\n                    decryptionSuccess: true,\n                    connectionSuccess: false,\n                    error: 'Invalid credential structure - missing required fields or invalid format'\n                };\n            }\n            console.log('[CredentialService]  Credential structure valid');\n            // Step 3: Test Graph API connection\n            console.log('[CredentialService] Step 3: Testing Microsoft Graph API connection');\n            // Ensure all required Azure AD fields are available\n            const { tenantId, clientId, clientSecret } = creds;\n            if (!tenantId || !clientId || !clientSecret) {\n                console.error('[CredentialService]  Missing required Azure AD credentials');\n                return {\n                    success: false,\n                    decryptionSuccess: true,\n                    connectionSuccess: false,\n                    error: 'Missing required Azure AD credentials (tenantId, clientId, or clientSecret)'\n                };\n            }\n            const testResult = await this.testGraphAPIConnection(tenantId, clientId, clientSecret);\n            if (testResult.success) {\n                console.log('[CredentialService]  Graph API connection successful');\n                const expiresIn = testResult.expiresIn ?? 3600; // Default to 1 hour if not provided\n                console.log(`[CredentialService] Token expires in: ${expiresIn} seconds`);\n                console.log(`[CredentialService] ========================================`);\n                return {\n                    success: true,\n                    decryptionSuccess: true,\n                    connectionSuccess: true,\n                    details: `Authentication successful. Token valid for ${Math.floor(expiresIn / 60)} minutes.`\n                };\n            }\n            else {\n                console.error('[CredentialService]  Graph API connection failed');\n                console.error(`[CredentialService] Error: ${testResult.error}`);\n                console.log(`[CredentialService] ========================================`);\n                return {\n                    success: false,\n                    decryptionSuccess: true,\n                    connectionSuccess: false,\n                    error: testResult.error\n                };\n            }\n        }\n        catch (error) {\n            console.error('[CredentialService]  Connection test failed with exception:', error);\n            console.log(`[CredentialService] ========================================`);\n            return {\n                success: false,\n                decryptionSuccess: false,\n                connectionSuccess: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    }\n    /**\n     * Test Microsoft Graph API connection by requesting an OAuth2 token\n     */\n    async testGraphAPIConnection(tenantId, clientId, clientSecret) {\n        try {\n            const tokenUrl = `https://login.microsoftonline.com/${tenantId}/oauth2/v2.0/token`;\n            const params = new URLSearchParams({\n                grant_type: 'client_credentials',\n                client_id: clientId,\n                client_secret: clientSecret,\n                scope: 'https://graph.microsoft.com/.default'\n            });\n            console.log(`[CredentialService] Requesting token from: ${tokenUrl}`);\n            const response = await fetch(tokenUrl, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded',\n                },\n                body: params.toString()\n            });\n            if (!response.ok) {\n                const errorText = await response.text();\n                console.error(`[CredentialService] Token request failed: ${response.status} ${response.statusText}`);\n                console.error(`[CredentialService] Response: ${errorText}`);\n                // Parse Azure AD error if available\n                try {\n                    const errorJson = JSON.parse(errorText);\n                    return {\n                        success: false,\n                        error: `Azure AD authentication failed: ${errorJson.error_description || errorJson.error || 'Unknown error'}`\n                    };\n                }\n                catch {\n                    return {\n                        success: false,\n                        error: `HTTP ${response.status}: ${response.statusText}`\n                    };\n                }\n            }\n            const tokenData = await response.json();\n            console.log(`[CredentialService] Token acquired successfully`);\n            return {\n                success: true,\n                expiresIn: tokenData.expires_in || 3600\n            };\n        }\n        catch (error) {\n            console.error('[CredentialService] Exception during Graph API test:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : 'Unknown error during authentication'\n            };\n        }\n    }\n    /**\n     * Ensure service is initialized\n     */\n    async ensureInitialized() {\n        if (!this.initialized) {\n            await this.initialize();\n        }\n    }\n}\nexport default CredentialService;\n","/**\n * Dashboard Service\n * Aggregates data from Logic Engine and Project Service for dashboard display\n */\nimport * as fs from 'fs/promises';\nimport * as path from 'path';\nexport class DashboardService {\n    logicEngine;\n    projectService;\n    statsCache = new Map();\n    cacheTimeout = 10000; // 10 seconds cache\n    constructor(logicEngine, projectService) {\n        this.logicEngine = logicEngine;\n        this.projectService = projectService;\n    }\n    /**\n     * Get aggregated dashboard statistics from Logic Engine\n     */\n    async getStats(profileName) {\n        // Check cache\n        const cached = this.statsCache.get(profileName);\n        if (cached && Date.now() - cached.timestamp < this.cacheTimeout) {\n            return cached.data;\n        }\n        // Load data from Logic Engine if not already loaded\n        const profilePath = path.join('C:', 'discoverydata', profileName, 'Raw');\n        try {\n            // Ensure Logic Engine is loaded with data\n            await this.logicEngine.loadAllAsync(profilePath);\n        }\n        catch (error) {\n            console.warn('Logic Engine load warning:', error);\n            // Continue with potentially empty data\n        }\n        // Aggregate statistics\n        const stats = {\n            totalUsers: this.logicEngine.getUserCount(),\n            totalGroups: this.logicEngine.getGroupCount(),\n            totalComputers: this.logicEngine.getDeviceCount(),\n            totalInfrastructure: this.logicEngine.getInfrastructureCount(),\n            discoveredUsers: this.logicEngine.getDiscoveredUserCount(),\n            discoveredGroups: this.logicEngine.getDiscoveredGroupCount(),\n            discoveredComputers: this.logicEngine.getDiscoveredDeviceCount(),\n            discoveredApplications: this.logicEngine.getApplicationCount(),\n            migratedUsers: await this.getMigratedUserCount(profileName),\n            migratedGroups: await this.getMigratedGroupCount(profileName),\n            pendingMigrationUsers: await this.getPendingMigrationUserCount(profileName),\n            pendingMigrationGroups: await this.getPendingMigrationGroupCount(profileName),\n            lastDiscoveryRun: this.logicEngine.getLastDiscoveryRun(),\n            lastMigrationRun: await this.getLastMigrationRun(profileName),\n            lastDataRefresh: new Date().toISOString(),\n            dataSource: 'LogicEngine'\n        };\n        // Update cache\n        this.statsCache.set(profileName, { data: stats, timestamp: Date.now() });\n        return stats;\n    }\n    /**\n     * Get project timeline information\n     */\n    async getProjectTimeline(profileName) {\n        const projectConfig = await this.projectService.loadProjectConfig(profileName);\n        const now = new Date();\n        const cutoverDate = new Date(projectConfig.targetCutover);\n        const startDate = new Date(projectConfig.startDate);\n        // Find next wave\n        const upcomingWaves = (projectConfig.waves ?? [])\n            .filter(w => w.status === 'Scheduled' && new Date(w.scheduledDate) > now)\n            .sort((a, b) => new Date(a.scheduledDate).getTime() - new Date(b.scheduledDate).getTime());\n        const nextWaveDate = upcomingWaves.length > 0\n            ? new Date(upcomingWaves[0].scheduledDate)\n            : new Date(now.getTime() + 7 * 24 * 60 * 60 * 1000); // Default to 7 days\n        // Calculate days\n        const daysToCutover = this.calculateDaysDifference(now, cutoverDate);\n        const daysToNextWave = this.calculateDaysDifference(now, nextWaveDate);\n        const daysElapsed = this.calculateDaysDifference(startDate, now);\n        // Calculate progress\n        const waves = projectConfig.waves ?? [];\n        const completedWaves = waves.filter(w => w.status === 'Complete').length;\n        const activeWaveIndex = waves.findIndex(w => w.status === 'InProgress');\n        const phaseProgress = this.calculatePhaseProgress(projectConfig.currentPhase, daysElapsed, projectConfig.estimatedDuration);\n        const waveProgress = activeWaveIndex >= 0 ? this.calculateWaveProgress(waves[activeWaveIndex]) : 0;\n        const overallProgress = waves.length > 0\n            ? Math.round((completedWaves / waves.length) * 100)\n            : 0;\n        return {\n            projectId: projectConfig.id,\n            projectName: projectConfig.name,\n            projectDescription: projectConfig.description,\n            projectStartDate: projectConfig.startDate,\n            targetCutover: projectConfig.targetCutover,\n            nextWave: nextWaveDate.toISOString(),\n            daysToCutover,\n            daysToNextWave,\n            daysElapsed,\n            currentPhase: projectConfig.currentPhase,\n            phaseProgress,\n            totalWaves: waves.length,\n            completedWaves,\n            activeWave: activeWaveIndex >= 0 ? activeWaveIndex + 1 : undefined,\n            waveProgress,\n            overallProgress,\n            estimatedCompletionDate: this.calculateEstimatedCompletion(projectConfig, daysElapsed)\n        };\n    }\n    /**\n     * Get system health status\n     */\n    async getSystemHealth() {\n        const startTime = Date.now();\n        // Check Logic Engine\n        const logicEngineStatus = await this.checkLogicEngineStatus();\n        // Check PowerShell (simplified check)\n        const powerShellStatus = await this.checkPowerShellStatus();\n        // Check file system\n        const fileSystemStatus = await this.checkFileSystemStatus();\n        // Check network (simplified - always online for now)\n        const networkStatus = {\n            status: 'online',\n            lastCheck: new Date().toISOString(),\n            responseTimeMs: 0\n        };\n        // Get performance metrics\n        const memoryUsage = process.memoryUsage();\n        const avgResponseTime = Date.now() - startTime;\n        // Get alerts (empty for now, can be populated from error logs)\n        const activeAlerts = [];\n        return {\n            logicEngineStatus,\n            powerShellStatus,\n            fileSystemStatus,\n            networkStatus,\n            dataFreshnessMinutes: await this.getDataFreshness(),\n            avgResponseTimeMs: avgResponseTime,\n            memoryUsageMB: Math.round(memoryUsage.heapUsed / 1024 / 1024),\n            cpuUsagePercent: 0, // Would require additional monitoring\n            lastErrorCount: 0,\n            activeAlerts\n        };\n    }\n    /**\n     * Get recent activity from logs\n     */\n    async getRecentActivity(profileName, limit = 10) {\n        const logPath = path.join('C:', 'discoverydata', profileName, 'Logs', 'activity.log');\n        try {\n            const logContent = await fs.readFile(logPath, 'utf-8');\n            const lines = logContent.split('\\n').filter(line => line.trim());\n            // Parse last N lines as activities\n            const activities = lines\n                .slice(-limit * 2) // Get more than needed in case some fail to parse\n                .reverse()\n                .map((line, index) => {\n                // Parse log line (format: [timestamp] [type] message)\n                const match = line.match(/\\[(.*?)\\]\\s*\\[(.*?)\\]\\s*(.*)/);\n                if (!match)\n                    return null;\n                const [, timestamp, type, message] = match;\n                return {\n                    id: `activity-${Date.now()}-${index}`,\n                    type: this.mapActivityType(type),\n                    title: this.extractActivityTitle(message),\n                    description: message,\n                    timestamp: new Date(timestamp).toISOString(),\n                    status: 'info',\n                    actionUrl: this.getActivityActionUrl(type)\n                };\n            })\n                .filter((activity) => activity !== null)\n                .slice(0, limit);\n            return activities;\n        }\n        catch (error) {\n            // Log file doesn't exist or can't be read - return default activity\n            return [\n                {\n                    id: 'default-1',\n                    type: 'system',\n                    title: 'System Ready',\n                    description: 'Dashboard service initialized successfully',\n                    timestamp: new Date().toISOString(),\n                    status: 'success'\n                }\n            ];\n        }\n    }\n    /**\n     * Acknowledge a system alert\n     */\n    async acknowledgeAlert(alertId) {\n        // Implementation would update alert status in storage\n        console.log(`Alert acknowledged: ${alertId}`);\n    }\n    // ========================================\n    // Helper Methods\n    // ========================================\n    async getMigratedUserCount(profileName) {\n        // Would check migration status from project waves\n        const projectConfig = await this.projectService.loadProjectConfig(profileName);\n        const waves = projectConfig.waves ?? [];\n        return waves\n            .filter(w => w.status === 'Complete')\n            .reduce((sum, wave) => sum + wave.userCount, 0);\n    }\n    async getMigratedGroupCount(profileName) {\n        const projectConfig = await this.projectService.loadProjectConfig(profileName);\n        const waves = projectConfig.waves ?? [];\n        return waves\n            .filter(w => w.status === 'Complete')\n            .reduce((sum, wave) => sum + wave.groupCount, 0);\n    }\n    async getPendingMigrationUserCount(profileName) {\n        const projectConfig = await this.projectService.loadProjectConfig(profileName);\n        const waves = projectConfig.waves ?? [];\n        return waves\n            .filter(w => w.status === 'Scheduled' || w.status === 'InProgress')\n            .reduce((sum, wave) => sum + wave.userCount, 0);\n    }\n    async getPendingMigrationGroupCount(profileName) {\n        const projectConfig = await this.projectService.loadProjectConfig(profileName);\n        const waves = projectConfig.waves ?? [];\n        return waves\n            .filter(w => w.status === 'Scheduled' || w.status === 'InProgress')\n            .reduce((sum, wave) => sum + wave.groupCount, 0);\n    }\n    async getLastMigrationRun(profileName) {\n        const projectConfig = await this.projectService.loadProjectConfig(profileName);\n        const waves = projectConfig.waves ?? [];\n        const completedWaves = waves\n            .filter(w => w.status === 'Complete' && w.completedAt)\n            .sort((a, b) => new Date(b.completedAt).getTime() - new Date(a.completedAt).getTime());\n        return completedWaves.length > 0 ? completedWaves[0].completedAt : undefined;\n    }\n    async checkLogicEngineStatus() {\n        try {\n            const startTime = Date.now();\n            const count = this.logicEngine.getUserCount();\n            const responseTime = Date.now() - startTime;\n            return {\n                status: count >= 0 ? 'online' : 'degraded',\n                lastCheck: new Date().toISOString(),\n                responseTimeMs: responseTime\n            };\n        }\n        catch (error) {\n            return {\n                status: 'offline',\n                lastCheck: new Date().toISOString(),\n                errorMessage: error instanceof Error ? error.message : 'Unknown error'\n            };\n        }\n    }\n    async checkPowerShellStatus() {\n        // Simplified check - would actually test PowerShell execution\n        return {\n            status: 'online',\n            lastCheck: new Date().toISOString(),\n            responseTimeMs: 50\n        };\n    }\n    async checkFileSystemStatus() {\n        try {\n            // Check if data directory is accessible\n            await fs.access(path.join('C:', 'discoverydata'));\n            return {\n                status: 'online',\n                lastCheck: new Date().toISOString()\n            };\n        }\n        catch {\n            return {\n                status: 'offline',\n                lastCheck: new Date().toISOString(),\n                errorMessage: 'Data directory not accessible'\n            };\n        }\n    }\n    async getDataFreshness() {\n        const lastDiscovery = this.logicEngine.getLastDiscoveryRun();\n        if (!lastDiscovery)\n            return 0;\n        const lastDiscoveryDate = new Date(lastDiscovery);\n        const now = new Date();\n        const diffMs = now.getTime() - lastDiscoveryDate.getTime();\n        return Math.floor(diffMs / 60000); // Convert to minutes\n    }\n    calculateDaysDifference(from, to) {\n        const diffTime = to.getTime() - from.getTime();\n        return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    }\n    calculatePhaseProgress(phase, _daysElapsed, _estimatedDuration) {\n        // Simple progress calculation based on phase and time\n        const phaseWeights = {\n            Discovery: 20,\n            Planning: 20,\n            Migration: 40,\n            Validation: 15,\n            Cutover: 5,\n            Complete: 100\n        };\n        return phaseWeights[phase] || 0;\n    }\n    calculateWaveProgress(wave) {\n        if (wave.status === 'Complete')\n            return 100;\n        if (wave.status === 'InProgress')\n            return 50;\n        return 0;\n    }\n    calculateEstimatedCompletion(config, _daysElapsed) {\n        const avgWaveDuration = 7; // days\n        const waves = config.waves ?? [];\n        const remainingWaves = waves.filter(w => w.status !== 'Complete').length;\n        const estimatedDays = remainingWaves * avgWaveDuration;\n        const completionDate = new Date(Date.now() + estimatedDays * 24 * 60 * 60 * 1000);\n        return completionDate.toISOString();\n    }\n    mapActivityType(type) {\n        const typeMap = {\n            DISCOVERY: 'discovery',\n            MIGRATION: 'migration',\n            VALIDATION: 'validation',\n            CONFIG: 'configuration',\n            CONFIGURATION: 'configuration',\n            ERROR: 'error',\n            SYSTEM: 'system'\n        };\n        return typeMap[type.toUpperCase()] || 'system';\n    }\n    extractActivityTitle(message) {\n        // Extract first sentence or first 50 characters\n        const firstSentence = message.split('.')[0];\n        return firstSentence.length > 50\n            ? firstSentence.substring(0, 47) + '...'\n            : firstSentence;\n    }\n    getActivityActionUrl(type) {\n        const urlMap = {\n            DISCOVERY: '/discovery',\n            MIGRATION: '/migration',\n            VALIDATION: '/validation',\n            CONFIG: '/settings',\n            CONFIGURATION: '/settings'\n        };\n        return urlMap[type.toUpperCase()];\n    }\n    /**\n     * Clear cache for a profile\n     */\n    invalidateCache(profileName) {\n        if (profileName) {\n            this.statsCache.delete(profileName);\n        }\n        else {\n            this.statsCache.clear();\n        }\n    }\n}\n","/**\n * Decision Trace Helper Utilities\n *\n * Convenience functions for creating decision traces with proper structure.\n * Simplifies trace emission from consolidation logic.\n *\n * Based on Decision Traces architecture in CLAUDE.local.md\n */\nimport { v4 as uuidv4 } from 'uuid';\nimport { decisionTraceService } from './decisionTraceService';\n/**\n * Create and persist a decision trace\n */\nexport async function createDecisionTrace(options) {\n    const trace = {\n        id: uuidv4(),\n        profileId: options.profileId,\n        occurredAt: new Date().toISOString(),\n        actor: options.actor,\n        kind: options.kind,\n        subject: {\n            entityId: options.entityId,\n            relationId: options.relationId,\n            entityType: options.entityType,\n        },\n        inputs: options.inputs || [],\n        policy: options.policyId\n            ? {\n                policyId: options.policyId,\n                policyVersion: options.policyVersion || '1.0',\n                rule: options.policyRule,\n            }\n            : undefined,\n        precedent: options.precedentTraceIds && options.precedentTraceIds.length > 0\n            ? {\n                traceIds: options.precedentTraceIds,\n                note: options.precedentNote,\n            }\n            : undefined,\n        decision: {\n            action: options.action,\n            before: options.before,\n            after: options.after,\n        },\n        rationale: {\n            summary: options.summary,\n            evidence: options.evidence || [],\n            confidence: options.confidence,\n            exception: options.exception,\n        },\n        outcomes: {\n            entityVersionBumps: options.entityId ? [options.entityId] : [],\n            relationVersionBumps: options.relationId ? [options.relationId] : [],\n        },\n    };\n    await decisionTraceService.appendTrace(trace);\n    return trace;\n}\n/**\n * Create a CONSOLIDATION_RUN trace\n */\nexport async function traceConsolidationRun(profileId, inputFiles, summary) {\n    return createDecisionTrace({\n        profileId,\n        kind: 'CONSOLIDATION_RUN',\n        actor: { type: 'SYSTEM', id: 'consolidation-engine', displayName: 'Consolidation Engine' },\n        action: 'CONSOLIDATE',\n        summary: `Consolidated ${inputFiles.length} input files: ${summary.entitiesCreated} entities created, ${summary.entitiesMerged} merged, ${summary.relationshipsInferred} relationships inferred`,\n        confidence: 1.0,\n        inputs: inputFiles.map((f) => ({\n            system: 'LOCAL',\n            ref: { file: f.file },\n            snapshotHash: f.hash,\n        })),\n        before: { inputFiles: inputFiles.length, entities: 0, relations: 0 },\n        after: {\n            entities: summary.entitiesCreated,\n            merged: summary.entitiesMerged,\n            relations: summary.relationshipsInferred,\n            conflicts: summary.conflictsDetected,\n            processingTimeMs: summary.processingTimeMs,\n        },\n    });\n}\n/**\n * Create an IDENTITY_MATCH trace\n */\nexport async function traceIdentityMatch(profileId, entityId, entityType, matchedSources, evidence, confidence) {\n    return createDecisionTrace({\n        profileId,\n        kind: 'IDENTITY_MATCH',\n        actor: { type: 'SYSTEM', id: 'identity-resolver', displayName: 'Identity Resolution Engine' },\n        action: 'MATCH',\n        summary: `Matched ${matchedSources.length} identity sources with confidence ${(confidence * 100).toFixed(0)}%`,\n        confidence,\n        entityId,\n        entityType,\n        evidence,\n        inputs: matchedSources.map((s) => ({\n            system: s.system,\n            ref: {\n                file: s.recordRef.file,\n                rowId: s.recordRef.rowId,\n                externalId: s.externalId,\n            },\n            snapshotHash: s.recordRef.hash,\n        })),\n        before: { identitySources: matchedSources.map((s) => s.system) },\n        after: { canonicalEntityId: entityId, confidence },\n    });\n}\n/**\n * Create an ENTITY_MERGE trace\n */\nexport async function traceEntityMerge(profileId, primaryEntityId, mergedEntityIds, entityType, actor, rationale, confidence) {\n    return createDecisionTrace({\n        profileId,\n        kind: 'ENTITY_MERGE',\n        actor,\n        action: 'MERGE',\n        summary: rationale,\n        confidence,\n        entityId: primaryEntityId,\n        entityType,\n        before: { separateEntities: mergedEntityIds },\n        after: { mergedIntoEntity: primaryEntityId },\n        evidence: [\n            {\n                type: 'FIELD_MATCH',\n                detail: `Merged ${mergedEntityIds.length} duplicate entities into canonical entity ${primaryEntityId}`,\n                weight: 1.0,\n            },\n        ],\n    });\n}\n/**\n * Create a RELATIONSHIP_INFERRED trace\n */\nexport async function traceRelationshipInferred(profileId, relationId, fromEntityId, toEntityId, relationType, evidence, confidence, sources) {\n    return createDecisionTrace({\n        profileId,\n        kind: 'RELATIONSHIP_INFERRED',\n        actor: { type: 'SYSTEM', id: 'relationship-engine', displayName: 'Relationship Inference Engine' },\n        action: 'INFER_RELATIONSHIP',\n        summary: `Inferred ${relationType} relationship between entities with confidence ${(confidence * 100).toFixed(0)}%`,\n        confidence,\n        relationId,\n        evidence,\n        inputs: sources.map((s) => ({\n            system: 'LOCAL',\n            ref: {\n                file: s.file,\n                rowId: s.rowId,\n            },\n            snapshotHash: s.hash,\n        })),\n        before: { fromEntity: fromEntityId, toEntity: toEntityId, relationship: null },\n        after: { relationId, type: relationType, inferred: true },\n    });\n}\n/**\n * Create a RELATIONSHIP_OVERRIDDEN trace\n */\nexport async function traceRelationshipOverridden(profileId, originalRelationId, newRelationId, actor, reason) {\n    return createDecisionTrace({\n        profileId,\n        kind: 'RELATIONSHIP_OVERRIDDEN',\n        actor,\n        action: 'OVERRIDE_RELATIONSHIP',\n        summary: `Human override: ${reason}`,\n        confidence: 1.0,\n        relationId: newRelationId,\n        before: { relationId: originalRelationId, inferred: true },\n        after: { relationId: newRelationId, inferred: false, supersedes: originalRelationId },\n        evidence: [\n            {\n                type: 'HEURISTIC',\n                detail: reason,\n                weight: 1.0,\n            },\n        ],\n    });\n}\n/**\n * Create a MIGRATION_WAVE_ASSIGNED trace\n */\nexport async function traceMigrationWaveAssigned(profileId, entityId, entityType, wave, actor, rationale, dependencies, policyId, exception) {\n    const evidence = [\n        {\n            type: 'HEURISTIC',\n            detail: rationale,\n            weight: 1.0,\n        },\n    ];\n    if (dependencies && dependencies.length > 0) {\n        evidence.push({\n            type: 'ACCESS',\n            detail: `Dependencies detected: ${dependencies.join(', ')}`,\n            weight: 0.8,\n        });\n    }\n    return createDecisionTrace({\n        profileId,\n        kind: 'MIGRATION_WAVE_ASSIGNED',\n        actor,\n        action: 'ASSIGN_WAVE',\n        summary: `Assigned to Wave ${wave}: ${rationale}`,\n        confidence: exception ? 0.7 : 1.0,\n        entityId,\n        entityType,\n        evidence,\n        policyId,\n        policyVersion: '1.0',\n        before: { wave: null },\n        after: { wave, dependencies },\n        exception,\n    });\n}\n/**\n * Create a DISPOSITION_SET trace\n */\nexport async function traceDispositionSet(profileId, entityId, entityType, disposition, actor, rationale, confidence) {\n    return createDecisionTrace({\n        profileId,\n        kind: 'DISPOSITION_SET',\n        actor,\n        action: 'SET_DISPOSITION',\n        summary: `Set disposition to ${disposition}: ${rationale}`,\n        confidence,\n        entityId,\n        entityType,\n        evidence: [\n            {\n                type: 'HEURISTIC',\n                detail: rationale,\n                weight: 1.0,\n            },\n        ],\n        before: { disposition: null },\n        after: { disposition },\n    });\n}\n/**\n * Create a CLASSIFICATION_CHANGED trace\n */\nexport async function traceClassificationChanged(profileId, entityId, entityType, oldClassification, newClassification, actor, reason) {\n    return createDecisionTrace({\n        profileId,\n        kind: 'CLASSIFICATION_CHANGED',\n        actor,\n        action: 'RECLASSIFY',\n        summary: `Changed classification from ${oldClassification} to ${newClassification}: ${reason}`,\n        confidence: 1.0,\n        entityId,\n        entityType,\n        evidence: [\n            {\n                type: 'HEURISTIC',\n                detail: reason,\n                weight: 1.0,\n            },\n        ],\n        before: { classification: oldClassification },\n        after: { classification: newClassification },\n    });\n}\n/**\n * Create an EXCEPTION_GRANTED trace\n */\nexport async function traceExceptionGranted(profileId, entityId, entityType, policyId, requestedBy, approvedBy, reason) {\n    return createDecisionTrace({\n        profileId,\n        kind: 'EXCEPTION_GRANTED',\n        actor: { type: 'HUMAN', id: approvedBy, displayName: approvedBy },\n        action: 'GRANT_EXCEPTION',\n        summary: `Exception granted to policy ${policyId}: ${reason}`,\n        confidence: 1.0,\n        entityId,\n        entityType,\n        policyId,\n        policyVersion: '1.0',\n        exception: {\n            requestedBy,\n            approvedBy,\n            reason,\n        },\n        evidence: [\n            {\n                type: 'HEURISTIC',\n                detail: reason,\n                weight: 1.0,\n            },\n        ],\n    });\n}\n/**\n * Helper to create evidence from field matches\n */\nexport function createFieldMatchEvidence(field, value1, value2, source1, source2, weight = 0.8) {\n    return {\n        type: 'FIELD_MATCH',\n        detail: `Field '${field}' matches: ${source1}='${value1}'  ${source2}='${value2}'`,\n        weight,\n    };\n}\n/**\n * Helper to create evidence from membership\n */\nexport function createMembershipEvidence(groupName, members, weight = 0.7) {\n    return {\n        type: 'MEMBERSHIP',\n        detail: `Group '${groupName}' has ${members.length} members: ${members.slice(0, 3).join(', ')}${members.length > 3 ? '...' : ''}`,\n        weight,\n    };\n}\n/**\n * Helper to create evidence from ownership\n */\nexport function createOwnershipEvidence(ownerField, ownerValue, weight = 0.9) {\n    return {\n        type: 'OWNER',\n        detail: `${ownerField} indicates ownership: '${ownerValue}'`,\n        weight,\n    };\n}\n/**\n * Helper to create evidence from access patterns\n */\nexport function createAccessEvidence(accessType, detail, weight = 0.6) {\n    return {\n        type: 'ACCESS',\n        detail: `${accessType}: ${detail}`,\n        weight,\n    };\n}\n","/**\n * Decision Trace Service\n *\n * SQLite-based append-only store for decision traces.\n * Implements the \"decision plane\" separate from the \"data plane\".\n *\n * Key Responsibilities:\n * - Persist decision traces (append-only, never delete)\n * - Query traces by entity, actor, time range, decision kind\n * - Support replayability (snapshot hashes, versioning)\n * - Enable precedent search (find similar past decisions)\n *\n * Based on Decision Traces architecture in CLAUDE.local.md\n */\nimport Database from 'better-sqlite3';\nimport * as path from 'path';\nimport * as fs from 'fs';\nimport { app } from 'electron';\n/**\n * Decision Trace Service\n *\n * Manages SQLite database for decision trace persistence.\n * Thread-safe, append-only, supports concurrent reads.\n */\nexport class DecisionTraceService {\n    static instance;\n    db = null;\n    dbPath;\n    constructor() {\n        // Store traces in user data directory under profile-specific subfolder\n        const userDataPath = app.getPath('userData');\n        const tracesDir = path.join(userDataPath, 'DecisionTraces');\n        // Ensure directory exists\n        if (!fs.existsSync(tracesDir)) {\n            fs.mkdirSync(tracesDir, { recursive: true });\n        }\n        this.dbPath = path.join(tracesDir, 'decision-traces.db');\n        console.log('[DecisionTraceService] Database path:', this.dbPath);\n    }\n    /**\n     * Get singleton instance\n     */\n    static getInstance() {\n        if (!DecisionTraceService.instance) {\n            DecisionTraceService.instance = new DecisionTraceService();\n        }\n        return DecisionTraceService.instance;\n    }\n    /**\n     * Initialize the database and create schema\n     */\n    initialize() {\n        if (this.db) {\n            console.log('[DecisionTraceService] Already initialized');\n            return;\n        }\n        console.log('[DecisionTraceService] Initializing database...');\n        this.db = new Database(this.dbPath);\n        // Enable WAL mode for better concurrency\n        this.db.pragma('journal_mode = WAL');\n        // Create schema\n        this.createSchema();\n        console.log('[DecisionTraceService] Initialized successfully');\n    }\n    /**\n     * Create database schema\n     */\n    createSchema() {\n        if (!this.db)\n            throw new Error('Database not initialized');\n        // Main decision traces table\n        this.db.exec(`\r\n      CREATE TABLE IF NOT EXISTS decision_traces (\r\n        id TEXT PRIMARY KEY,\r\n        profile_id TEXT NOT NULL,\r\n        occurred_at TEXT NOT NULL,\r\n\r\n        -- Actor\r\n        actor_type TEXT NOT NULL CHECK(actor_type IN ('HUMAN', 'AGENT', 'SYSTEM')),\r\n        actor_id TEXT,\r\n        actor_display_name TEXT,\r\n\r\n        -- Decision\r\n        kind TEXT NOT NULL,\r\n        subject_entity_id TEXT,\r\n        subject_relation_id TEXT,\r\n        subject_entity_type TEXT,\r\n\r\n        -- Core decision data\r\n        decision_action TEXT NOT NULL,\r\n        decision_before TEXT,  -- JSON\r\n        decision_after TEXT,   -- JSON\r\n\r\n        -- Rationale\r\n        rationale_summary TEXT NOT NULL,\r\n        rationale_confidence REAL NOT NULL CHECK(rationale_confidence >= 0 AND rationale_confidence <= 1),\r\n\r\n        -- Full trace as JSON (for complex queries)\r\n        trace_json TEXT NOT NULL,\r\n\r\n        -- Metadata\r\n        created_at TEXT NOT NULL DEFAULT (datetime('now')),\r\n\r\n        -- Indexes for common queries\r\n        CHECK (json_valid(trace_json))\r\n      );\r\n\r\n      CREATE INDEX IF NOT EXISTS idx_traces_profile ON decision_traces(profile_id);\r\n      CREATE INDEX IF NOT EXISTS idx_traces_occurred ON decision_traces(occurred_at);\r\n      CREATE INDEX IF NOT EXISTS idx_traces_kind ON decision_traces(kind);\r\n      CREATE INDEX IF NOT EXISTS idx_traces_entity ON decision_traces(subject_entity_id);\r\n      CREATE INDEX IF NOT EXISTS idx_traces_relation ON decision_traces(subject_relation_id);\r\n      CREATE INDEX IF NOT EXISTS idx_traces_actor ON decision_traces(actor_type, actor_id);\r\n      CREATE INDEX IF NOT EXISTS idx_traces_composite ON decision_traces(profile_id, subject_entity_id, kind);\r\n    `);\n        // Evidence table (normalized for efficient querying)\n        this.db.exec(`\r\n      CREATE TABLE IF NOT EXISTS decision_evidence (\r\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\r\n        trace_id TEXT NOT NULL,\r\n        evidence_type TEXT NOT NULL,\r\n        detail TEXT NOT NULL,\r\n        weight REAL,\r\n\r\n        FOREIGN KEY (trace_id) REFERENCES decision_traces(id)\r\n      );\r\n\r\n      CREATE INDEX IF NOT EXISTS idx_evidence_trace ON decision_evidence(trace_id);\r\n      CREATE INDEX IF NOT EXISTS idx_evidence_type ON decision_evidence(evidence_type);\r\n    `);\n        // Inputs table (for replayability queries)\n        this.db.exec(`\r\n      CREATE TABLE IF NOT EXISTS decision_inputs (\r\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\r\n        trace_id TEXT NOT NULL,\r\n        system TEXT NOT NULL,\r\n        ref_file TEXT,\r\n        ref_row_id TEXT,\r\n        ref_external_id TEXT,\r\n        snapshot_hash TEXT,\r\n\r\n        FOREIGN KEY (trace_id) REFERENCES decision_traces(id)\r\n      );\r\n\r\n      CREATE INDEX IF NOT EXISTS idx_inputs_trace ON decision_inputs(trace_id);\r\n      CREATE INDEX IF NOT EXISTS idx_inputs_hash ON decision_inputs(snapshot_hash);\r\n    `);\n        // Policy references table\n        this.db.exec(`\r\n      CREATE TABLE IF NOT EXISTS decision_policies (\r\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\r\n        trace_id TEXT NOT NULL,\r\n        policy_id TEXT NOT NULL,\r\n        policy_version TEXT NOT NULL,\r\n        rule TEXT,\r\n\r\n        FOREIGN KEY (trace_id) REFERENCES decision_traces(id)\r\n      );\r\n\r\n      CREATE INDEX IF NOT EXISTS idx_policies_trace ON decision_policies(trace_id);\r\n      CREATE INDEX IF NOT EXISTS idx_policies_policy ON decision_policies(policy_id);\r\n    `);\n        console.log('[DecisionTraceService] Schema created/verified');\n    }\n    /**\n     * Append a decision trace (core operation)\n     */\n    async appendTrace(trace) {\n        if (!this.db)\n            throw new Error('Database not initialized');\n        const stmt = this.db.prepare(`\r\n      INSERT INTO decision_traces (\r\n        id, profile_id, occurred_at,\r\n        actor_type, actor_id, actor_display_name,\r\n        kind, subject_entity_id, subject_relation_id, subject_entity_type,\r\n        decision_action, decision_before, decision_after,\r\n        rationale_summary, rationale_confidence,\r\n        trace_json\r\n      ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n    `);\n        try {\n            this.db.transaction(() => {\n                // Insert main trace\n                stmt.run(trace.id, trace.profileId, trace.occurredAt, trace.actor.type, trace.actor.id || null, trace.actor.displayName || null, trace.kind, trace.subject.entityId || null, trace.subject.relationId || null, trace.subject.entityType || null, trace.decision.action, trace.decision.before ? JSON.stringify(trace.decision.before) : null, trace.decision.after ? JSON.stringify(trace.decision.after) : null, trace.rationale.summary, trace.rationale.confidence, JSON.stringify(trace));\n                // Insert evidence\n                if (trace.rationale.evidence && trace.rationale.evidence.length > 0) {\n                    const evidenceStmt = this.db.prepare(`\r\n            INSERT INTO decision_evidence (trace_id, evidence_type, detail, weight)\r\n            VALUES (?, ?, ?, ?)\r\n          `);\n                    for (const evidence of trace.rationale.evidence) {\n                        evidenceStmt.run(trace.id, evidence.type, evidence.detail, evidence.weight || null);\n                    }\n                }\n                // Insert inputs\n                if (trace.inputs && trace.inputs.length > 0) {\n                    const inputStmt = this.db.prepare(`\r\n            INSERT INTO decision_inputs (trace_id, system, ref_file, ref_row_id, ref_external_id, snapshot_hash)\r\n            VALUES (?, ?, ?, ?, ?, ?)\r\n          `);\n                    for (const input of trace.inputs) {\n                        inputStmt.run(trace.id, input.system, input.ref.file || null, input.ref.rowId || null, input.ref.externalId || null, input.snapshotHash || null);\n                    }\n                }\n                // Insert policy reference\n                if (trace.policy) {\n                    const policyStmt = this.db.prepare(`\r\n            INSERT INTO decision_policies (trace_id, policy_id, policy_version, rule)\r\n            VALUES (?, ?, ?, ?)\r\n          `);\n                    policyStmt.run(trace.id, trace.policy.policyId, trace.policy.policyVersion, trace.policy.rule || null);\n                }\n            })();\n            console.log('[DecisionTraceService] Trace appended:', {\n                id: trace.id,\n                kind: trace.kind,\n                profileId: trace.profileId,\n            });\n        }\n        catch (error) {\n            console.error('[DecisionTraceService] Failed to append trace:', error);\n            throw error;\n        }\n    }\n    /**\n     * Query traces with filters\n     */\n    async queryTraces(options = {}) {\n        if (!this.db)\n            throw new Error('Database not initialized');\n        let sql = 'SELECT trace_json FROM decision_traces WHERE 1=1';\n        const params = [];\n        if (options.profileId) {\n            sql += ' AND profile_id = ?';\n            params.push(options.profileId);\n        }\n        if (options.entityId) {\n            sql += ' AND subject_entity_id = ?';\n            params.push(options.entityId);\n        }\n        if (options.relationId) {\n            sql += ' AND subject_relation_id = ?';\n            params.push(options.relationId);\n        }\n        if (options.kind) {\n            if (Array.isArray(options.kind)) {\n                sql += ` AND kind IN (${options.kind.map(() => '?').join(',')})`;\n                params.push(...options.kind);\n            }\n            else {\n                sql += ' AND kind = ?';\n                params.push(options.kind);\n            }\n        }\n        if (options.actorType) {\n            sql += ' AND actor_type = ?';\n            params.push(options.actorType);\n        }\n        if (options.actorId) {\n            sql += ' AND actor_id = ?';\n            params.push(options.actorId);\n        }\n        if (options.startDate) {\n            sql += ' AND occurred_at >= ?';\n            params.push(options.startDate);\n        }\n        if (options.endDate) {\n            sql += ' AND occurred_at <= ?';\n            params.push(options.endDate);\n        }\n        sql += ' ORDER BY occurred_at DESC';\n        if (options.limit) {\n            sql += ' LIMIT ?';\n            params.push(options.limit);\n        }\n        if (options.offset) {\n            sql += ' OFFSET ?';\n            params.push(options.offset);\n        }\n        const stmt = this.db.prepare(sql);\n        const rows = stmt.all(...params);\n        return rows.map((row) => JSON.parse(row.trace_json));\n    }\n    /**\n     * Get trace statistics\n     */\n    async getStatistics(profileId) {\n        if (!this.db)\n            throw new Error('Database not initialized');\n        let whereClause = '';\n        const params = [];\n        if (profileId) {\n            whereClause = 'WHERE profile_id = ?';\n            params.push(profileId);\n        }\n        // Total count\n        const totalRow = this.db.prepare(`SELECT COUNT(*) as count FROM decision_traces ${whereClause}`).get(...params);\n        // By kind\n        const kindRows = this.db\n            .prepare(`SELECT kind, COUNT(*) as count FROM decision_traces ${whereClause} GROUP BY kind`)\n            .all(...params);\n        // By actor\n        const actorRows = this.db\n            .prepare(`SELECT actor_type, COUNT(*) as count FROM decision_traces ${whereClause} GROUP BY actor_type`)\n            .all(...params);\n        // Date range\n        const dateRow = this.db\n            .prepare(`SELECT MIN(occurred_at) as earliest, MAX(occurred_at) as latest FROM decision_traces ${whereClause}`)\n            .get(...params);\n        return {\n            totalTraces: totalRow.count,\n            byKind: kindRows.reduce((acc, row) => ({ ...acc, [row.kind]: row.count }), {}),\n            byActor: actorRows.reduce((acc, row) => ({ ...acc, [row.actor_type]: row.count }), {}),\n            dateRange: {\n                earliest: dateRow.earliest || new Date().toISOString(),\n                latest: dateRow.latest || new Date().toISOString(),\n            },\n        };\n    }\n    /**\n     * Close database connection\n     */\n    close() {\n        if (this.db) {\n            this.db.close();\n            this.db = null;\n            console.log('[DecisionTraceService] Database closed');\n        }\n    }\n}\n// Export singleton instance\nexport const decisionTraceService = DecisionTraceService.getInstance();\n","/**\n * Environment Detection Service\n *\n * Automatically detects the environment type (Azure, On-Premises, Hybrid, AWS, GCP)\n * and available services/capabilities for M&A discovery planning.\n */\nimport { EventEmitter } from 'events';\nimport * as path from 'path';\n/**\n * Environment Detection Service\n * Detects and analyzes IT environments for M&A discovery\n */\nexport default class EnvironmentDetectionService extends EventEmitter {\n    psService;\n    activeDetections = new Map();\n    constructor(psService) {\n        super();\n        this.psService = psService;\n    }\n    /**\n     * Detect environment type and available services\n     */\n    async detectEnvironment(config = {}) {\n        const detectionId = this.generateDetectionId();\n        const startTime = new Date();\n        this.activeDetections.set(detectionId, true);\n        this.emit('detection:started', { detectionId, startTime });\n        const result = {\n            id: detectionId,\n            startTime,\n            status: 'detecting',\n            detectedEnvironment: 'unknown',\n            detectedServices: [],\n            recommendations: [],\n            totalServicesFound: 0,\n            confidence: 0,\n            errors: [],\n            warnings: [],\n        };\n        try {\n            const detections = await Promise.allSettled([\n                config.detectAzure !== false ? this.detectAzureEnvironment(config, detectionId) : null,\n                config.detectOnPremises !== false ? this.detectOnPremisesEnvironment(config, detectionId) : null,\n                config.detectAWS === true ? this.detectAWSEnvironment(config, detectionId) : null,\n                config.detectGCP === true ? this.detectGCPEnvironment(config, detectionId) : null,\n            ]);\n            // Aggregate results\n            const allServices = [];\n            const allErrors = [];\n            detections.forEach((detection, index) => {\n                if (detection.status === 'fulfilled' && detection.value) {\n                    allServices.push(...detection.value.services);\n                    allErrors.push(...detection.value.errors);\n                }\n                else if (detection.status === 'rejected') {\n                    const provider = ['azure', 'on-premises', 'aws', 'gcp'][index];\n                    allErrors.push({\n                        timestamp: new Date(),\n                        serviceType: provider,\n                        message: detection.reason?.message || 'Detection failed',\n                    });\n                }\n            });\n            result.detectedServices = allServices;\n            result.errors = allErrors;\n            result.totalServicesFound = allServices.filter(s => s.detected).length;\n            // Determine environment type based on detected services\n            result.detectedEnvironment = this.determineEnvironmentType(allServices);\n            result.confidence = this.calculateConfidence(allServices, allErrors);\n            // Generate recommendations\n            result.recommendations = this.generateRecommendations(allServices, result.detectedEnvironment);\n            result.status = 'completed';\n            result.endTime = new Date();\n            this.emit('detection:completed', result);\n            return result;\n        }\n        catch (error) {\n            result.status = 'failed';\n            result.endTime = new Date();\n            result.errors.push({\n                timestamp: new Date(),\n                serviceType: 'system',\n                message: error.message,\n            });\n            this.emit('detection:failed', result);\n            return result;\n        }\n        finally {\n            this.activeDetections.delete(detectionId);\n        }\n    }\n    /**\n     * Detect Azure/Microsoft 365 environment\n     */\n    async detectAzureEnvironment(config, detectionId) {\n        const services = [];\n        const errors = [];\n        this.emitProgress(detectionId, 'Detecting Azure environment...', 10);\n        try {\n            // Detect Azure AD\n            const azureAdResult = await this.psService.executeScript(path.join('..', 'Modules', 'Discovery', 'AzureDiscovery.psm1'), ['-FunctionName', 'Test-AzureADConnection'], { timeout: 30000, streamOutput: false });\n            const azureAdData = azureAdResult.data;\n            if (azureAdResult.success && azureAdData?.Connected) {\n                services.push({\n                    id: 'azure-ad',\n                    name: 'Azure Active Directory',\n                    type: 'Identity',\n                    provider: 'azure',\n                    detected: true,\n                    version: azureAdData.Version,\n                    endpoint: azureAdData.TenantId,\n                    authentication: 'OAuth2',\n                    features: ['SSO', 'MFA', 'Conditional Access', 'PIM'],\n                    status: 'available',\n                    capabilities: [\n                        { name: 'User Management', available: true },\n                        { name: 'Group Management', available: true },\n                        { name: 'Application Registration', available: true },\n                        { name: 'Conditional Access', available: azureAdData.HasPremium ?? false, requiresLicense: true, licenseType: 'Azure AD Premium' },\n                    ],\n                });\n            }\n            this.emitProgress(detectionId, 'Detecting Microsoft 365 services...', 30);\n            // Detect Exchange Online\n            const exchangeResult = await this.psService.executeScript(path.join('..', 'Modules', 'Discovery', 'ExchangeDiscovery.psm1'), ['-FunctionName', 'Test-ExchangeOnlineConnection'], { timeout: 30000, streamOutput: false });\n            const exchangeData = exchangeResult.data;\n            if (exchangeResult.success && exchangeData?.Connected) {\n                services.push({\n                    id: 'exchange-online',\n                    name: 'Exchange Online',\n                    type: 'Email',\n                    provider: 'microsoft365',\n                    detected: true,\n                    version: exchangeData.Version,\n                    endpoint: exchangeData.Endpoint,\n                    authentication: 'Modern Auth',\n                    features: ['Mailboxes', 'Distribution Groups', 'Shared Mailboxes', 'Mail Flow Rules'],\n                    status: 'available',\n                    capabilities: [\n                        { name: 'Mailbox Management', available: true },\n                        { name: 'Advanced Threat Protection', available: exchangeData.HasATP ?? false, requiresLicense: true, licenseType: 'Exchange Online Plan 2' },\n                    ],\n                });\n            }\n            this.emitProgress(detectionId, 'Detecting SharePoint Online...', 50);\n            // Detect SharePoint Online\n            const sharepointResult = await this.psService.executeScript(path.join('..', 'Modules', 'Discovery', 'SharePointDiscovery.psm1'), ['-FunctionName', 'Test-SharePointOnlineConnection'], { timeout: 30000, streamOutput: false });\n            const sharepointData = sharepointResult.data;\n            if (sharepointResult.success && sharepointData?.Connected) {\n                services.push({\n                    id: 'sharepoint-online',\n                    name: 'SharePoint Online',\n                    type: 'Collaboration',\n                    provider: 'microsoft365',\n                    detected: true,\n                    version: sharepointData.Version,\n                    endpoint: sharepointData.AdminUrl,\n                    authentication: 'OAuth2',\n                    features: ['Sites', 'Libraries', 'Lists', 'Content Types'],\n                    status: 'available',\n                    capabilities: [\n                        { name: 'Site Collection Management', available: true },\n                        { name: 'Advanced DLP', available: sharepointData.HasAdvancedDLP ?? false, requiresLicense: true, licenseType: 'Microsoft 365 E5' },\n                    ],\n                });\n            }\n            // Detect Teams\n            const teamsResult = await this.psService.executeScript(path.join('..', 'Modules', 'Discovery', 'TeamsDiscovery.psm1'), ['-FunctionName', 'Test-TeamsConnection'], { timeout: 30000, streamOutput: false });\n            const teamsData = teamsResult.data;\n            if (teamsResult.success && teamsData?.Connected) {\n                services.push({\n                    id: 'microsoft-teams',\n                    name: 'Microsoft Teams',\n                    type: 'Communication',\n                    provider: 'microsoft365',\n                    detected: true,\n                    version: teamsData.Version,\n                    authentication: 'OAuth2',\n                    features: ['Teams', 'Channels', 'Calls', 'Meetings'],\n                    status: 'available',\n                    capabilities: [\n                        { name: 'Team Management', available: true },\n                        { name: 'Phone System', available: teamsData.HasPhoneSystem ?? false, requiresLicense: true, licenseType: 'Teams Phone' },\n                    ],\n                });\n            }\n            this.emitProgress(detectionId, 'Azure detection complete', 70);\n        }\n        catch (error) {\n            errors.push({\n                timestamp: new Date(),\n                serviceType: 'azure',\n                message: `Azure detection error: ${error.message}`,\n            });\n        }\n        return { services, errors };\n    }\n    /**\n     * Detect On-Premises environment\n     */\n    async detectOnPremisesEnvironment(config, detectionId) {\n        const services = [];\n        const errors = [];\n        this.emitProgress(detectionId, 'Detecting on-premises environment...', 15);\n        try {\n            // Detect Active Directory\n            const adResult = await this.psService.executeScript(path.join('..', 'Modules', 'Discovery', 'ActiveDirectoryDiscovery.psm1'), ['-FunctionName', 'Test-ActiveDirectoryConnection'], { timeout: 30000, streamOutput: false });\n            const adData = adResult.data;\n            if (adResult.success && adData?.Connected) {\n                services.push({\n                    id: 'active-directory',\n                    name: 'Active Directory',\n                    type: 'Identity',\n                    provider: 'on-premises',\n                    detected: true,\n                    version: adData.ForestFunctionalLevel,\n                    endpoint: adData.DomainController,\n                    authentication: 'Kerberos/NTLM',\n                    features: ['Users', 'Groups', 'OUs', 'GPOs', 'Trusts'],\n                    status: 'available',\n                    capabilities: [\n                        { name: 'User Management', available: true },\n                        { name: 'Group Policy Management', available: true },\n                        { name: 'Fine-Grained Password Policies', available: adData.SupportsFGPP ?? false },\n                    ],\n                });\n            }\n            this.emitProgress(detectionId, 'Detecting Exchange Server...', 35);\n            // Detect Exchange Server\n            const exchangeOnPremResult = await this.psService.executeScript(path.join('..', 'Modules', 'Discovery', 'ExchangeDiscovery.psm1'), ['-FunctionName', 'Test-ExchangeServerConnection'], { timeout: 30000, streamOutput: false });\n            const exchangeOnPremData = exchangeOnPremResult.data;\n            if (exchangeOnPremResult.success && exchangeOnPremData?.Connected) {\n                services.push({\n                    id: 'exchange-server',\n                    name: 'Exchange Server',\n                    type: 'Email',\n                    provider: 'on-premises',\n                    detected: true,\n                    version: exchangeOnPremData.Version,\n                    endpoint: exchangeOnPremData.Server,\n                    authentication: 'NTLM/Kerberos',\n                    features: ['Mailboxes', 'DAGs', 'Public Folders', 'Transport Rules'],\n                    status: 'available',\n                    capabilities: [\n                        { name: 'Mailbox Management', available: true },\n                        { name: 'Database Availability Groups', available: exchangeOnPremData.HasDAG },\n                    ],\n                });\n            }\n            this.emitProgress(detectionId, 'Detecting SharePoint Server...', 55);\n            // Detect SharePoint Server\n            const sharepointOnPremResult = await this.psService.executeScript(path.join('..', 'Modules', 'Discovery', 'SharePointDiscovery.psm1'), ['-FunctionName', 'Test-SharePointServerConnection'], { timeout: 30000, streamOutput: false });\n            const sharepointOnPremData = sharepointOnPremResult.data;\n            if (sharepointOnPremResult.success && sharepointOnPremData?.Connected) {\n                services.push({\n                    id: 'sharepoint-server',\n                    name: 'SharePoint Server',\n                    type: 'Collaboration',\n                    provider: 'on-premises',\n                    detected: true,\n                    version: sharepointOnPremData.Version,\n                    endpoint: sharepointOnPremData.WebApplication,\n                    authentication: 'Windows/SAML',\n                    features: ['Sites', 'Service Applications', 'Search', 'Workflows'],\n                    status: 'available',\n                    capabilities: [\n                        { name: 'Site Collection Management', available: true },\n                        { name: 'Hybrid Configuration', available: sharepointOnPremData.IsHybrid },\n                    ],\n                });\n            }\n            this.emitProgress(detectionId, 'On-premises detection complete', 75);\n        }\n        catch (error) {\n            errors.push({\n                timestamp: new Date(),\n                serviceType: 'on-premises',\n                message: `On-premises detection error: ${error.message}`,\n            });\n        }\n        return { services, errors };\n    }\n    /**\n     * Detect AWS environment\n     */\n    async detectAWSEnvironment(config, detectionId) {\n        const services = [];\n        const errors = [];\n        this.emitProgress(detectionId, 'Detecting AWS environment...', 20);\n        try {\n            const awsResult = await this.psService.executeScript(path.join('..', 'Modules', 'Discovery', 'AWSDiscovery.psm1'), [\n                '-FunctionName', 'Test-AWSConnection',\n                '-AccessKey', config.credentials?.awsAccessKey || '',\n                '-SecretKey', config.credentials?.awsSecretKey || '',\n            ], { timeout: 30000, streamOutput: false });\n            const awsData = awsResult.data;\n            if (awsResult.success && awsData?.Connected) {\n                services.push({\n                    id: 'aws-iam',\n                    name: 'AWS IAM',\n                    type: 'Identity',\n                    provider: 'aws',\n                    detected: true,\n                    version: awsData.Version,\n                    endpoint: awsData.Region,\n                    authentication: 'AWS Signature',\n                    features: ['Users', 'Roles', 'Policies', 'Federation'],\n                    status: 'available',\n                    capabilities: [\n                        { name: 'User Management', available: true },\n                        { name: 'Role-Based Access', available: true },\n                        { name: 'SSO Integration', available: awsData.HasSSO },\n                    ],\n                });\n            }\n            this.emitProgress(detectionId, 'AWS detection complete', 80);\n        }\n        catch (error) {\n            errors.push({\n                timestamp: new Date(),\n                serviceType: 'aws',\n                message: `AWS detection error: ${error.message}`,\n            });\n        }\n        return { services, errors };\n    }\n    /**\n     * Detect GCP environment\n     */\n    async detectGCPEnvironment(config, detectionId) {\n        const services = [];\n        const errors = [];\n        this.emitProgress(detectionId, 'Detecting GCP environment...', 25);\n        try {\n            const gcpResult = await this.psService.executeScript(path.join('..', 'Modules', 'Discovery', 'GCPDiscovery.psm1'), [\n                '-FunctionName', 'Test-GCPConnection',\n                '-ProjectId', config.credentials?.gcpProjectId || '',\n                '-ServiceAccountKey', config.credentials?.gcpServiceAccountKey || '',\n            ], { timeout: 30000, streamOutput: false });\n            const gcpData = gcpResult.data;\n            if (gcpResult.success && gcpData?.Connected) {\n                services.push({\n                    id: 'gcp-iam',\n                    name: 'GCP IAM',\n                    type: 'Identity',\n                    provider: 'gcp',\n                    detected: true,\n                    version: gcpData.Version,\n                    endpoint: gcpData.ProjectId,\n                    authentication: 'OAuth 2.0',\n                    features: ['Service Accounts', 'Roles', 'Policies', 'Federation'],\n                    status: 'available',\n                    capabilities: [\n                        { name: 'Service Account Management', available: true },\n                        { name: 'Custom Role Creation', available: true },\n                    ],\n                });\n            }\n            this.emitProgress(detectionId, 'GCP detection complete', 85);\n        }\n        catch (error) {\n            errors.push({\n                timestamp: new Date(),\n                serviceType: 'gcp',\n                message: `GCP detection error: ${error.message}`,\n            });\n        }\n        return { services, errors };\n    }\n    /**\n     * Determine overall environment type based on detected services\n     */\n    determineEnvironmentType(services) {\n        const hasAzure = services.some(s => s.provider === 'azure' && s.detected);\n        const hasOnPrem = services.some(s => s.provider === 'on-premises' && s.detected);\n        const hasAWS = services.some(s => s.provider === 'aws' && s.detected);\n        const hasGCP = services.some(s => s.provider === 'gcp' && s.detected);\n        if (hasAzure && hasOnPrem)\n            return 'hybrid';\n        if (hasAzure)\n            return 'azure';\n        if (hasOnPrem)\n            return 'on-premises';\n        if (hasAWS)\n            return 'aws';\n        if (hasGCP)\n            return 'gcp';\n        return 'unknown';\n    }\n    /**\n     * Calculate confidence score based on detection results\n     */\n    calculateConfidence(services, errors) {\n        const totalAttempted = services.length + errors.length;\n        if (totalAttempted === 0)\n            return 0;\n        const successfulDetections = services.filter(s => s.detected).length;\n        return Math.round((successfulDetections / totalAttempted) * 100);\n    }\n    /**\n     * Generate recommendations based on detected environment\n     */\n    generateRecommendations(services, environmentType) {\n        const recommendations = [];\n        // Hybrid environment recommendations\n        if (environmentType === 'hybrid') {\n            const hasAzureAD = services.some(s => s.id === 'azure-ad' && s.detected);\n            const hasAD = services.some(s => s.id === 'active-directory' && s.detected);\n            if (hasAzureAD && hasAD) {\n                recommendations.push({\n                    id: 'hybrid-identity-sync',\n                    category: 'configuration',\n                    priority: 'high',\n                    title: 'Configure Azure AD Connect for Identity Synchronization',\n                    description: 'Detected both Azure AD and on-premises Active Directory. Implement Azure AD Connect for seamless identity sync.',\n                    impact: 'Enables single sign-on and unified identity management across cloud and on-premises resources.',\n                    effort: 'medium',\n                    steps: [\n                        'Install Azure AD Connect on a domain-joined server',\n                        'Configure synchronization settings',\n                        'Enable password hash synchronization or federation',\n                        'Validate user synchronization',\n                    ],\n                    relatedServices: ['azure-ad', 'active-directory'],\n                });\n            }\n        }\n        // Migration planning recommendations\n        if (environmentType === 'on-premises') {\n            recommendations.push({\n                id: 'cloud-migration-assessment',\n                category: 'migration',\n                priority: 'critical',\n                title: 'Assess Cloud Migration Readiness',\n                description: 'On-premises environment detected. Evaluate workloads for cloud migration opportunities.',\n                impact: 'Modernize infrastructure, reduce costs, and improve scalability.',\n                effort: 'high',\n                steps: [\n                    'Inventory all applications and dependencies',\n                    'Assess cloud compatibility',\n                    'Develop migration roadmap',\n                    'Pilot migration for non-critical workloads',\n                ],\n                relatedServices: services.filter(s => s.provider === 'on-premises').map(s => s.id),\n            });\n        }\n        // Licensing optimization\n        const hasLicenseRequirements = services.some(s => s.capabilities.some(c => c.requiresLicense && !c.available));\n        if (hasLicenseRequirements) {\n            recommendations.push({\n                id: 'license-optimization',\n                category: 'optimization',\n                priority: 'medium',\n                title: 'Optimize License Assignments',\n                description: 'Some detected services have capabilities requiring additional licenses.',\n                impact: 'Unlock advanced features and improve security posture.',\n                effort: 'low',\n                steps: [\n                    'Review current license inventory',\n                    'Identify required licenses for advanced features',\n                    'Optimize license assignments based on user needs',\n                    'Monitor license usage',\n                ],\n                relatedServices: services\n                    .filter(s => s.capabilities.some(c => c.requiresLicense))\n                    .map(s => s.id),\n            });\n        }\n        // Security recommendations\n        const hasConditionalAccess = services.some(s => s.id === 'azure-ad' && s.capabilities.some(c => c.name === 'Conditional Access' && c.available));\n        if (hasConditionalAccess) {\n            recommendations.push({\n                id: 'conditional-access-policies',\n                category: 'security',\n                priority: 'high',\n                title: 'Implement Conditional Access Policies',\n                description: 'Azure AD Premium detected with Conditional Access capability. Enhance security with policy-based access control.',\n                impact: 'Improve security posture by enforcing MFA, device compliance, and location-based access.',\n                effort: 'medium',\n                steps: [\n                    'Define access policies for different user groups',\n                    'Configure MFA requirements',\n                    'Set up device compliance policies',\n                    'Test policies with pilot group before rollout',\n                ],\n                relatedServices: ['azure-ad'],\n            });\n        }\n        return recommendations;\n    }\n    /**\n     * Validate credentials for a specific provider\n     */\n    async validateCredentials(provider, credentials) {\n        try {\n            let result;\n            switch (provider) {\n                case 'azure':\n                    result = await this.psService.executeScript(path.join('..', 'Modules', 'Discovery', 'AzureDiscovery.psm1'), [\n                        '-FunctionName', 'Test-AzureCredentials',\n                        '-TenantId', credentials.tenantId || '',\n                        '-ClientId', credentials.clientId || '',\n                        '-ClientSecret', credentials.clientSecret || '',\n                    ], { timeout: 30000, streamOutput: false });\n                    break;\n                case 'on-premises':\n                    result = await this.psService.executeScript(path.join('..', 'Modules', 'Discovery', 'ActiveDirectoryDiscovery.psm1'), [\n                        '-FunctionName', 'Test-ADCredentials',\n                        '-Domain', credentials.domain || '',\n                        '-Username', credentials.username || '',\n                        '-Password', credentials.password || '',\n                    ], { timeout: 30000, streamOutput: false });\n                    break;\n                case 'aws':\n                    result = await this.psService.executeScript(path.join('..', 'Modules', 'Discovery', 'AWSDiscovery.psm1'), [\n                        '-FunctionName', 'Test-AWSCredentials',\n                        '-AccessKey', credentials.accessKey || '',\n                        '-SecretKey', credentials.secretKey || '',\n                    ], { timeout: 30000, streamOutput: false });\n                    break;\n                case 'gcp':\n                    result = await this.psService.executeScript(path.join('..', 'Modules', 'Discovery', 'GCPDiscovery.psm1'), [\n                        '-FunctionName', 'Test-GCPCredentials',\n                        '-ProjectId', credentials.projectId || '',\n                        '-ServiceAccountKey', credentials.serviceAccountKey || '',\n                    ], { timeout: 30000, streamOutput: false });\n                    break;\n                default:\n                    return { valid: false, message: `Unsupported provider: ${provider}` };\n            }\n            const validationData = result.data;\n            if (result.success && validationData?.Valid) {\n                return {\n                    valid: true,\n                    message: 'Credentials validated successfully',\n                    details: validationData,\n                };\n            }\n            else {\n                return {\n                    valid: false,\n                    message: validationData?.Message || result.error || 'Credential validation failed',\n                };\n            }\n        }\n        catch (error) {\n            return {\n                valid: false,\n                message: `Validation error: ${error.message}`,\n            };\n        }\n    }\n    /**\n     * Cancel active detection\n     */\n    async cancelDetection(detectionId) {\n        if (this.activeDetections.has(detectionId)) {\n            this.activeDetections.delete(detectionId);\n            this.emit('detection:cancelled', { detectionId });\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Get detection statistics\n     */\n    getStatistics() {\n        return {\n            activeDetections: this.activeDetections.size,\n            totalDetectionsRun: 0, // Could be tracked with a counter\n        };\n    }\n    // Helper methods\n    generateDetectionId() {\n        return `detection_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    }\n    emitProgress(detectionId, message, percentage) {\n        this.emit('detection:progress', {\n            detectionId,\n            message,\n            percentage,\n            timestamp: new Date(),\n        });\n    }\n}\n","/**\n * License Service\n * Manages application licensing, activation, validation, and feature access control\n *\n * Features:\n * - Offline license validation with optional online verification\n * - Encrypted storage using Electron safeStorage (Windows DPAPI)\n * - Machine binding to prevent multi-activation\n * - Feature gating for premium functionality\n * - Customer ID extraction for update channels\n */\nimport { EventEmitter } from 'events';\nimport { randomBytes, createHash } from 'crypto';\nimport { safeStorage } from 'electron';\n// ============================================================================\n// Service\n// ============================================================================\nexport class LicenseService extends EventEmitter {\n    configService;\n    initialized = false;\n    machineId = null;\n    currentLicense = null;\n    constructor(configService) {\n        super();\n        this.configService = configService;\n    }\n    /**\n     * Initialize the license service\n     * Loads existing license or generates machine ID\n     */\n    async initialize() {\n        if (this.initialized)\n            return;\n        // Get or generate machine ID (persistent UUID)\n        this.machineId = await this.configService.get('license.machineId') ?? null;\n        if (!this.machineId) {\n            this.machineId = this.generateMachineId();\n            await this.configService.set('license.machineId', this.machineId);\n        }\n        // Load existing license\n        await this.loadLicense();\n        this.initialized = true;\n        this.emit('initialized');\n    }\n    /**\n     * Activate a new license key\n     * Validates, decodes, encrypts, and stores\n     */\n    async activateLicense(licenseKey) {\n        await this.ensureInitialized();\n        // Validate format\n        if (!this.validateKeyFormat(licenseKey)) {\n            return { success: false, error: 'Invalid license key format' };\n        }\n        // Decode and validate\n        let metadata;\n        try {\n            metadata = this.decodeLicenseKey(licenseKey);\n        }\n        catch (error) {\n            return { success: false, error: `License validation failed: ${error instanceof Error ? error.message : String(error)}` };\n        }\n        // Check expiry\n        const expiresAt = new Date(metadata.expiresAt);\n        if (expiresAt < new Date()) {\n            return { success: false, error: 'License has expired' };\n        }\n        // Verify checksum\n        if (!this.verifyChecksum(licenseKey, metadata.checksum)) {\n            return { success: false, error: 'License key integrity check failed' };\n        }\n        // Optional: Online activation\n        // const online = await this.verifyOnline(licenseKey, this.machineId);\n        // Store encrypted\n        if (!safeStorage.isEncryptionAvailable()) {\n            return { success: false, error: 'Secure storage not available' };\n        }\n        const encryptedKey = safeStorage.encryptString(licenseKey);\n        await this.configService.set('license.key', encryptedKey.toString('base64'));\n        await this.configService.set('license.customerId', metadata.customerId);\n        await this.configService.set('license.type', metadata.type);\n        await this.configService.set('license.activatedAt', new Date().toISOString());\n        await this.configService.set('license.expiresAt', metadata.expiresAt);\n        await this.configService.set('license.features', metadata.features);\n        // Reload\n        await this.loadLicense();\n        this.emit('license-activated', this.currentLicense);\n        return { success: true, licenseInfo: this.currentLicense };\n    }\n    /**\n     * Get current license information\n     */\n    async getLicenseInfo() {\n        await this.ensureInitialized();\n        if (!this.currentLicense) {\n            return {\n                status: 'not_activated',\n                type: 'trial',\n                customerId: '',\n                features: [],\n                machineId: this.machineId\n            };\n        }\n        return { ...this.currentLicense };\n    }\n    /**\n     * Check if license is valid (active and not expired)\n     */\n    async isLicenseValid() {\n        const info = await this.getLicenseInfo();\n        return info.status === 'active';\n    }\n    /**\n     * Get license details (alias for getLicenseInfo)\n     */\n    async getLicenseDetails() {\n        return this.getLicenseInfo();\n    }\n    /**\n     * Check if a specific feature is enabled\n     */\n    async hasFeature(featureId) {\n        const license = await this.getLicenseInfo();\n        if (license.status !== 'active') {\n            return false;\n        }\n        return license.features.includes(featureId) || license.features.includes('*');\n    }\n    /**\n     * Get customer ID for update channel determination\n     */\n    async getCustomerId() {\n        await this.ensureInitialized();\n        return this.currentLicense?.customerId || null;\n    }\n    /**\n     * Deactivate current license\n     */\n    async deactivateLicense() {\n        await this.configService.delete('license.key');\n        await this.configService.delete('license.customerId');\n        await this.configService.delete('license.type');\n        await this.configService.delete('license.activatedAt');\n        await this.configService.delete('license.expiresAt');\n        await this.configService.delete('license.features');\n        this.currentLicense = null;\n        this.emit('license-deactivated');\n    }\n    /**\n     * Refresh license validation\n     */\n    async refreshLicense() {\n        await this.loadLicense();\n        return this.currentLicense;\n    }\n    // ============================================================================\n    // Private Methods\n    // ============================================================================\n    async loadLicense() {\n        const encryptedKeyB64 = await this.configService.get('license.key');\n        if (!encryptedKeyB64) {\n            this.currentLicense = null;\n            return;\n        }\n        try {\n            const encryptedKey = Buffer.from(encryptedKeyB64, 'base64');\n            const licenseKey = safeStorage.decryptString(encryptedKey);\n            const metadata = this.decodeLicenseKey(licenseKey);\n            const expiresAt = new Date(metadata.expiresAt);\n            const now = new Date();\n            const daysRemaining = Math.ceil((expiresAt.getTime() - now.getTime()) / (1000 * 60 * 60 * 24));\n            const status = expiresAt < now ? 'expired' : 'active';\n            this.currentLicense = {\n                status,\n                type: metadata.type,\n                customerId: metadata.customerId,\n                activatedAt: await this.configService.get('license.activatedAt'),\n                expiresAt: metadata.expiresAt,\n                features: metadata.features,\n                machineId: this.machineId,\n                daysRemaining: daysRemaining > 0 ? daysRemaining : 0\n            };\n        }\n        catch (error) {\n            console.error('Failed to load license:', error);\n            this.currentLicense = null;\n        }\n    }\n    validateKeyFormat(key) {\n        // Format: XXXX-XXXX-XXXX-XXXX-XXXX\n        const regex = /^[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}$/;\n        return regex.test(key);\n    }\n    decodeLicenseKey(key) {\n        const parts = key.split('-');\n        // PART 0: Customer ID\n        const customerId = `customer-${parseInt(parts[0], 36)}`;\n        // PART 1: Type\n        const typeMap = {\n            'TR': 'trial',\n            'ST': 'standard',\n            'EN': 'enterprise'\n        };\n        const type = typeMap[parts[1].substring(0, 2)] || 'trial';\n        // PART 2: Expiry\n        const expiryTimestamp = parseInt(parts[2], 36) * 1000;\n        const expiresAt = new Date(expiryTimestamp).toISOString();\n        // PART 3: Features\n        const featureFlags = parseInt(parts[3], 36);\n        const features = this.decodeFeatureFlags(featureFlags);\n        // PART 4: Checksum\n        const checksum = parts[4];\n        return { customerId, type, expiresAt, features, checksum };\n    }\n    decodeFeatureFlags(flags) {\n        const allFeatures = [\n            'discovery',\n            'migration',\n            'analytics',\n            'reporting',\n            'api-access',\n            'priority-support'\n        ];\n        return allFeatures.filter((_, index) => (flags & (1 << index)) !== 0);\n    }\n    verifyChecksum(key, expectedChecksum) {\n        const dataToHash = key.substring(0, key.lastIndexOf('-'));\n        const hash = createHash('sha256').update(dataToHash).digest('hex');\n        const calculatedChecksum = hash.substring(0, 4).toUpperCase();\n        return calculatedChecksum === expectedChecksum;\n    }\n    generateMachineId() {\n        return randomBytes(16).toString('hex');\n    }\n    async ensureInitialized() {\n        if (!this.initialized) {\n            await this.initialize();\n        }\n    }\n    async verifyOnline(licenseKey, machineId) {\n        // TODO: Implement online validation API call\n        return true;\n    }\n}\nexport default LicenseService;\n","/**\n * Logic Engine Service\n * TypeScript port of C# LogicEngineService.cs\n * Core data correlation and processing engine\n */\nimport { EventEmitter } from 'events';\nimport * as fs from 'fs/promises';\nimport * as path from 'path';\nimport * as Papa from 'papaparse';\nimport { glob } from 'glob';\nimport { NodeType, EdgeType } from '../../renderer/types/models/logicEngine';\n/**\n * Core Logic Engine Service that unifies CSV data into typed graphs and projections\n * Implements read-optimized data layer with inference capabilities\n */\nexport class LogicEngineService extends EventEmitter {\n    static instance;\n    // Inference Rules - implemented inline below (no longer using mixin pattern)\n    dataRoot;\n    fuzzyConfig;\n    memoryCache = new Map();\n    // Semaphores for concurrency control\n    isLoading = false;\n    lastLoadTime;\n    fileLoadTimes = new Map();\n    // In-memory data stores (using Maps instead of ConcurrentDictionary)\n    usersBySid = new Map();\n    usersByUpn = new Map();\n    groupsBySid = new Map();\n    membersByGroupSid = new Map();\n    groupsByUserSid = new Map();\n    devicesByName = new Map();\n    devicesByPrimaryUserSid = new Map();\n    appsById = new Map();\n    appsByDevice = new Map();\n    aclByIdentitySid = new Map();\n    drivesByUserSid = new Map();\n    gposByGuid = new Map();\n    gposBySidFilter = new Map();\n    gposByOu = new Map();\n    mailboxByUpn = new Map();\n    rolesByPrincipalId = new Map();\n    sqlDbsByKey = new Map();\n    fileSharesByPath = new Map();\n    // T-029: New data stores for expanded modules\n    threatsByThreatId = new Map();\n    threatsByAsset = new Map();\n    threatsByCategory = new Map();\n    threatsBySeverity = new Map();\n    governanceByAssetId = new Map();\n    governanceByOwner = new Map();\n    governanceByCompliance = new Map();\n    lineageByLineageId = new Map();\n    lineageBySourceAsset = new Map();\n    lineageByTargetAsset = new Map();\n    externalIdentitiesById = new Map();\n    externalIdentitiesByUpn = new Map();\n    externalIdentitiesByProvider = new Map();\n    externalIdentitiesByMappingStatus = new Map();\n    // Azure-specific data stores\n    servicePrincipalsById = new Map();\n    directoryRolesById = new Map();\n    sharePointSitesById = new Map();\n    teamsById = new Map();\n    tenantsById = new Map();\n    applicationSecretsById = new Map();\n    // Enhanced graph structures\n    nodes = new Map();\n    edges = [];\n    entityRelationships = new Map();\n    entityMetadata = new Map();\n    // State tracking\n    appliedInferenceRules = [];\n    lastLoadStats;\n    constructor(dataRoot) {\n        super();\n        this.dataRoot = dataRoot || 'C:\\\\discoverydata\\\\ljpops\\\\Raw';\n        this.fuzzyConfig = {\n            LevenshteinThreshold: 0.8,\n            JaroWinklerThreshold: 0.85,\n            SoundexEnabled: false,\n            MetaphoneEnabled: false,\n            BigramAnalysisEnabled: false\n        };\n    }\n    static getInstance(dataRoot) {\n        if (!LogicEngineService.instance) {\n            LogicEngineService.instance = new LogicEngineService(dataRoot);\n            // Note: Inference rules are now implemented inline in the class (no mixin needed)\n        }\n        return LogicEngineService.instance;\n    }\n    getIsLoading() {\n        return this.isLoading;\n    }\n    getLastLoadTime() {\n        return this.lastLoadTime;\n    }\n    /**\n     * Main entry point - loads all discovery data from CSV files\n     * @param profilePath Optional path to profile data directory\n     * @param forceReload If true, bypasses cache and reloads all data\n     */\n    async loadAllAsync(profilePath, forceReload = false) {\n        if (this.isLoading) {\n            console.warn('Load already in progress, skipping duplicate request');\n            return false;\n        }\n        try {\n            this.isLoading = true;\n            const startTime = new Date();\n            this.appliedInferenceRules = [];\n            const dataPath = profilePath || this.dataRoot;\n            console.log(`Starting LogicEngine data load from ${dataPath}${forceReload ? ' (force reload)' : ''}`);\n            this.emit('progress', { stage: 'init', message: 'Initializing data load', percentage: 0 });\n            // Check if directory exists\n            try {\n                await fs.access(dataPath);\n            }\n            catch {\n                const error = new Error(`Data directory not found: ${dataPath}`);\n                console.error(`Data directory not found: ${dataPath}`);\n                this.emit('error', {\n                    Error: error,\n                    Message: error.message\n                });\n                return false;\n            }\n            // Get all CSV files\n            const files = await fs.readdir(dataPath);\n            const csvFiles = files.filter(f => f.toLowerCase().endsWith('.csv'))\n                .map(f => path.join(dataPath, f));\n            // Check if any files have changed (skip if force reload)\n            if (!forceReload) {\n                const hasChanges = await this.checkForFileChanges(csvFiles);\n                if (!hasChanges && this.lastLoadTime) {\n                    console.log('No CSV changes detected. Using cached data');\n                    this.emit('progress', { stage: 'cached', message: 'Using cached data', percentage: 100 });\n                    return true;\n                }\n            }\n            else {\n                console.log('[LogicEngine] Force reload requested, bypassing cache');\n            }\n            // Clear existing data stores\n            await this.clearDataStores();\n            // Load CSV data with controlled concurrency\n            this.emit('progress', { stage: 'loading', message: 'Loading CSV files', percentage: 10 });\n            const loadTasks = [\n                this.loadUsersStreamingAsync(dataPath),\n                this.loadGroupsStreamingAsync(dataPath),\n                this.loadDevicesStreamingAsync(dataPath),\n                this.loadApplicationsStreamingAsync(dataPath),\n                this.loadGposStreamingAsync(dataPath),\n                this.loadAclsStreamingAsync(dataPath),\n                this.loadMappedDrivesStreamingAsync(dataPath),\n                this.loadMailboxesStreamingAsync(dataPath),\n                this.loadAzureRolesStreamingAsync(dataPath),\n                this.loadSqlDatabasesStreamingAsync(dataPath),\n                // T-029: New module loading tasks\n                this.loadThreatDetectionStreamingAsync(dataPath),\n                this.loadDataGovernanceStreamingAsync(dataPath),\n                this.loadDataLineageStreamingAsync(dataPath),\n                this.loadExternalIdentitiesStreamingAsync(dataPath),\n                // Azure-specific loading tasks - TEMPORARILY DISABLED until methods are implemented\n                // TODO: Implement these methods after Azure discovery creates CSV files\n                // this.loadServicePrincipalsStreamingAsync(dataPath),\n                // this.loadDirectoryRolesStreamingAsync(dataPath),\n                // this.loadSharePointSitesStreamingAsync(dataPath),\n                // this.loadTeamsStreamingAsync(dataPath),\n                // this.loadTenantsStreamingAsync(dataPath),\n                // this.loadApplicationSecretsStreamingAsync(dataPath)\n            ];\n            await Promise.all(loadTasks);\n            // Build indices\n            this.emit('progress', { stage: 'indexing', message: 'Building indices', percentage: 60 });\n            await this.buildIndicesAsync();\n            // Apply inference rules\n            this.emit('progress', { stage: 'inference', message: 'Applying inference rules', percentage: 80 });\n            await this.applyInferenceRulesAsync();\n            // Generate statistics\n            const duration = new Date().getTime() - startTime.getTime();\n            this.lastLoadStats = {\n                UserCount: this.usersBySid.size,\n                GroupCount: this.groupsBySid.size,\n                DeviceCount: this.devicesByName.size,\n                AppCount: this.appsById.size,\n                GpoCount: this.gposByGuid.size,\n                AclEntryCount: Array.from(this.aclByIdentitySid.values()).reduce((sum, list) => sum + list.length, 0),\n                MappedDriveCount: Array.from(this.drivesByUserSid.values()).reduce((sum, list) => sum + list.length, 0),\n                MailboxCount: this.mailboxByUpn.size,\n                AzureRoleCount: Array.from(this.rolesByPrincipalId.values()).reduce((sum, list) => sum + list.length, 0),\n                SqlDbCount: this.sqlDbsByKey.size,\n                ThreatCount: this.threatsByThreatId.size,\n                GovernanceAssetCount: this.governanceByAssetId.size,\n                LineageFlowCount: this.lineageByLineageId.size,\n                ExternalIdentityCount: this.externalIdentitiesById.size,\n                InferenceRulesApplied: this.appliedInferenceRules.length,\n                FuzzyMatchesFound: this.getFuzzyMatchCount(),\n                LoadDuration: duration,\n                LoadTimestamp: startTime\n            };\n            // Update file timestamps\n            for (const file of csvFiles) {\n                const stats = await fs.stat(file);\n                this.fileLoadTimes.set(file, stats.mtime);\n            }\n            this.lastLoadTime = new Date();\n            console.log(`LogicEngine data load completed successfully in ${duration}ms`);\n            this.emit('progress', { stage: 'complete', message: 'Data load complete', percentage: 100 });\n            this.emit('loaded', {\n                Statistics: this.lastLoadStats,\n                AppliedInferenceRules: this.appliedInferenceRules\n            });\n            return true;\n        }\n        catch (error) {\n            console.error('Failed to load LogicEngine data:', error);\n            this.emit('error', {\n                Error: error instanceof Error ? error : new Error(String(error)),\n                Message: error.message || String(error)\n            });\n            return false;\n        }\n        finally {\n            this.isLoading = false;\n        }\n    }\n    /**\n     * Build user detail projection with all correlated data\n     */\n    async buildUserDetailProjection(userId) {\n        const user = this.usersBySid.get(userId) || this.usersByUpn.get(userId);\n        if (!user) {\n            console.warn(`User not found: ${userId}`);\n            return null;\n        }\n        // Get all correlated data\n        const groups = this.getGroupsForUser(user.Sid);\n        const devices = this.getDevicesForUser(user.Sid);\n        const apps = this.getAppsForUser(user.Sid, devices);\n        const drives = this.drivesByUserSid.get(user.Sid) || [];\n        const shares = this.getSharesForUser(user.Sid);\n        const gpoLinks = this.getGpoLinksForUser(user);\n        const gpoFilters = this.getGpoFiltersForUser(user.Sid);\n        const mailbox = this.mailboxByUpn.get(user.UPN) || this.mailboxByUpn.get(user.Mail || '');\n        const azureRoles = this.rolesByPrincipalId.get(user.AzureObjectId || '') || [];\n        const sqlDatabases = this.getSqlDatabasesForUser(user.Sid);\n        const risks = this.calculateRisksForUser(user);\n        const migrationHints = this.generateMigrationHintsForUser(user);\n        // T-029: Get extended data\n        const threats = this.getThreatsForAsset(user.Sid);\n        const governanceIssues = this.getGovernanceForAsset(user.Sid);\n        const dataLineage = this.getLineageForAsset(user.Sid);\n        const externalIdentities = this.getExternalIdentitiesForUser(user.Sid);\n        // Build projection\n        const projection = {\n            User: user,\n            Groups: groups,\n            Devices: devices,\n            Apps: apps,\n            Drives: drives,\n            Shares: shares,\n            GpoLinks: gpoLinks,\n            GpoFilters: gpoFilters,\n            Mailbox: mailbox,\n            AzureRoles: azureRoles,\n            SqlDatabases: sqlDatabases,\n            Risks: risks,\n            MigrationHints: migrationHints,\n            // T-027 Migration Engine properties\n            MemberOfGroups: groups.map(g => g.Name || g.Dn || '').filter(n => n),\n            ManagedGroups: groups.filter(g => g.ManagedBy === user.Dn).map(g => g.Name || g.Dn || ''),\n            ManagerUpn: user.Manager || '',\n            OwnedGroups: groups.filter(g => g.ManagedBy === user.Dn).map(g => g.Name || g.Dn || ''),\n            // T-029 Extended properties\n            Threats: threats,\n            GovernanceIssues: governanceIssues ? [governanceIssues] : [],\n            DataLineage: dataLineage,\n            ExternalIdentities: externalIdentities\n        };\n        return projection;\n    }\n    // Private helper methods\n    async checkForFileChanges(csvFiles) {\n        for (const file of csvFiles) {\n            const lastLoadTime = this.fileLoadTimes.get(file);\n            if (!lastLoadTime) {\n                return true; // New file\n            }\n            const stats = await fs.stat(file);\n            if (stats.mtime > lastLoadTime) {\n                return true; // File modified\n            }\n        }\n        return false;\n    }\n    async clearDataStores() {\n        this.usersBySid.clear();\n        this.usersByUpn.clear();\n        this.groupsBySid.clear();\n        this.membersByGroupSid.clear();\n        this.groupsByUserSid.clear();\n        this.devicesByName.clear();\n        this.devicesByPrimaryUserSid.clear();\n        this.appsById.clear();\n        this.appsByDevice.clear();\n        this.aclByIdentitySid.clear();\n        this.drivesByUserSid.clear();\n        this.gposByGuid.clear();\n        this.gposBySidFilter.clear();\n        this.gposByOu.clear();\n        this.mailboxByUpn.clear();\n        this.rolesByPrincipalId.clear();\n        this.sqlDbsByKey.clear();\n        // T-029: Clear new data stores\n        this.threatsByThreatId.clear();\n        this.threatsByAsset.clear();\n        this.threatsByCategory.clear();\n        this.threatsBySeverity.clear();\n        this.governanceByAssetId.clear();\n        this.governanceByOwner.clear();\n        this.governanceByCompliance.clear();\n        this.lineageByLineageId.clear();\n        this.lineageBySourceAsset.clear();\n        this.lineageByTargetAsset.clear();\n        this.externalIdentitiesById.clear();\n        this.externalIdentitiesByUpn.clear();\n        this.externalIdentitiesByProvider.clear();\n        this.externalIdentitiesByMappingStatus.clear();\n        // Azure-specific data stores\n        this.servicePrincipalsById.clear();\n        this.directoryRolesById.clear();\n        this.sharePointSitesById.clear();\n        this.teamsById.clear();\n        this.tenantsById.clear();\n        this.applicationSecretsById.clear();\n        // Clear graph structures\n        this.nodes.clear();\n        this.edges = [];\n        this.entityRelationships.clear();\n        this.entityMetadata.clear();\n        this.memoryCache.clear();\n    }\n    // CSV Loading Methods\n    async loadUsersStreamingAsync(dataPath) {\n        console.log(`[LogicEngine] Loading users from: ${dataPath}`);\n        // Use glob patterns to match all user-related CSV files (matching old C# GUI behavior)\n        // NOTE: glob requires forward slashes even on Windows, so normalize paths\n        const patterns = [\n            path.join(dataPath, '*Users*.csv').replace(/\\\\/g, '/'),\n            path.join(dataPath, 'AzureUsers.csv').replace(/\\\\/g, '/'),\n            path.join(dataPath, 'ActiveDirectoryUsers.csv').replace(/\\\\/g, '/')\n        ];\n        const filePaths = [];\n        for (const pattern of patterns) {\n            try {\n                const matches = await glob(pattern, { nocase: true });\n                console.log(`[LogicEngine] Pattern \"${pattern}\" matched ${matches.length} files:`, matches);\n                filePaths.push(...matches);\n            }\n            catch (err) {\n                console.debug(`[LogicEngine] No files matched pattern: ${pattern}`);\n            }\n        }\n        // Remove duplicates\n        const uniqueFilePaths = [...new Set(filePaths)];\n        console.log(`[LogicEngine] Loading ${uniqueFilePaths.length} unique user files:`, uniqueFilePaths);\n        for (const filePath of uniqueFilePaths) {\n            try {\n                await fs.access(filePath);\n                const content = await fs.readFile(filePath, 'utf-8');\n                Papa.parse(content, {\n                    header: true,\n                    skipEmptyLines: true,\n                    complete: (results) => {\n                        results.data.forEach((row) => {\n                            const user = this.parseUserFromCsv(row);\n                            if (user) {\n                                this.usersBySid.set(user.Sid, user);\n                                if (user.UPN) {\n                                    this.usersByUpn.set(user.UPN, user);\n                                }\n                            }\n                        });\n                    }\n                });\n                console.log(`Loaded ${this.usersBySid.size} users from ${path.basename(filePath)}`);\n            }\n            catch (error) {\n                console.debug(`File not found (expected): ${filePath}`);\n            }\n        }\n    }\n    parseUserFromCsv(row) {\n        try {\n            // Required fields\n            const upn = row.UPN || row.UserPrincipalName || row.Mail || '';\n            const sam = row.Sam || row.SamAccountName || row.SAMAccountName || row.OnPremisesSamAccountName || '';\n            // Use Id for Azure users, Sid for AD users, UserPrincipalName as fallback\n            const sid = row.Sid || row.SID || row.ObjectSid || row.Id || upn || sam;\n            if (!sid) {\n                return null; // Skip incomplete records\n            }\n            // Parse groups array - Azure uses GroupMemberships, AD uses Groups\n            const groups = row.Groups ?\n                row.Groups.split(';').filter((g) => g) :\n                row.GroupMemberships ?\n                    row.GroupMemberships.split(';').filter((g) => g) : [];\n            return {\n                UPN: upn,\n                Sam: sam,\n                Sid: sid,\n                Mail: row.Mail || row.EmailAddress,\n                DisplayName: row.DisplayName || row.Name || sam,\n                Enabled: row.Enabled === 'true' || row.Enabled === 'True' || row.Enabled === '1' || row.AccountEnabled === 'True' || row.AccountEnabled === 'true',\n                OU: row.OU || row.OrganizationalUnit,\n                ManagerSid: row.ManagerSid || row.ManagerId || row.Manager,\n                Dept: row.Department || row.Dept,\n                AzureObjectId: row.AzureObjectId || row.ObjectId || row.Id,\n                Groups: groups,\n                DiscoveryTimestamp: new Date(row.DiscoveryTimestamp || Date.now()),\n                DiscoveryModule: row._DiscoveryModule || row.DiscoveryModule || 'UserDiscovery',\n                SessionId: row._SessionId || row.SessionId || this.generateSessionId(),\n                Manager: row.Manager,\n                Dn: row.DN || row.DistinguishedName || sid\n            };\n        }\n        catch (error) {\n            console.warn('Failed to parse user from CSV:', error);\n            return null;\n        }\n    }\n    async loadGroupsStreamingAsync(dataPath) {\n        console.log(`[LogicEngine] Loading groups from: ${dataPath}`);\n        // Use glob patterns to match all group-related CSV files (matching old C# GUI behavior)\n        // NOTE: glob requires forward slashes even on Windows, so normalize paths\n        const patterns = [\n            path.join(dataPath, '*Groups*.csv').replace(/\\\\/g, '/'),\n            path.join(dataPath, 'AzureGroups.csv').replace(/\\\\/g, '/'),\n            path.join(dataPath, 'ActiveDirectoryGroups.csv').replace(/\\\\/g, '/')\n        ];\n        const filePaths = [];\n        for (const pattern of patterns) {\n            try {\n                const matches = await glob(pattern, { nocase: true });\n                console.log(`[LogicEngine] Pattern \"${pattern}\" matched ${matches.length} files:`, matches);\n                filePaths.push(...matches);\n            }\n            catch (err) {\n                console.debug(`[LogicEngine] No files matched pattern: ${pattern}`);\n            }\n        }\n        // Remove duplicates\n        const uniqueFilePaths = [...new Set(filePaths)];\n        console.log(`[LogicEngine] Loading ${uniqueFilePaths.length} unique group files:`, uniqueFilePaths);\n        for (const filePath of uniqueFilePaths) {\n            try {\n                await fs.access(filePath);\n                const content = await fs.readFile(filePath, 'utf-8');\n                Papa.parse(content, {\n                    header: true,\n                    skipEmptyLines: true,\n                    complete: (results) => {\n                        results.data.forEach((row) => {\n                            const group = this.parseGroupFromCsv(row);\n                            if (group) {\n                                this.groupsBySid.set(group.Sid, group);\n                            }\n                        });\n                    }\n                });\n                console.log(`Loaded ${this.groupsBySid.size} groups from ${path.basename(filePath)}`);\n            }\n            catch (error) {\n                console.debug(`File not found (expected): ${filePath}`);\n            }\n        }\n    }\n    parseGroupFromCsv(row) {\n        try {\n            // Use Id/PrimarySmtpAddress as fallback SID if SID not provided (for Exchange/synthetic data)\n            const sid = row.Sid || row.SID || row.ObjectSid || row.Id || row.PrimarySmtpAddress || row.Alias;\n            const name = row.Name || row.GroupName || row.CN || row.DisplayName || row.Alias || '';\n            if (!sid || !name) {\n                return null;\n            }\n            // Parse members array - Azure uses SampleMembers, AD uses Members\n            const members = row.Members ?\n                row.Members.split(';').filter((m) => m) :\n                row.SampleMembers ?\n                    row.SampleMembers.split(';').filter((m) => m) : [];\n            // Parse nested groups\n            const nestedGroups = row.NestedGroups ?\n                row.NestedGroups.split(';').filter((g) => g) : [];\n            return {\n                Sid: sid,\n                Name: name,\n                Type: row.Type || row.GroupType || 'Security',\n                Members: members,\n                DiscoveryTimestamp: new Date(row.DiscoveryTimestamp || Date.now()),\n                DiscoveryModule: row._DiscoveryModule || row.DiscoveryModule || 'GroupDiscovery',\n                SessionId: row._SessionId || row.SessionId || this.generateSessionId(),\n                NestedGroups: nestedGroups,\n                Dn: row.DN || row.DistinguishedName || sid,\n                ManagedBy: row.ManagedBy || row.Manager\n            };\n        }\n        catch (error) {\n            console.warn('Failed to parse group from CSV:', error);\n            return null;\n        }\n    }\n    /**\n     * Load devices/computers from CSV\n     */\n    async loadDevicesStreamingAsync(dataPath) {\n        console.log(`[LogicEngine] Loading devices/infrastructure from: ${dataPath}`);\n        // Use glob patterns to match all device/computer-related CSV files (matching old C# GUI behavior)\n        // NOTE: glob requires forward slashes even on Windows, so normalize paths\n        const patterns = [\n            path.join(dataPath, '*Computer*.csv').replace(/\\\\/g, '/'),\n            path.join(dataPath, '*VM*.csv').replace(/\\\\/g, '/'),\n            path.join(dataPath, '*Server*.csv').replace(/\\\\/g, '/'),\n            path.join(dataPath, '*Infrastructure*.csv').replace(/\\\\/g, '/'),\n            path.join(dataPath, 'NetworkInfrastructure*.csv').replace(/\\\\/g, '/'),\n            path.join(dataPath, 'Infrastructure.csv').replace(/\\\\/g, '/')\n        ];\n        const filePaths = [];\n        for (const pattern of patterns) {\n            try {\n                const matches = await glob(pattern, { nocase: true });\n                console.log(`[LogicEngine] Pattern \"${pattern}\" matched ${matches.length} files:`, matches);\n                filePaths.push(...matches);\n            }\n            catch (err) {\n                console.debug(`[LogicEngine] No files matched pattern: ${pattern}`);\n            }\n        }\n        // Remove duplicates\n        const uniqueFilePaths = [...new Set(filePaths)];\n        console.log(`[LogicEngine] Loading ${uniqueFilePaths.length} unique device/infrastructure files:`, uniqueFilePaths);\n        for (const filePath of uniqueFilePaths) {\n            try {\n                await fs.access(filePath);\n                const content = await fs.readFile(filePath, 'utf-8');\n                Papa.parse(content, {\n                    header: true,\n                    skipEmptyLines: true,\n                    complete: (results) => {\n                        results.data.forEach((row) => {\n                            const device = this.parseDeviceFromCsv(row);\n                            if (device) {\n                                this.devicesByName.set(device.Name, device);\n                            }\n                        });\n                    }\n                });\n                console.log(`Loaded ${this.devicesByName.size} devices from ${path.basename(filePath)}`);\n            }\n            catch (error) {\n                console.debug(`File not found (expected): ${filePath}`);\n            }\n        }\n    }\n    parseDeviceFromCsv(row) {\n        try {\n            const name = row.Name || row.ComputerName || row.DNSHostName || '';\n            if (!name)\n                return null;\n            const installedApps = row.InstalledApps ?\n                row.InstalledApps.split(';').filter((a) => a) :\n                row.InstalledSoftware ?\n                    row.InstalledSoftware.split(';').filter((a) => a) : [];\n            return {\n                Name: name,\n                DNS: row.DNS || row.DNSHostName || row.FQDN,\n                OU: row.OU || row.OrganizationalUnit,\n                OS: row.OS || row.OperatingSystem || row.OSVersion,\n                PrimaryUserSid: row.PrimaryUserSid || row.PrimaryUser || row.LastLoggedOnUser,\n                InstalledApps: installedApps,\n                DiscoveryTimestamp: new Date(row.DiscoveryTimestamp || Date.now()),\n                DiscoveryModule: row.DiscoveryModule || 'ComputerDiscovery',\n                SessionId: row.SessionId || this.generateSessionId()\n            };\n        }\n        catch (error) {\n            console.warn('Failed to parse device from CSV:', error);\n            return null;\n        }\n    }\n    /**\n     * Load applications from CSV\n     */\n    async loadApplicationsStreamingAsync(dataPath) {\n        const filePaths = [\n            path.join(dataPath, 'Applications.csv'),\n            path.join(dataPath, 'Software.csv'),\n            path.join(dataPath, 'InstalledSoftware.csv')\n        ];\n        for (const filePath of filePaths) {\n            try {\n                await fs.access(filePath);\n                const content = await fs.readFile(filePath, 'utf-8');\n                Papa.parse(content, {\n                    header: true,\n                    skipEmptyLines: true,\n                    complete: (results) => {\n                        results.data.forEach((row) => {\n                            const app = this.parseApplicationFromCsv(row);\n                            if (app) {\n                                this.appsById.set(app.Id, app);\n                            }\n                        });\n                    }\n                });\n                console.log(`Loaded ${this.appsById.size} applications from ${path.basename(filePath)}`);\n            }\n            catch (error) {\n                console.debug(`File not found (expected): ${filePath}`);\n            }\n        }\n    }\n    parseApplicationFromCsv(row) {\n        try {\n            const id = row.Id || row.AppId || row.Name || '';\n            const name = row.Name || row.ApplicationName || row.DisplayName || '';\n            if (!id || !name)\n                return null;\n            const executables = row.Executables ?\n                row.Executables.split(';').filter((e) => e) : [];\n            const publishers = row.Publishers ?\n                row.Publishers.split(';').filter((p) => p) : [];\n            return {\n                Id: id,\n                Name: name,\n                Source: row.Source || row.InstallSource,\n                InstallCounts: parseInt(row.InstallCounts || row.InstallCount || '0'),\n                Executables: executables,\n                Publishers: publishers,\n                DiscoveryTimestamp: new Date(row.DiscoveryTimestamp || Date.now()),\n                DiscoveryModule: row.DiscoveryModule || 'ApplicationDiscovery',\n                SessionId: row.SessionId || this.generateSessionId()\n            };\n        }\n        catch (error) {\n            console.warn('Failed to parse application from CSV:', error);\n            return null;\n        }\n    }\n    /**\n     * Load Group Policy Objects from CSV\n     */\n    async loadGposStreamingAsync(dataPath) {\n        const filePaths = [\n            path.join(dataPath, 'GroupPolicies.csv'),\n            path.join(dataPath, 'GPOs.csv'),\n            path.join(dataPath, 'GroupPolicyObjects.csv')\n        ];\n        for (const filePath of filePaths) {\n            try {\n                await fs.access(filePath);\n                const content = await fs.readFile(filePath, 'utf-8');\n                Papa.parse(content, {\n                    header: true,\n                    skipEmptyLines: true,\n                    complete: (results) => {\n                        results.data.forEach((row) => {\n                            const gpo = this.parseGpoFromCsv(row);\n                            if (gpo) {\n                                this.gposByGuid.set(gpo.Guid, gpo);\n                            }\n                        });\n                    }\n                });\n                console.log(`Loaded ${this.gposByGuid.size} GPOs from ${path.basename(filePath)}`);\n            }\n            catch (error) {\n                console.debug(`File not found (expected): ${filePath}`);\n            }\n        }\n    }\n    parseGpoFromCsv(row) {\n        try {\n            const guid = row.Guid || row.GUID || row.Id || '';\n            const name = row.Name || row.DisplayName || '';\n            if (!guid || !name)\n                return null;\n            const links = row.Links ?\n                row.Links.split(';').filter((l) => l) : [];\n            const securityFilter = row.SecurityFilter ?\n                row.SecurityFilter.split(';').filter((f) => f) : [];\n            return {\n                Guid: guid,\n                Name: name,\n                Links: links,\n                SecurityFilter: securityFilter,\n                WmiFilter: row.WmiFilter || row.WMIFilter,\n                Enabled: row.Enabled === 'true' || row.Enabled === 'True' || row.Enabled === '1',\n                DiscoveryTimestamp: new Date(row.DiscoveryTimestamp || Date.now()),\n                DiscoveryModule: row.DiscoveryModule || 'GPODiscovery',\n                SessionId: row.SessionId || this.generateSessionId()\n            };\n        }\n        catch (error) {\n            console.warn('Failed to parse GPO from CSV:', error);\n            return null;\n        }\n    }\n    /**\n     * Load ACL entries from CSV\n     */\n    async loadAclsStreamingAsync(dataPath) {\n        const filePaths = [\n            path.join(dataPath, 'ACLs.csv'),\n            path.join(dataPath, 'FilePermissions.csv'),\n            path.join(dataPath, 'SharePermissions.csv'),\n            path.join(dataPath, 'NTFSPermissions.csv')\n        ];\n        for (const filePath of filePaths) {\n            try {\n                await fs.access(filePath);\n                const content = await fs.readFile(filePath, 'utf-8');\n                Papa.parse(content, {\n                    header: true,\n                    skipEmptyLines: true,\n                    complete: (results) => {\n                        results.data.forEach((row) => {\n                            const acl = this.parseAclFromCsv(row);\n                            if (acl) {\n                                const identityAcls = this.aclByIdentitySid.get(acl.IdentitySid) || [];\n                                identityAcls.push(acl);\n                                this.aclByIdentitySid.set(acl.IdentitySid, identityAcls);\n                            }\n                        });\n                    }\n                });\n                console.log(`Loaded ACL entries from ${path.basename(filePath)}`);\n            }\n            catch (error) {\n                console.debug(`File not found (expected): ${filePath}`);\n            }\n        }\n    }\n    parseAclFromCsv(row) {\n        try {\n            const aclPath = row.Path || row.FilePath || row.SharePath || '';\n            const identitySid = row.IdentitySid || row.Identity || row.UserSid || '';\n            if (!aclPath || !identitySid)\n                return null;\n            return {\n                Path: aclPath,\n                IdentitySid: identitySid,\n                Rights: row.Rights || row.Permissions || row.AccessRights || '',\n                Inherited: row.Inherited === 'true' || row.Inherited === 'True' || row.Inherited === '1',\n                IsShare: row.IsShare === 'true' || row.Type === 'Share',\n                IsNTFS: row.IsNTFS === 'true' || row.Type === 'NTFS',\n                DiscoveryTimestamp: new Date(row.DiscoveryTimestamp || Date.now()),\n                DiscoveryModule: row.DiscoveryModule || 'ACLDiscovery',\n                SessionId: row.SessionId || this.generateSessionId()\n            };\n        }\n        catch (error) {\n            console.warn('Failed to parse ACL from CSV:', error);\n            return null;\n        }\n    }\n    /**\n     * Load mapped drives from CSV\n     */\n    async loadMappedDrivesStreamingAsync(dataPath) {\n        const filePaths = [\n            path.join(dataPath, 'MappedDrives.csv'),\n            path.join(dataPath, 'NetworkDrives.csv'),\n            path.join(dataPath, 'UserDrives.csv')\n        ];\n        for (const filePath of filePaths) {\n            try {\n                await fs.access(filePath);\n                const content = await fs.readFile(filePath, 'utf-8');\n                Papa.parse(content, {\n                    header: true,\n                    skipEmptyLines: true,\n                    complete: (results) => {\n                        results.data.forEach((row) => {\n                            const drive = this.parseMappedDriveFromCsv(row);\n                            if (drive) {\n                                const userDrives = this.drivesByUserSid.get(drive.UserSid) || [];\n                                userDrives.push(drive);\n                                this.drivesByUserSid.set(drive.UserSid, userDrives);\n                            }\n                        });\n                    }\n                });\n                console.log(`Loaded mapped drives from ${path.basename(filePath)}`);\n            }\n            catch (error) {\n                console.debug(`File not found (expected): ${filePath}`);\n            }\n        }\n    }\n    parseMappedDriveFromCsv(row) {\n        try {\n            const userSid = row.UserSid || row.UserSID || row.User || '';\n            const letter = row.Letter || row.DriveLetter || '';\n            const unc = row.UNC || row.UNCPath || row.NetworkPath || '';\n            if (!userSid || !letter || !unc)\n                return null;\n            return {\n                UserSid: userSid,\n                Letter: letter,\n                UNC: unc,\n                Label: row.Label || row.DriveLabel,\n                DiscoveryTimestamp: new Date(row.DiscoveryTimestamp || Date.now()),\n                DiscoveryModule: row.DiscoveryModule || 'DriveDiscovery',\n                SessionId: row.SessionId || this.generateSessionId()\n            };\n        }\n        catch (error) {\n            console.warn('Failed to parse mapped drive from CSV:', error);\n            return null;\n        }\n    }\n    /**\n     * Load mailboxes from CSV\n     */\n    async loadMailboxesStreamingAsync(dataPath) {\n        const filePaths = [\n            path.join(dataPath, 'Mailboxes.csv'),\n            path.join(dataPath, 'ExchangeMailboxes.csv'),\n            path.join(dataPath, 'UserMailboxes.csv')\n        ];\n        for (const filePath of filePaths) {\n            try {\n                await fs.access(filePath);\n                const content = await fs.readFile(filePath, 'utf-8');\n                Papa.parse(content, {\n                    header: true,\n                    skipEmptyLines: true,\n                    complete: (results) => {\n                        results.data.forEach((row) => {\n                            const mailbox = this.parseMailboxFromCsv(row);\n                            if (mailbox) {\n                                this.mailboxByUpn.set(mailbox.UPN, mailbox);\n                                if (mailbox.UserPrincipalName && mailbox.UserPrincipalName !== mailbox.UPN) {\n                                    this.mailboxByUpn.set(mailbox.UserPrincipalName, mailbox);\n                                }\n                            }\n                        });\n                    }\n                });\n                console.log(`Loaded ${this.mailboxByUpn.size} mailboxes from ${path.basename(filePath)}`);\n            }\n            catch (error) {\n                console.debug(`File not found (expected): ${filePath}`);\n            }\n        }\n    }\n    parseMailboxFromCsv(row) {\n        try {\n            const upn = row.UPN || row.UserPrincipalName || row.Email || '';\n            if (!upn)\n                return null;\n            const permissions = row.Permissions ?\n                row.Permissions.split(';').filter((p) => p) : [];\n            return {\n                UPN: upn,\n                MailboxGuid: row.MailboxGuid || row.MailboxGUID || row.Guid,\n                SizeMB: parseFloat(row.SizeMB || row.MailboxSize || '0'),\n                Type: row.Type || row.MailboxType || 'UserMailbox',\n                DiscoveryTimestamp: new Date(row.DiscoveryTimestamp || Date.now()),\n                DiscoveryModule: row.DiscoveryModule || 'MailboxDiscovery',\n                SessionId: row.SessionId || this.generateSessionId(),\n                Permissions: permissions,\n                UserPrincipalName: row.UserPrincipalName,\n                EffectiveUPN: row.UserPrincipalName || upn\n            };\n        }\n        catch (error) {\n            console.warn('Failed to parse mailbox from CSV:', error);\n            return null;\n        }\n    }\n    /**\n     * Load Azure role assignments from CSV\n     */\n    async loadAzureRolesStreamingAsync(dataPath) {\n        const filePaths = [\n            path.join(dataPath, 'AzureRoles.csv'),\n            path.join(dataPath, 'AzureRoleAssignments.csv'),\n            path.join(dataPath, 'RoleAssignments.csv')\n        ];\n        for (const filePath of filePaths) {\n            try {\n                await fs.access(filePath);\n                const content = await fs.readFile(filePath, 'utf-8');\n                Papa.parse(content, {\n                    header: true,\n                    skipEmptyLines: true,\n                    complete: (results) => {\n                        results.data.forEach((row) => {\n                            const role = this.parseAzureRoleFromCsv(row);\n                            if (role) {\n                                const principalRoles = this.rolesByPrincipalId.get(role.PrincipalObjectId) || [];\n                                principalRoles.push(role);\n                                this.rolesByPrincipalId.set(role.PrincipalObjectId, principalRoles);\n                            }\n                        });\n                    }\n                });\n                console.log(`Loaded Azure roles from ${path.basename(filePath)}`);\n            }\n            catch (error) {\n                console.debug(`File not found (expected): ${filePath}`);\n            }\n        }\n    }\n    parseAzureRoleFromCsv(row) {\n        try {\n            const principalObjectId = row.PrincipalObjectId || row.PrincipalId || row.ObjectId || '';\n            const roleName = row.RoleName || row.Role || '';\n            if (!principalObjectId || !roleName)\n                return null;\n            return {\n                PrincipalObjectId: principalObjectId,\n                RoleName: roleName,\n                Scope: row.Scope || row.RoleScope || '/',\n                DiscoveryTimestamp: new Date(row.DiscoveryTimestamp || Date.now()),\n                DiscoveryModule: row.DiscoveryModule || 'AzureRoleDiscovery',\n                SessionId: row.SessionId || this.generateSessionId()\n            };\n        }\n        catch (error) {\n            console.warn('Failed to parse Azure role from CSV:', error);\n            return null;\n        }\n    }\n    /**\n     * Load SQL databases from CSV\n     */\n    async loadSqlDatabasesStreamingAsync(dataPath) {\n        const filePaths = [\n            path.join(dataPath, 'SqlDatabases.csv'),\n            path.join(dataPath, 'Databases.csv'),\n            path.join(dataPath, 'SQLServers.csv')\n        ];\n        for (const filePath of filePaths) {\n            try {\n                await fs.access(filePath);\n                const content = await fs.readFile(filePath, 'utf-8');\n                Papa.parse(content, {\n                    header: true,\n                    skipEmptyLines: true,\n                    complete: (results) => {\n                        results.data.forEach((row) => {\n                            const db = this.parseSqlDbFromCsv(row);\n                            if (db) {\n                                const key = `${db.Server}_${db.Database}`;\n                                this.sqlDbsByKey.set(key, db);\n                            }\n                        });\n                    }\n                });\n                console.log(`Loaded ${this.sqlDbsByKey.size} SQL databases from ${path.basename(filePath)}`);\n            }\n            catch (error) {\n                console.debug(`File not found (expected): ${filePath}`);\n            }\n        }\n    }\n    parseSqlDbFromCsv(row) {\n        try {\n            const server = row.Server || row.ServerName || '';\n            const database = row.Database || row.DatabaseName || row.DB || '';\n            if (!server || !database)\n                return null;\n            const owners = row.Owners ?\n                row.Owners.split(';').filter((o) => o) : [];\n            const appHints = row.AppHints ?\n                row.AppHints.split(';').filter((a) => a) : [];\n            return {\n                Server: server,\n                Instance: row.Instance || row.InstanceName,\n                Database: database,\n                Owners: owners,\n                AppHints: appHints,\n                DiscoveryTimestamp: new Date(row.DiscoveryTimestamp || Date.now()),\n                DiscoveryModule: row.DiscoveryModule || 'SqlDiscovery',\n                SessionId: row.SessionId || this.generateSessionId(),\n                Name: database\n            };\n        }\n        catch (error) {\n            console.warn('Failed to parse SQL database from CSV:', error);\n            return null;\n        }\n    }\n    /**\n     * Load threat detection data from CSV\n     */\n    async loadThreatDetectionStreamingAsync(dataPath) {\n        const filePaths = [\n            path.join(dataPath, 'ThreatDetection.csv'),\n            path.join(dataPath, 'Threats.csv'),\n            path.join(dataPath, 'SecurityThreats.csv')\n        ];\n        for (const filePath of filePaths) {\n            try {\n                await fs.access(filePath);\n                const content = await fs.readFile(filePath, 'utf-8');\n                Papa.parse(content, {\n                    header: true,\n                    skipEmptyLines: true,\n                    complete: (results) => {\n                        results.data.forEach((row) => {\n                            const threat = this.parseThreatFromCsv(row);\n                            if (threat) {\n                                this.threatsByThreatId.set(threat.ThreatId, threat);\n                            }\n                        });\n                    }\n                });\n                console.log(`Loaded ${this.threatsByThreatId.size} threats from ${path.basename(filePath)}`);\n            }\n            catch (error) {\n                console.debug(`File not found (expected): ${filePath}`);\n            }\n        }\n    }\n    parseThreatFromCsv(row) {\n        try {\n            const threatId = row.ThreatId || row.Id || this.generateSessionId();\n            const threatName = row.ThreatName || row.Name || '';\n            if (!threatName)\n                return null;\n            const affectedAssets = row.AffectedAssets ?\n                row.AffectedAssets.split(';').filter((a) => a) : [];\n            const iocs = row.IndicatorsOfCompromise ?\n                row.IndicatorsOfCompromise.split(';').filter((i) => i) : [];\n            let threatDetails = {};\n            if (row.ThreatDetails) {\n                try {\n                    threatDetails = JSON.parse(row.ThreatDetails);\n                }\n                catch {\n                    threatDetails = { raw: row.ThreatDetails };\n                }\n            }\n            return {\n                ThreatId: threatId,\n                ThreatName: threatName,\n                Category: row.Category || 'Unknown',\n                Severity: row.Severity || 'Medium',\n                Confidence: parseFloat(row.Confidence || '0.5'),\n                MitreAttackId: row.MitreAttackId,\n                MitreTactic: row.MitreTactic,\n                MitreTechnique: row.MitreTechnique,\n                AffectedAssets: affectedAssets,\n                IndicatorsOfCompromise: iocs,\n                ThreatDetails: threatDetails,\n                DetectionTimestamp: new Date(row.DetectionTimestamp || Date.now()),\n                DetectionSource: row.DetectionSource || 'Unknown',\n                SessionId: row.SessionId || this.generateSessionId(),\n                DiscoveryModule: row.DiscoveryModule || 'ThreatDetectionEngine',\n                ThreatScore: parseFloat(row.ThreatScore || '50')\n            };\n        }\n        catch (error) {\n            console.warn('Failed to parse threat from CSV:', error);\n            return null;\n        }\n    }\n    /**\n     * Load data governance information from CSV\n     */\n    async loadDataGovernanceStreamingAsync(dataPath) {\n        const filePaths = [\n            path.join(dataPath, 'DataGovernance.csv'),\n            path.join(dataPath, 'GovernanceAssets.csv'),\n            path.join(dataPath, 'Compliance.csv')\n        ];\n        for (const filePath of filePaths) {\n            try {\n                await fs.access(filePath);\n                const content = await fs.readFile(filePath, 'utf-8');\n                Papa.parse(content, {\n                    header: true,\n                    skipEmptyLines: true,\n                    complete: (results) => {\n                        results.data.forEach((row) => {\n                            const governance = this.parseGovernanceFromCsv(row);\n                            if (governance) {\n                                this.governanceByAssetId.set(governance.AssetId, governance);\n                            }\n                        });\n                    }\n                });\n                console.log(`Loaded ${this.governanceByAssetId.size} governance records from ${path.basename(filePath)}`);\n            }\n            catch (error) {\n                console.debug(`File not found (expected): ${filePath}`);\n            }\n        }\n    }\n    parseGovernanceFromCsv(row) {\n        try {\n            const assetId = row.AssetId || row.Id || this.generateSessionId();\n            const assetName = row.AssetName || row.Name || '';\n            if (!assetName)\n                return null;\n            const retentionPolicies = row.RetentionPolicies ?\n                row.RetentionPolicies.split(';').filter((r) => r) : [];\n            const complianceFrameworks = row.ComplianceFrameworks ?\n                row.ComplianceFrameworks.split(';').filter((c) => c) : [];\n            const violations = row.ViolationsFound ?\n                row.ViolationsFound.split(';').filter((v) => v) : [];\n            let metadata = {};\n            if (row.Metadata) {\n                try {\n                    metadata = JSON.parse(row.Metadata);\n                }\n                catch {\n                    row.Metadata.split(';').forEach((item) => {\n                        const [key, value] = item.split('=');\n                        if (key && value)\n                            metadata[key] = value;\n                    });\n                }\n            }\n            return {\n                AssetId: assetId,\n                AssetName: assetName,\n                AssetType: row.AssetType || 'Unknown',\n                Classification: row.Classification || 'Unclassified',\n                Owner: row.Owner || 'Unknown',\n                Custodian: row.Custodian || 'Unknown',\n                RetentionPolicies: retentionPolicies,\n                ComplianceFrameworks: complianceFrameworks,\n                Metadata: metadata,\n                HasPersonalData: row.HasPersonalData === 'true' || row.HasPersonalData === '1',\n                HasSensitiveData: row.HasSensitiveData === 'true' || row.HasSensitiveData === '1',\n                LastAuditDate: new Date(row.LastAuditDate || Date.now()),\n                ComplianceStatus: row.ComplianceStatus || 'Unknown',\n                ViolationsFound: violations,\n                DiscoveryTimestamp: new Date(row.DiscoveryTimestamp || Date.now()),\n                DiscoveryModule: row.DiscoveryModule || 'DataGovernanceMetadataManagement',\n                SessionId: row.SessionId || this.generateSessionId(),\n                ComplianceScore: parseFloat(row.ComplianceScore || '0'),\n                RiskLevel: row.RiskLevel,\n                GovernanceRisk: parseFloat(row.GovernanceRisk || '0')\n            };\n        }\n        catch (error) {\n            console.warn('Failed to parse governance from CSV:', error);\n            return null;\n        }\n    }\n    /**\n     * Load data lineage information from CSV\n     */\n    async loadDataLineageStreamingAsync(dataPath) {\n        const filePaths = [\n            path.join(dataPath, 'DataLineage.csv'),\n            path.join(dataPath, 'DataFlows.csv'),\n            path.join(dataPath, 'LineageMapping.csv')\n        ];\n        for (const filePath of filePaths) {\n            try {\n                await fs.access(filePath);\n                const content = await fs.readFile(filePath, 'utf-8');\n                Papa.parse(content, {\n                    header: true,\n                    skipEmptyLines: true,\n                    complete: (results) => {\n                        results.data.forEach((row) => {\n                            const lineage = this.parseLineageFromCsv(row);\n                            if (lineage) {\n                                this.lineageByLineageId.set(lineage.LineageId, lineage);\n                            }\n                        });\n                    }\n                });\n                console.log(`Loaded ${this.lineageByLineageId.size} lineage records from ${path.basename(filePath)}`);\n            }\n            catch (error) {\n                console.debug(`File not found (expected): ${filePath}`);\n            }\n        }\n    }\n    parseLineageFromCsv(row) {\n        try {\n            const lineageId = row.LineageId || row.Id || this.generateSessionId();\n            const sourceAssetId = row.SourceAssetId || row.Source || '';\n            const targetAssetId = row.TargetAssetId || row.Target || '';\n            if (!sourceAssetId || !targetAssetId)\n                return null;\n            const transformationSteps = row.TransformationSteps ?\n                row.TransformationSteps.split(';').filter((t) => t) : [];\n            const dependencies = row.Dependencies ?\n                row.Dependencies.split(';').filter((d) => d) : [];\n            const issues = row.Issues ?\n                row.Issues.split(';').filter((i) => i) : [];\n            let flowMetadata = {};\n            if (row.FlowMetadata) {\n                try {\n                    flowMetadata = JSON.parse(row.FlowMetadata);\n                }\n                catch {\n                    row.FlowMetadata.split(';').forEach((item) => {\n                        const [key, value] = item.split('=');\n                        if (key && value)\n                            flowMetadata[key] = value;\n                    });\n                }\n            }\n            return {\n                LineageId: lineageId,\n                SourceAssetId: sourceAssetId,\n                SourceAssetName: row.SourceAssetName || sourceAssetId,\n                SourceAssetType: row.SourceAssetType || 'Unknown',\n                TargetAssetId: targetAssetId,\n                TargetAssetName: row.TargetAssetName || targetAssetId,\n                TargetAssetType: row.TargetAssetType || 'Unknown',\n                TransformationType: row.TransformationType || 'Unknown',\n                TransformationSteps: transformationSteps,\n                DataFlow: row.DataFlow || 'Unknown',\n                FlowMetadata: flowMetadata,\n                Dependencies: dependencies,\n                IsOrphaned: row.IsOrphaned === 'true' || row.IsOrphaned === '1',\n                HasBrokenLinks: row.HasBrokenLinks === 'true' || row.HasBrokenLinks === '1',\n                LastValidated: new Date(row.LastValidated || Date.now()),\n                DiscoveryTimestamp: new Date(row.DiscoveryTimestamp || Date.now()),\n                DiscoveryModule: row.DiscoveryModule || 'DataLineageDependencyEngine',\n                SessionId: row.SessionId || this.generateSessionId(),\n                Issues: issues,\n                LineageRisk: parseFloat(row.LineageRisk || '0')\n            };\n        }\n        catch (error) {\n            console.warn('Failed to parse lineage from CSV:', error);\n            return null;\n        }\n    }\n    /**\n     * Load external identities from CSV\n     */\n    async loadExternalIdentitiesStreamingAsync(dataPath) {\n        const filePaths = [\n            path.join(dataPath, 'ExternalIdentities.csv'),\n            path.join(dataPath, 'FederatedIdentities.csv'),\n            path.join(dataPath, 'B2BUsers.csv')\n        ];\n        for (const filePath of filePaths) {\n            try {\n                await fs.access(filePath);\n                const content = await fs.readFile(filePath, 'utf-8');\n                Papa.parse(content, {\n                    header: true,\n                    skipEmptyLines: true,\n                    complete: (results) => {\n                        results.data.forEach((row) => {\n                            const identity = this.parseExternalIdentityFromCsv(row);\n                            if (identity) {\n                                this.externalIdentitiesById.set(identity.ExternalIdentityId, identity);\n                                if (identity.ExternalUserEmail) {\n                                    this.externalIdentitiesByUpn.set(identity.ExternalUserEmail, identity);\n                                }\n                            }\n                        });\n                    }\n                });\n                console.log(`Loaded ${this.externalIdentitiesById.size} external identities from ${path.basename(filePath)}`);\n            }\n            catch (error) {\n                console.debug(`File not found (expected): ${filePath}`);\n            }\n        }\n    }\n    parseExternalIdentityFromCsv(row) {\n        try {\n            const externalId = row.ExternalIdentityId || row.Id || this.generateSessionId();\n            const externalProvider = row.ExternalProvider || row.Provider || 'Unknown';\n            const externalUserId = row.ExternalUserId || row.UserId || '';\n            if (!externalUserId)\n                return null;\n            const assignedRoles = row.AssignedRoles ?\n                row.AssignedRoles.split(';').filter((r) => r) : [];\n            const permissions = row.Permissions ?\n                row.Permissions.split(';').filter((p) => p) : [];\n            const syncErrors = row.SyncErrors ?\n                row.SyncErrors.split(';').filter((e) => e) : [];\n            return {\n                ExternalIdentityId: externalId,\n                ExternalProvider: externalProvider,\n                ExternalUserId: externalUserId,\n                ExternalUserEmail: row.ExternalUserEmail || row.Email,\n                ExternalDisplayName: row.ExternalDisplayName || row.DisplayName,\n                InternalUserSid: row.InternalUserSid || row.MappedUserSid,\n                MappingStatus: row.MappingStatus || 'Unmapped',\n                MappingConfidence: parseFloat(row.MappingConfidence || '0'),\n                AssignedRoles: assignedRoles,\n                Permissions: permissions,\n                LastSynchronized: new Date(row.LastSynchronized || Date.now()),\n                SyncErrors: syncErrors,\n                DiscoveryTimestamp: new Date(row.DiscoveryTimestamp || Date.now()),\n                DiscoveryModule: row.DiscoveryModule || 'ExternalIdentityMapping',\n                SessionId: row.SessionId || this.generateSessionId(),\n                IdentityRisk: parseFloat(row.IdentityRisk || '0')\n            };\n        }\n        catch (error) {\n            console.warn('Failed to parse external identity from CSV:', error);\n            return null;\n        }\n    }\n    // ========================================\n    // INFERENCE RULES (formerly from InferenceRulesMixin)\n    // ========================================\n    /**\n     * Rule 1: ACL Group-User Inference\n     * Correlates file system ACLs with group memberships to determine user permissions\n     */\n    applyAclGroupUserInference() {\n        console.log('Applying ACLGroupUser inference rules');\n        let aclExpansionCount = 0;\n        // Iterate through all ACL entries\n        Array.from(this.aclByIdentitySid.entries()).forEach(([identitySid, entries]) => {\n            // Check if this identity is a group\n            const group = this.groupsBySid.get(identitySid);\n            if (group) {\n                // Expand ACL entries to all group members\n                const members = this.membersByGroupSid.get(identitySid) || [];\n                members.forEach(memberSid => {\n                    // Add ACL entries for each member\n                    const memberAcls = this.aclByIdentitySid.get(memberSid) || [];\n                    entries.forEach(entry => {\n                        // Create derived ACL entry for the member\n                        const derivedEntry = {\n                            ...entry,\n                            IdentitySid: memberSid // Update to member's SID\n                        };\n                        memberAcls.push(derivedEntry);\n                    });\n                    this.aclByIdentitySid.set(memberSid, memberAcls);\n                    aclExpansionCount++;\n                });\n                // Handle nested groups recursively\n                if (group.NestedGroups) {\n                    group.NestedGroups.forEach(nestedGroupSid => {\n                        const nestedMembers = this.membersByGroupSid.get(nestedGroupSid) || [];\n                        nestedMembers.forEach(memberSid => {\n                            const memberAcls = this.aclByIdentitySid.get(memberSid) || [];\n                            entries.forEach(entry => {\n                                const derivedEntry = {\n                                    ...entry,\n                                    IdentitySid: memberSid,\n                                    Inherited: true // Mark as inherited through nested group\n                                };\n                                memberAcls.push(derivedEntry);\n                            });\n                            this.aclByIdentitySid.set(memberSid, memberAcls);\n                            aclExpansionCount++;\n                        });\n                    });\n                }\n            }\n        });\n        this.appliedInferenceRules.push(`ACLGroupUser expansion: ${aclExpansionCount} derived permissions`);\n        console.log(`Expanded ${aclExpansionCount} ACL entries through group memberships`);\n    }\n    /**\n     * Rule 2: Primary Device Inference\n     * Determines primary device for each user based on login frequency and recency\n     */\n    applyPrimaryDeviceInference() {\n        console.log('Applying primary device inference rules');\n        let primaryDeviceAssignments = 0;\n        // Infer primary devices based on device ownership\n        this.devicesByName.forEach(device => {\n            if (device.PrimaryUserSid) {\n                // Update user's primary device list\n                const devices = this.devicesByPrimaryUserSid.get(device.PrimaryUserSid) || [];\n                if (!devices.includes(device)) {\n                    devices.push(device);\n                    this.devicesByPrimaryUserSid.set(device.PrimaryUserSid, devices);\n                    primaryDeviceAssignments++;\n                }\n                // Create graph edge for primary user relationship\n                const userNodeId = `User_${device.PrimaryUserSid}`;\n                const deviceNodeId = `Device_${device.Name}`;\n                this.edges.push({\n                    SourceId: userNodeId,\n                    TargetId: deviceNodeId,\n                    Type: EdgeType.PrimaryUser\n                });\n            }\n        });\n        this.appliedInferenceRules.push(`Primary device inference: ${primaryDeviceAssignments} assignments`);\n        console.log(`Assigned ${primaryDeviceAssignments} primary device relationships`);\n    }\n    /**\n     * Rule 3: GPO Security Filter Inference\n     * Determines which GPOs apply to users based on security filters\n     */\n    applyGpoSecurityFilterInference() {\n        console.log('Applying GPO security filter inference rules');\n        let gpoFilterCount = 0;\n        this.gposByGuid.forEach(gpo => {\n            // Process security filters\n            gpo.SecurityFilter.forEach(filterSid => {\n                // Check if filter applies to a group\n                const group = this.groupsBySid.get(filterSid);\n                if (group) {\n                    // Expand to all group members\n                    const members = this.membersByGroupSid.get(filterSid) || [];\n                    members.forEach(memberSid => {\n                        const userGpos = this.gposBySidFilter.get(memberSid) || [];\n                        if (!userGpos.includes(gpo)) {\n                            userGpos.push(gpo);\n                            this.gposBySidFilter.set(memberSid, userGpos);\n                            gpoFilterCount++;\n                        }\n                    });\n                }\n                else {\n                    // Direct user filter\n                    const userGpos = this.gposBySidFilter.get(filterSid) || [];\n                    if (!userGpos.includes(gpo)) {\n                        userGpos.push(gpo);\n                        this.gposBySidFilter.set(filterSid, userGpos);\n                        gpoFilterCount++;\n                    }\n                }\n            });\n            // Process OU links\n            gpo.Links.forEach(ou => {\n                const ouGpos = this.gposByOu.get(ou) || [];\n                if (!ouGpos.includes(gpo)) {\n                    ouGpos.push(gpo);\n                    this.gposByOu.set(ou, ouGpos);\n                }\n            });\n        });\n        this.appliedInferenceRules.push(`GPO security filter inference: ${gpoFilterCount} user-GPO links`);\n        console.log(`Created ${gpoFilterCount} user-GPO relationships through security filters`);\n    }\n    /**\n     * Rule 4: Application Usage Inference\n     * Links users to applications based on device installations and usage patterns\n     */\n    applyApplicationUsageInference() {\n        console.log('Applying application usage inference rules');\n        let appUsageLinks = 0;\n        // Build app-device relationships from device installed apps\n        this.devicesByName.forEach(device => {\n            device.InstalledApps.forEach(appName => {\n                // Try exact match first\n                let app = this.appsById.get(appName);\n                // If no exact match, try fuzzy matching\n                if (!app) {\n                    app = this.fuzzyMatchApplication(appName, Array.from(this.appsById.keys()));\n                }\n                if (app) {\n                    // Create device-app edge\n                    const deviceNodeId = `Device_${device.Name}`;\n                    const appNodeId = `App_${app.Id}`;\n                    this.edges.push({\n                        SourceId: deviceNodeId,\n                        TargetId: appNodeId,\n                        Type: EdgeType.HasApp\n                    });\n                    // If device has a primary user, link user to app\n                    if (device.PrimaryUserSid) {\n                        const userNodeId = `User_${device.PrimaryUserSid}`;\n                        this.edges.push({\n                            SourceId: userNodeId,\n                            TargetId: appNodeId,\n                            Type: EdgeType.HasApp,\n                            Properties: { via: device.Name }\n                        });\n                        appUsageLinks++;\n                    }\n                }\n            });\n        });\n        this.appliedInferenceRules.push(`Application usage inference: ${appUsageLinks} user-app links`);\n        console.log(`Created ${appUsageLinks} user-application relationships`);\n    }\n    /**\n     * Rule 5: Azure Role Inference\n     * Maps Azure roles to on-premises identities\n     */\n    applyAzureRoleInference() {\n        console.log('Applying Azure role inference rules');\n        let linkedRolesCount = 0;\n        let azureUserMappings = 0;\n        // Link Azure roles to users via Azure Object ID\n        this.usersBySid.forEach(user => {\n            if (user.AzureObjectId) {\n                const roles = this.rolesByPrincipalId.get(user.AzureObjectId);\n                if (roles && roles.length > 0) {\n                    linkedRolesCount += roles.length;\n                    azureUserMappings++;\n                    // Create edges for role assignments\n                    roles.forEach(role => {\n                        const userNodeId = `User_${user.Sid}`;\n                        const roleNodeId = `Role_${role.RoleName}_${role.Scope}`;\n                        // Create role node if it doesn't exist\n                        if (!this.nodes.has(roleNodeId)) {\n                            this.nodes.set(roleNodeId, {\n                                Id: roleNodeId,\n                                Type: NodeType.Role,\n                                Properties: { name: role.RoleName, scope: role.Scope }\n                            });\n                        }\n                        this.edges.push({\n                            SourceId: userNodeId,\n                            TargetId: roleNodeId,\n                            Type: EdgeType.AssignedRole\n                        });\n                    });\n                }\n            }\n        });\n        this.appliedInferenceRules.push(`Azure role inference: ${linkedRolesCount} roles linked to ${azureUserMappings} users`);\n        console.log(`Linked ${linkedRolesCount} Azure roles to ${azureUserMappings} users`);\n    }\n    /**\n     * Rule 6: SQL Database Ownership Inference\n     * Determines database ownership and access patterns\n     */\n    applySqlOwnershipInference() {\n        console.log('Applying SQL database ownership inference rules');\n        let ownershipLinks = 0;\n        this.sqlDbsByKey.forEach(sqlDb => {\n            sqlDb.Owners.forEach((ownerSid) => {\n                // Check if owner is a user\n                const user = this.usersBySid.get(ownerSid);\n                if (user) {\n                    const dbNodeId = `Db_${sqlDb.Server}_${sqlDb.Database}`;\n                    const userNodeId = `User_${user.Sid}`;\n                    // Create database node if it doesn't exist\n                    if (!this.nodes.has(dbNodeId)) {\n                        this.nodes.set(dbNodeId, {\n                            Id: dbNodeId,\n                            Type: NodeType.Db,\n                            Properties: {\n                                server: sqlDb.Server,\n                                database: sqlDb.Database,\n                                instance: sqlDb.Instance\n                            }\n                        });\n                    }\n                    this.edges.push({\n                        SourceId: userNodeId,\n                        TargetId: dbNodeId,\n                        Type: EdgeType.OwnsDb\n                    });\n                    ownershipLinks++;\n                }\n                // Check if owner is a group\n                const group = this.groupsBySid.get(ownerSid);\n                if (group) {\n                    // Expand ownership to group members\n                    const members = this.membersByGroupSid.get(ownerSid) || [];\n                    members.forEach(memberSid => {\n                        const dbNodeId = `Db_${sqlDb.Server}_${sqlDb.Database}`;\n                        const userNodeId = `User_${memberSid}`;\n                        this.edges.push({\n                            SourceId: userNodeId,\n                            TargetId: dbNodeId,\n                            Type: EdgeType.OwnsDb,\n                            Properties: { viaGroup: group.Name }\n                        });\n                        ownershipLinks++;\n                    });\n                }\n            });\n        });\n        this.appliedInferenceRules.push(`SQL ownership inference: ${ownershipLinks} ownership relationships`);\n        console.log(`Created ${ownershipLinks} database ownership relationships`);\n    }\n    /**\n     * Rule 7: Threat Asset Correlation Inference\n     * Correlates detected threats with affected assets\n     */\n    applyThreatAssetCorrelationInference() {\n        console.log('Applying threat-asset correlation inference rules');\n        let threatCorrelations = 0;\n        this.threatsByThreatId.forEach(threat => {\n            threat.AffectedAssets.forEach(assetId => {\n                // Add to threat-by-asset index\n                const assetThreats = this.threatsByAsset.get(assetId) || [];\n                if (!assetThreats.includes(threat)) {\n                    assetThreats.push(threat);\n                    this.threatsByAsset.set(assetId, assetThreats);\n                }\n                // Check if asset is a user\n                const user = this.usersBySid.get(assetId) || this.usersByUpn.get(assetId);\n                if (user) {\n                    const userNodeId = `User_${user.Sid}`;\n                    const threatNodeId = `Threat_${threat.ThreatId}`;\n                    // Create threat node if it doesn't exist\n                    if (!this.nodes.has(threatNodeId)) {\n                        this.nodes.set(threatNodeId, {\n                            Id: threatNodeId,\n                            Type: NodeType.Threat,\n                            Properties: {\n                                name: threat.ThreatName,\n                                severity: threat.Severity,\n                                category: threat.Category\n                            }\n                        });\n                    }\n                    this.edges.push({\n                        SourceId: threatNodeId,\n                        TargetId: userNodeId,\n                        Type: EdgeType.Threatens\n                    });\n                    threatCorrelations++;\n                }\n                // Check if asset is a device\n                const device = this.devicesByName.get(assetId);\n                if (device) {\n                    const deviceNodeId = `Device_${device.Name}`;\n                    const threatNodeId = `Threat_${threat.ThreatId}`;\n                    this.edges.push({\n                        SourceId: threatNodeId,\n                        TargetId: deviceNodeId,\n                        Type: EdgeType.Threatens\n                    });\n                    threatCorrelations++;\n                }\n            });\n            // Index by category and severity\n            const categoryThreats = this.threatsByCategory.get(threat.Category) || [];\n            if (!categoryThreats.includes(threat)) {\n                categoryThreats.push(threat);\n                this.threatsByCategory.set(threat.Category, categoryThreats);\n            }\n            const severityThreats = this.threatsBySeverity.get(threat.Severity) || [];\n            if (!severityThreats.includes(threat)) {\n                severityThreats.push(threat);\n                this.threatsBySeverity.set(threat.Severity, severityThreats);\n            }\n        });\n        this.appliedInferenceRules.push(`Threat-asset correlation: ${threatCorrelations} correlations`);\n        console.log(`Created ${threatCorrelations} threat-asset correlations`);\n    }\n    /**\n     * Rule 8: Governance Risk Inference\n     * Correlates governance issues with asset ownership\n     */\n    applyGovernanceRiskInference() {\n        console.log('Applying governance risk inference rules');\n        let governanceLinks = 0;\n        this.governanceByAssetId.forEach(governance => {\n            // Link governance issues to asset owners\n            if (governance.Owner) {\n                const owner = this.usersBySid.get(governance.Owner) ||\n                    this.usersByUpn.get(governance.Owner);\n                if (owner) {\n                    const ownerGovIssues = this.governanceByOwner.get(owner.Sid) || [];\n                    if (!ownerGovIssues.includes(governance)) {\n                        ownerGovIssues.push(governance);\n                        this.governanceByOwner.set(owner.Sid, ownerGovIssues);\n                        governanceLinks++;\n                    }\n                    // Create graph edge\n                    const userNodeId = `User_${owner.Sid}`;\n                    const assetNodeId = `DataAsset_${governance.AssetId}`;\n                    if (!this.nodes.has(assetNodeId)) {\n                        this.nodes.set(assetNodeId, {\n                            Id: assetNodeId,\n                            Type: NodeType.DataAsset,\n                            Properties: {\n                                name: governance.AssetName,\n                                type: governance.AssetType,\n                                classification: governance.Classification\n                            }\n                        });\n                    }\n                    this.edges.push({\n                        SourceId: userNodeId,\n                        TargetId: assetNodeId,\n                        Type: EdgeType.HasGovernanceIssue\n                    });\n                }\n            }\n            // Index by compliance status\n            const complianceGovIssues = this.governanceByCompliance.get(governance.ComplianceStatus) || [];\n            if (!complianceGovIssues.includes(governance)) {\n                complianceGovIssues.push(governance);\n                this.governanceByCompliance.set(governance.ComplianceStatus, complianceGovIssues);\n            }\n        });\n        this.appliedInferenceRules.push(`Governance risk inference: ${governanceLinks} owner-asset links`);\n        console.log(`Created ${governanceLinks} governance-owner relationships`);\n    }\n    /**\n     * Rule 9: Data Lineage Integrity Inference\n     * Builds data lineage graph and identifies integrity issues\n     */\n    applyLineageIntegrityInference() {\n        console.log('Applying data lineage integrity inference rules');\n        let lineageLinks = 0;\n        let orphanedFlows = 0;\n        let brokenLinks = 0;\n        this.lineageByLineageId.forEach(lineage => {\n            // Create lineage flow nodes\n            const sourceNodeId = `DataAsset_${lineage.SourceAssetId}`;\n            const targetNodeId = `DataAsset_${lineage.TargetAssetId}`;\n            const flowNodeId = `LineageFlow_${lineage.LineageId}`;\n            // Create nodes if they don't exist\n            if (!this.nodes.has(sourceNodeId)) {\n                this.nodes.set(sourceNodeId, {\n                    Id: sourceNodeId,\n                    Type: NodeType.DataAsset,\n                    Properties: {\n                        name: lineage.SourceAssetName,\n                        type: lineage.SourceAssetType\n                    }\n                });\n            }\n            if (!this.nodes.has(targetNodeId)) {\n                this.nodes.set(targetNodeId, {\n                    Id: targetNodeId,\n                    Type: NodeType.DataAsset,\n                    Properties: {\n                        name: lineage.TargetAssetName,\n                        type: lineage.TargetAssetType\n                    }\n                });\n            }\n            if (!this.nodes.has(flowNodeId)) {\n                this.nodes.set(flowNodeId, {\n                    Id: flowNodeId,\n                    Type: NodeType.LineageFlow,\n                    Properties: {\n                        transformationType: lineage.TransformationType,\n                        dataFlow: lineage.DataFlow\n                    }\n                });\n            }\n            // Create edges\n            this.edges.push({\n                SourceId: sourceNodeId,\n                TargetId: flowNodeId,\n                Type: EdgeType.DataFlowTo\n            });\n            this.edges.push({\n                SourceId: flowNodeId,\n                TargetId: targetNodeId,\n                Type: EdgeType.DataFlowTo\n            });\n            lineageLinks += 2;\n            // Index by source and target\n            const sourceFlows = this.lineageBySourceAsset.get(lineage.SourceAssetId) || [];\n            if (!sourceFlows.includes(lineage)) {\n                sourceFlows.push(lineage);\n                this.lineageBySourceAsset.set(lineage.SourceAssetId, sourceFlows);\n            }\n            const targetFlows = this.lineageByTargetAsset.get(lineage.TargetAssetId) || [];\n            if (!targetFlows.includes(lineage)) {\n                targetFlows.push(lineage);\n                this.lineageByTargetAsset.set(lineage.TargetAssetId, targetFlows);\n            }\n            // Track issues\n            if (lineage.IsOrphaned)\n                orphanedFlows++;\n            if (lineage.HasBrokenLinks)\n                brokenLinks++;\n        });\n        this.appliedInferenceRules.push(`Lineage integrity: ${lineageLinks} flows, ${orphanedFlows} orphaned, ${brokenLinks} broken`);\n        console.log(`Created ${lineageLinks} lineage relationships, found ${orphanedFlows} orphaned flows and ${brokenLinks} broken links`);\n    }\n    /**\n     * Rule 10: External Identity Mapping Inference\n     * Correlates external identities with internal users\n     */\n    applyExternalIdentityMappingInference() {\n        console.log('Applying external identity mapping inference rules');\n        let mappedIdentities = 0;\n        let conflictedMappings = 0;\n        this.externalIdentitiesById.forEach(externalId => {\n            // Try to map to internal user\n            let mappedUser;\n            // Try exact UPN match\n            if (externalId.ExternalUserEmail) {\n                mappedUser = this.usersByUpn.get(externalId.ExternalUserEmail);\n            }\n            // Try fuzzy matching if no exact match\n            if (!mappedUser && externalId.ExternalDisplayName) {\n                mappedUser = this.fuzzyMatchUser(externalId.ExternalDisplayName, 'DisplayName');\n            }\n            if (mappedUser) {\n                // Update mapping\n                externalId.InternalUserSid = mappedUser.Sid;\n                externalId.MappingStatus = 'Mapped';\n                mappedIdentities++;\n                // Create graph edge\n                const userNodeId = `User_${mappedUser.Sid}`;\n                const extIdNodeId = `ExternalIdentity_${externalId.ExternalIdentityId}`;\n                if (!this.nodes.has(extIdNodeId)) {\n                    this.nodes.set(extIdNodeId, {\n                        Id: extIdNodeId,\n                        Type: NodeType.ExternalIdentity,\n                        Properties: {\n                            provider: externalId.ExternalProvider,\n                            userId: externalId.ExternalUserId,\n                            email: externalId.ExternalUserEmail\n                        }\n                    });\n                }\n                this.edges.push({\n                    SourceId: userNodeId,\n                    TargetId: extIdNodeId,\n                    Type: EdgeType.ExternalMapping\n                });\n            }\n            else {\n                // Mark as unmapped\n                externalId.MappingStatus = 'Unmapped';\n            }\n            // Index by provider\n            const providerIds = this.externalIdentitiesByProvider.get(externalId.ExternalProvider) || [];\n            if (!providerIds.includes(externalId)) {\n                providerIds.push(externalId);\n                this.externalIdentitiesByProvider.set(externalId.ExternalProvider, providerIds);\n            }\n            // Index by mapping status\n            const statusIds = this.externalIdentitiesByMappingStatus.get(externalId.MappingStatus) || [];\n            if (!statusIds.includes(externalId)) {\n                statusIds.push(externalId);\n                this.externalIdentitiesByMappingStatus.set(externalId.MappingStatus, statusIds);\n            }\n            if (externalId.MappingStatus === 'Unmapped') {\n                conflictedMappings++;\n            }\n        });\n        this.appliedInferenceRules.push(`External identity mapping: ${mappedIdentities} mapped, ${conflictedMappings} conflicts`);\n        console.log(`Mapped ${mappedIdentities} external identities, found ${conflictedMappings} conflicts`);\n    }\n    /**\n     * Helper: Fuzzy match application by name\n     */\n    fuzzyMatchApplication(appNameCandidate, installedApps) {\n        let bestMatch;\n        let bestSimilarity = 0;\n        installedApps.forEach(appId => {\n            const app = this.appsById.get(appId);\n            if (app) {\n                const similarity = this.calculateLevenshteinSimilarity(appNameCandidate, app.Name);\n                if (similarity >= 0.8 && similarity > bestSimilarity) {\n                    bestSimilarity = similarity;\n                    bestMatch = app;\n                }\n            }\n        });\n        if (bestMatch) {\n            this.appliedInferenceRules.push(`Fuzzy app match: '${appNameCandidate}' -> '${bestMatch.Name}' (similarity: ${(bestSimilarity * 100).toFixed(1)}%)`);\n        }\n        return bestMatch;\n    }\n    /**\n     * Helper: Fuzzy match user by display name, UPN, or email\n     */\n    fuzzyMatchUser(searchTerm, searchType = 'DisplayName') {\n        let bestMatch;\n        let bestSimilarity = 0;\n        this.usersBySid.forEach(user => {\n            const targetValue = searchType === 'UPN' ? user.UPN :\n                searchType === 'Mail' ? user.Mail :\n                    user.DisplayName;\n            if (targetValue) {\n                const similarity = this.calculateLevenshteinSimilarity(searchTerm, targetValue);\n                if (similarity >= 0.8 && similarity > bestSimilarity) {\n                    bestSimilarity = similarity;\n                    bestMatch = user;\n                }\n            }\n        });\n        if (bestMatch) {\n            this.appliedInferenceRules.push(`Fuzzy user match: '${searchTerm}' -> '${bestMatch.DisplayName}' (similarity: ${(bestSimilarity * 100).toFixed(1)}%)`);\n        }\n        return bestMatch;\n    }\n    /**\n     * Calculate Levenshtein similarity ratio (0.0 to 1.0)\n     */\n    calculateLevenshteinSimilarity(s1, s2) {\n        if (!s1 || !s2) {\n            return (!s1 && !s2) ? 1.0 : 0.0;\n        }\n        const len1 = s1.length;\n        const len2 = s2.length;\n        const matrix = [];\n        // Initialize matrix\n        for (let i = 0; i <= len1; i++) {\n            matrix[i] = [i];\n        }\n        for (let j = 0; j <= len2; j++) {\n            matrix[0][j] = j;\n        }\n        // Calculate distances\n        for (let i = 1; i <= len1; i++) {\n            for (let j = 1; j <= len2; j++) {\n                const cost = s1[i - 1] === s2[j - 1] ? 0 : 1;\n                matrix[i][j] = Math.min(matrix[i - 1][j] + 1, // deletion\n                matrix[i][j - 1] + 1, // insertion\n                matrix[i - 1][j - 1] + cost // substitution\n                );\n            }\n        }\n        const distance = matrix[len1][len2];\n        const maxLen = Math.max(len1, len2);\n        return maxLen === 0 ? 1.0 : 1.0 - (distance / maxLen);\n    }\n    // ========================================\n    // END OF INFERENCE RULES\n    // ========================================\n    // Index building\n    async buildIndicesAsync() {\n        // Build user-group relationships\n        this.groupsBySid.forEach((group, groupSid) => {\n            group.Members.forEach(memberSid => {\n                // Add to membersByGroupSid\n                const members = this.membersByGroupSid.get(groupSid) || [];\n                members.push(memberSid);\n                this.membersByGroupSid.set(groupSid, members);\n                // Add to groupsByUserSid\n                const groups = this.groupsByUserSid.get(memberSid) || [];\n                groups.push(groupSid);\n                this.groupsByUserSid.set(memberSid, groups);\n            });\n        });\n        // Build device indices\n        this.devicesByName.forEach(device => {\n            if (device.PrimaryUserSid) {\n                const devices = this.devicesByPrimaryUserSid.get(device.PrimaryUserSid) || [];\n                devices.push(device);\n                this.devicesByPrimaryUserSid.set(device.PrimaryUserSid, devices);\n            }\n        });\n        console.log('Indices built successfully');\n    }\n    // Inference rules\n    async applyInferenceRulesAsync() {\n        console.log('Applying inference rules...');\n        // Apply all inference rules\n        this.applyAclGroupUserInference();\n        this.applyPrimaryDeviceInference();\n        this.applyGpoSecurityFilterInference();\n        this.applyApplicationUsageInference();\n        this.applyAzureRoleInference();\n        this.applySqlOwnershipInference();\n        // T-029: New cross-module correlation inference rules\n        this.applyThreatAssetCorrelationInference();\n        this.applyGovernanceRiskInference();\n        this.applyLineageIntegrityInference();\n        this.applyExternalIdentityMappingInference();\n        // T-010: Enhanced fuzzy matching\n        this.appliedInferenceRules.push('Fuzzy matching enabled for identity resolution');\n        this.appliedInferenceRules.push('File share loader implemented with ACL correlation');\n        console.log(`Applied ${this.appliedInferenceRules.length} inference rules`);\n    }\n    // Inference rule methods are implemented via mixin (see below)\n    // Helper methods\n    getGroupsForUser(userSid) {\n        const groupSids = this.groupsByUserSid.get(userSid) || [];\n        return groupSids.map(sid => this.groupsBySid.get(sid)).filter(g => g);\n    }\n    getDevicesForUser(userSid) {\n        return this.devicesByPrimaryUserSid.get(userSid) || [];\n    }\n    getAppsForUser(userSid, devices) {\n        const apps = new Set();\n        devices.forEach(device => {\n            device.InstalledApps.forEach(appId => {\n                const app = this.appsById.get(appId);\n                if (app) {\n                    apps.add(app);\n                }\n            });\n        });\n        return Array.from(apps);\n    }\n    getSharesForUser(userSid) {\n        return this.aclByIdentitySid.get(userSid) || [];\n    }\n    getGpoLinksForUser(user) {\n        const gpos = [];\n        if (user.OU) {\n            const ouGpos = this.gposByOu.get(user.OU) || [];\n            gpos.push(...ouGpos);\n        }\n        return gpos;\n    }\n    getGpoFiltersForUser(userSid) {\n        return this.gposBySidFilter.get(userSid) || [];\n    }\n    getSqlDatabasesForUser(userSid) {\n        const databases = [];\n        this.sqlDbsByKey.forEach(db => {\n            if (db.Owners.includes(userSid)) {\n                databases.push(db);\n            }\n        });\n        return databases;\n    }\n    calculateRisksForUser(user) {\n        const risks = [];\n        // Check for missing mappings\n        const missingMappings = [];\n        if (!user.AzureObjectId) {\n            missingMappings.push('No Azure AD mapping');\n        }\n        if (!this.mailboxByUpn.has(user.UPN)) {\n            missingMappings.push('No mailbox found');\n        }\n        if (missingMappings.length > 0) {\n            risks.push({\n                EntityId: user.Sid,\n                EntityType: 'User',\n                MissingMappings: missingMappings,\n                OrphanedAcls: [],\n                UnresolvableSidRefs: [],\n                Severity: missingMappings.length > 1 ? 'High' : 'Medium',\n                Type: 'User',\n                Description: `Risk assessment for User ${user.DisplayName || user.Sam}`,\n                Recommendation: missingMappings.length > 1\n                    ? 'Requires immediate attention before migration'\n                    : 'Should be reviewed and resolved during migration planning'\n            });\n        }\n        return risks;\n    }\n    generateMigrationHintsForUser(user) {\n        const hints = [];\n        // Generate migration hints based on user properties\n        if (user.Manager) {\n            hints.push({\n                EntityId: user.Sid,\n                EntityType: 'User',\n                HintType: 'ManagerMapping',\n                Description: 'User has a manager that needs to be mapped in target',\n                RequiredActions: {\n                    'Map Manager': `Ensure manager ${user.Manager} is migrated first`,\n                    'Update Hierarchy': 'Update reporting structure after migration'\n                }\n            });\n        }\n        return hints;\n    }\n    getThreatsForAsset(assetId) {\n        return this.threatsByAsset.get(assetId) || [];\n    }\n    getGovernanceForAsset(assetId) {\n        return this.governanceByAssetId.get(assetId);\n    }\n    getLineageForAsset(assetId) {\n        const sourceFlows = this.lineageBySourceAsset.get(assetId) || [];\n        const targetFlows = this.lineageByTargetAsset.get(assetId) || [];\n        return [...sourceFlows, ...targetFlows];\n    }\n    getExternalIdentitiesForUser(userSid) {\n        const identities = [];\n        this.externalIdentitiesById.forEach(identity => {\n            if (identity.InternalUserSid === userSid) {\n                identities.push(identity);\n            }\n        });\n        return identities;\n    }\n    getFuzzyMatchCount() {\n        return this.appliedInferenceRules.filter(rule => rule.toLowerCase().includes('fuzzy') ||\n            rule.toLowerCase().includes('similarity') ||\n            rule.toLowerCase().includes('match')).length;\n    }\n    generateSessionId() {\n        return `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    }\n    // ========================================\n    // Dashboard-Specific Aggregation Methods\n    // ========================================\n    /**\n     * Get total user count\n     */\n    getUserCount() {\n        return this.usersBySid.size;\n    }\n    /**\n     * Get total group count\n     */\n    getGroupCount() {\n        return this.groupsBySid.size;\n    }\n    /**\n     * Get total device count\n     */\n    getDeviceCount() {\n        return this.devicesByName.size;\n    }\n    /**\n     * Get total infrastructure count (servers + databases + file shares)\n     */\n    getInfrastructureCount() {\n        return this.sqlDbsByKey.size + this.fileSharesByPath.size;\n    }\n    /**\n     * Get total application count\n     */\n    getApplicationCount() {\n        return this.appsById.size;\n    }\n    /**\n     * Get users discovered in last N days\n     */\n    getDiscoveredUserCount(days = 7) {\n        const cutoffDate = new Date(Date.now() - days * 24 * 60 * 60 * 1000);\n        let count = 0;\n        this.usersBySid.forEach(user => {\n            if (user.DiscoveryTimestamp && new Date(user.DiscoveryTimestamp) > cutoffDate) {\n                count++;\n            }\n        });\n        return count;\n    }\n    /**\n     * Get groups discovered in last N days\n     */\n    getDiscoveredGroupCount(days = 7) {\n        const cutoffDate = new Date(Date.now() - days * 24 * 60 * 60 * 1000);\n        let count = 0;\n        this.groupsBySid.forEach(group => {\n            if (group.DiscoveryTimestamp && new Date(group.DiscoveryTimestamp) > cutoffDate) {\n                count++;\n            }\n        });\n        return count;\n    }\n    /**\n     * Get devices discovered in last N days\n     */\n    getDiscoveredDeviceCount(days = 7) {\n        const cutoffDate = new Date(Date.now() - days * 24 * 60 * 60 * 1000);\n        let count = 0;\n        this.devicesByName.forEach(device => {\n            if (device.DiscoveryTimestamp && new Date(device.DiscoveryTimestamp) > cutoffDate) {\n                count++;\n            }\n        });\n        return count;\n    }\n    /**\n     * Get the timestamp of the last discovery run\n     */\n    getLastDiscoveryRun() {\n        let latestTimestamp;\n        this.usersBySid.forEach(user => {\n            if (user.DiscoveryTimestamp) {\n                const timestamp = new Date(user.DiscoveryTimestamp);\n                if (!latestTimestamp || timestamp > latestTimestamp) {\n                    latestTimestamp = timestamp;\n                }\n            }\n        });\n        return latestTimestamp?.toISOString();\n    }\n    /**\n     * Get all users from the in-memory store\n     */\n    getAllUsers() {\n        return Array.from(this.usersBySid.values());\n    }\n    /**\n     * Get all groups from the in-memory store\n     */\n    getAllGroups() {\n        return Array.from(this.groupsBySid.values());\n    }\n    /**\n     * Get all devices from the in-memory store\n     */\n    getAllDevices() {\n        return Array.from(this.devicesByName.values());\n    }\n    /**\n     * Get all applications from the in-memory store\n     */\n    getAllApplications() {\n        return Array.from(this.appsById.values());\n    }\n    /**\n     * Get all mailboxes from the in-memory store\n     */\n    getAllMailboxes() {\n        return Array.from(this.mailboxByUpn.values());\n    }\n    /**\n     * Analyze migration complexity for a user\n     * Returns complexity score based on group memberships, permissions, and service dependencies\n     */\n    async analyzeMigrationComplexity(userId) {\n        const user = this.usersBySid.get(userId) || this.usersByUpn.get(userId);\n        if (!user) {\n            console.warn(`User not found for complexity analysis: ${userId}`);\n            return {\n                score: 0,\n                level: 'Low',\n                factors: ['User not found in discovery data']\n            };\n        }\n        let score = 0;\n        const factors = [];\n        // Get correlated data\n        const groups = this.getGroupsForUser(user.Sid);\n        const devices = this.getDevicesForUser(user.Sid);\n        const mailbox = this.mailboxByUpn.get(user.UPN) || this.mailboxByUpn.get(user.Mail || '');\n        const azureRoles = this.rolesByPrincipalId.get(user.AzureObjectId || '') || [];\n        const drives = this.drivesByUserSid.get(user.Sid) || [];\n        const acls = this.aclByIdentitySid.get(user.Sid) || [];\n        // Group membership complexity (0-10 points)\n        if (groups.length > 20) {\n            score += 10;\n            factors.push(`High group membership count (${groups.length} groups)`);\n        }\n        else if (groups.length > 10) {\n            score += 5;\n            factors.push(`Moderate group membership count (${groups.length} groups)`);\n        }\n        else if (groups.length > 5) {\n            score += 2;\n            factors.push(`Several group memberships (${groups.length} groups)`);\n        }\n        // Permission complexity - check for administrative roles (0-15 points)\n        const adminGroups = groups.filter(g => g.Name?.toLowerCase().includes('admin') ||\n            g.Name?.toLowerCase().includes('domain') ||\n            g.Type?.toLowerCase().includes('privileged'));\n        if (adminGroups.length > 0) {\n            score += 15;\n            factors.push(`Administrative permissions detected (${adminGroups.length} admin groups)`);\n        }\n        // Azure role assignments (0-10 points)\n        if (azureRoles.length > 5) {\n            score += 10;\n            factors.push(`Multiple Azure role assignments (${azureRoles.length} roles)`);\n        }\n        else if (azureRoles.length > 0) {\n            score += 5;\n            factors.push(`Azure role assignments (${azureRoles.length} roles)`);\n        }\n        // External system dependencies (0-8 points)\n        const hasMailbox = !!mailbox;\n        const hasDevices = devices.length > 0;\n        const hasDrives = drives.length > 0;\n        if (hasMailbox && hasDevices) {\n            score += 4;\n            factors.push('Multiple Microsoft 365 services (Mailbox + Devices)');\n        }\n        if (hasDrives) {\n            score += 2;\n            factors.push(`Mapped network drives (${drives.length} drives)`);\n        }\n        if (hasDevices && devices.length > 1) {\n            score += 2;\n            factors.push(`Multiple devices (${devices.length} devices)`);\n        }\n        // SharePoint/file share access (0-7 points)\n        if (acls.length > 10) {\n            score += 7;\n            factors.push(`Extensive file share permissions (${acls.length} ACL entries)`);\n        }\n        else if (acls.length > 0) {\n            score += 3;\n            factors.push(`File share permissions (${acls.length} ACL entries)`);\n        }\n        // Teams ownership - check if user manages teams (0-5 points)\n        const teamsOwned = groups.filter(g => (g.Type === 'Team' || g.Name?.toLowerCase().includes('team')) &&\n            g.ManagedBy === user.Dn);\n        if (teamsOwned.length > 0) {\n            score += 5;\n            factors.push(`Teams owner (${teamsOwned.length} teams)`);\n        }\n        // Manager role - adds complexity if user has direct reports (0-5 points)\n        if (user.Manager) {\n            const directReports = Array.from(this.usersBySid.values()).filter(u => u.Manager === user.Dn || u.ManagerSid === user.Sid);\n            if (directReports.length > 0) {\n                score += 5;\n                factors.push(`Manager with direct reports (${directReports.length} reports)`);\n            }\n        }\n        // Calculate complexity level based on score\n        // Score ranges: 0-15 = Low, 16-35 = Medium, 36+ = High\n        let level;\n        if (score <= 15) {\n            level = 'Low';\n        }\n        else if (score <= 35) {\n            level = 'Medium';\n        }\n        else {\n            level = 'High';\n        }\n        // Add summary factor\n        if (factors.length === 0) {\n            factors.push('Minimal dependencies - straightforward migration');\n        }\n        console.log(`Complexity analysis for ${user.DisplayName || user.Sam}: Score=${score}, Level=${level}, Factors=${factors.length}`);\n        return {\n            score,\n            level,\n            factors\n        };\n    }\n    /**\n     * Batch analyze complexity for multiple users\n     */\n    async batchAnalyzeMigrationComplexity(userIds) {\n        const results = new Map();\n        for (const userId of userIds) {\n            const complexity = await this.analyzeMigrationComplexity(userId);\n            results.set(userId, complexity);\n        }\n        return results;\n    }\n    /**\n     * Get complexity statistics for all users\n     */\n    getComplexityStatistics() {\n        // This would be populated by running analysis\n        // For now, return empty stats\n        return {\n            total: this.usersBySid.size,\n            low: 0,\n            medium: 0,\n            high: 0,\n            analyzed: 0\n        };\n    }\n}\n// Note: All CSV loaders and inference rules are now implemented directly in the class above\n// This bypasses webpack bundling issues with the mixin pattern\n","/**\n * Mock Logic Engine Service\n *\n * Provides mock data for user detail projections during development.\n * This will be replaced with real LogicEngineService from Epic 4.\n *\n * Epic 1 Task 1.2: UserDetailView Component\n */\nimport { GroupType, GroupScope, MembershipType } from '../../renderer/types/models/group'; // Import as values for runtime use\n/**\n * Mock Logic Engine Service\n * Generates realistic mock data for user detail views\n */\nexport class MockLogicEngineService {\n    static instance;\n    cache = new Map();\n    static getInstance() {\n        if (!MockLogicEngineService.instance) {\n            MockLogicEngineService.instance = new MockLogicEngineService();\n        }\n        return MockLogicEngineService.instance;\n    }\n    /**\n     * Get user detail projection by userId\n     * Mirrors C# LogicEngineService.getUserDetailAsync\n     */\n    async getUserDetailAsync(userId) {\n        // Check cache first\n        if (this.cache.has(userId)) {\n            console.log(`[MockLogicEngine] Returning cached user detail for ${userId}`);\n            return this.cache.get(userId);\n        }\n        // Generate mock data\n        console.log(`[MockLogicEngine] Generating mock user detail for ${userId}`);\n        const userDetail = this.generateMockUserDetail(userId);\n        // Cache for 15 minutes\n        this.cache.set(userId, userDetail);\n        setTimeout(() => this.cache.delete(userId), 15 * 60 * 1000);\n        return userDetail;\n    }\n    /**\n     * Clear cache for specific user\n     */\n    clearUserDetailCache(userId) {\n        this.cache.delete(userId);\n        console.log(`[MockLogicEngine] Cleared cache for ${userId}`);\n    }\n    /**\n     * Clear all cached data\n     */\n    clearAllCache() {\n        this.cache.clear();\n        console.log(`[MockLogicEngine] Cleared all cache`);\n    }\n    /**\n     * Check if service is loaded\n     */\n    isLoaded() {\n        return true; // Mock service is always ready\n    }\n    /**\n     * Generate mock user detail projection\n     */\n    generateMockUserDetail(userId) {\n        const user = this.generateMockUser(userId);\n        const groups = this.generateMockGroups(5);\n        const devices = this.generateMockDevices(3);\n        const apps = this.generateMockApplications(12);\n        const drives = this.generateMockDrives(2);\n        const fileAccess = this.generateMockFileAccess(8);\n        const gpoLinks = this.generateMockGpos(4, 'link');\n        const gpoFilters = this.generateMockGpos(2, 'filter');\n        const mailbox = this.generateMockMailbox(user.userPrincipalName);\n        const azureRoles = this.generateMockAzureRoles(3);\n        const sqlDatabases = this.generateMockSqlDatabases(2);\n        const risks = this.generateMockRisks(4);\n        const migrationHints = this.generateMockMigrationHints(5);\n        const teams = this.generateMockTeams(4);\n        const sharepointSites = this.generateMockSharePointSites(6);\n        // Computed properties\n        const memberOfGroups = groups.map(g => g.name);\n        const managedGroups = groups.filter((_, i) => i < 1).map(g => g.name);\n        const managerUpn = user.managerDisplayName || 'manager@company.com';\n        const ownedGroups = managedGroups;\n        // Statistics\n        const stats = {\n            totalGroups: groups.length,\n            totalDevices: devices.length,\n            totalApplications: apps.length,\n            totalFileAccess: fileAccess.length,\n            totalGpos: gpoLinks.length + gpoFilters.length,\n            totalAzureRoles: azureRoles.length,\n            totalSqlDatabases: sqlDatabases.length,\n            totalRisks: risks.length,\n            highRiskCount: risks.filter(r => r.severity === 'High').length,\n            criticalRiskCount: risks.filter(r => r.severity === 'Critical').length,\n        };\n        return {\n            user,\n            groups,\n            devices,\n            apps,\n            drives,\n            fileAccess,\n            gpoLinks,\n            gpoFilters,\n            mailbox,\n            azureRoles,\n            sqlDatabases,\n            risks,\n            migrationHints,\n            teams,\n            sharepointSites,\n            memberOfGroups,\n            managedGroups,\n            managerUpn,\n            ownedGroups,\n            stats,\n        };\n    }\n    generateMockUser(userId) {\n        const id = userId.includes('@') ? userId : `${userId}@company.com`;\n        const displayName = `User ${userId.split('@')[0]}`;\n        return {\n            id: userId,\n            name: displayName,\n            displayName,\n            userPrincipalName: id,\n            mail: id,\n            email: id,\n            department: 'IT Department',\n            jobTitle: 'Senior Engineer',\n            accountEnabled: true,\n            samAccountName: userId.split('@')[0],\n            companyName: 'Contoso Corporation',\n            managerDisplayName: 'Manager Smith',\n            createdDateTime: new Date('2020-01-15'),\n            userSource: 'ActiveDirectory',\n            firstName: 'John',\n            lastName: 'Doe',\n            country: 'United States',\n            company: 'Contoso Corporation',\n            givenName: 'John',\n            surname: 'Doe',\n            city: 'New York',\n            mobilePhone: '+1-555-0123',\n            lastSignInDateTime: new Date('2024-10-03'),\n            groupMembershipCount: '5',\n            assignedLicenses: 'Office 365 E3, Project Plan 3',\n            enabled: true,\n            title: 'Senior Engineer',\n            isPrivileged: false,\n            passwordExpiryDate: new Date('2025-01-15'),\n            lastLogonDate: new Date('2024-10-03'),\n            createdDate: new Date('2020-01-15'),\n            canEdit: true,\n            canResetPassword: true,\n            canToggleAccount: true,\n            status: 'Enabled',\n            officeLocation: 'Building A',\n            manager: 'Manager Smith',\n            groups: 'IT Admins, Developers',\n            objectType: 'User',\n            isSelected: false,\n            domain: 'contoso.com',\n            createdAt: new Date('2020-01-15'),\n        };\n    }\n    generateMockGroups(count) {\n        const groupTypes = [GroupType.Security, GroupType.Distribution, GroupType.Office365];\n        const scopes = [GroupScope.Universal, GroupScope.Global, GroupScope.DomainLocal];\n        return Array.from({ length: count }, (_, i) => ({\n            id: `group-${i}`,\n            objectId: `obj-group-${i}`,\n            name: `Group ${i + 1}`,\n            displayName: `Group ${i + 1}`,\n            description: `Mock group ${i + 1} for testing`,\n            email: `group${i}@company.com`,\n            groupType: groupTypes[i % groupTypes.length],\n            scope: scopes[i % scopes.length],\n            membershipType: MembershipType.Static,\n            memberCount: Math.floor(Math.random() * 50) + 5,\n            owners: [`owner-${i}@company.com`],\n            createdDate: new Date(2020, i % 12, (i % 28) + 1).toISOString(),\n            lastModified: new Date(2024, 9, (i % 28) + 1).toISOString(),\n            source: 'ActiveDirectory',\n            distinguishedName: `CN=Group ${i + 1},OU=Groups,DC=contoso,DC=com`,\n            managedBy: i === 0 ? 'CN=User Test,OU=Users,DC=contoso,DC=com' : undefined,\n            isSecurityEnabled: i % 2 === 0,\n            isMailEnabled: i % 3 === 0,\n        }));\n    }\n    generateMockDevices(count) {\n        const osList = ['Windows 11 Pro', 'Windows 10 Enterprise', 'Windows Server 2022'];\n        const manufacturers = ['Dell', 'HP', 'Lenovo'];\n        const sources = ['Intune', 'AD', 'ConfigMgr'];\n        return Array.from({ length: count }, (_, i) => ({\n            id: `device-${i}`,\n            name: `DESKTOP-${1000 + i}`,\n            dns: `desktop-${1000 + i}.contoso.com`,\n            os: osList[i % osList.length],\n            ou: 'OU=Workstations,DC=contoso,DC=com',\n            primaryUserSid: 'S-1-5-21-123456789-123456789-123456789-1001',\n            lastSeen: new Date(2024, 9, 3 - i),\n            ipAddress: `192.168.1.${100 + i}`,\n            manufacturer: manufacturers[i % manufacturers.length],\n            model: `OptiPlex ${7000 + i * 10}`,\n            serialNumber: `SN${10000 + i}`,\n            domain: 'contoso.com',\n            isEnabled: true,\n            source: sources[i % sources.length],\n        }));\n    }\n    generateMockApplications(count) {\n        const apps = [\n            { name: 'Microsoft Office 365', publisher: 'Microsoft', version: '16.0.12345' },\n            { name: 'Google Chrome', publisher: 'Google LLC', version: '120.0.6099' },\n            { name: 'Adobe Acrobat Reader', publisher: 'Adobe Inc.', version: '2024.001' },\n            { name: 'Slack', publisher: 'Slack Technologies', version: '4.35.121' },\n            { name: 'Visual Studio Code', publisher: 'Microsoft', version: '1.84.2' },\n            { name: 'Zoom', publisher: 'Zoom Video Communications', version: '5.16.5' },\n            { name: '7-Zip', publisher: '7-Zip', version: '23.01' },\n            { name: 'VLC Media Player', publisher: 'VideoLAN', version: '3.0.20' },\n            { name: 'Microsoft Teams', publisher: 'Microsoft', version: '1.6.00.36174' },\n            { name: 'Notepad++', publisher: 'Notepad++ Team', version: '8.6.0' },\n            { name: 'Postman', publisher: 'Postman Inc.', version: '10.19.0' },\n            { name: 'Docker Desktop', publisher: 'Docker Inc.', version: '4.25.2' },\n        ];\n        const assignmentTypes = [\n            'InstalledSoftware',\n            'EnterpriseApp',\n            'LicenseService',\n        ];\n        const sources = [\n            'Intune',\n            'ConfigMgr',\n            'AzureAD',\n            'License',\n        ];\n        return apps.slice(0, count).map((app, i) => ({\n            name: app.name,\n            version: app.version,\n            publisher: app.publisher,\n            type: 'Application',\n            userCount: Math.floor(Math.random() * 10) + 1,\n            groupCount: Math.floor(Math.random() * 3),\n            deviceCount: Math.floor(Math.random() * 5) + 1,\n            lastSeen: new Date(2024, 9, 4 - (i % 30)),\n            id: `app-${i}`,\n            installDate: new Date(2023, i % 12, (i % 28) + 1),\n            installCount: Math.floor(Math.random() * 20) + 5,\n            status: 'Installed',\n            category: i % 3 === 0 ? 'Productivity' : i % 3 === 1 ? 'Development' : 'Communication',\n            assignmentType: assignmentTypes[i % assignmentTypes.length],\n            source: sources[i % sources.length],\n        }));\n    }\n    generateMockDrives(count) {\n        const drives = ['Z:', 'Y:', 'X:', 'W:'];\n        const shares = ['\\\\\\\\fileserver\\\\users', '\\\\\\\\fileserver\\\\shared', '\\\\\\\\fileserver\\\\projects', '\\\\\\\\fileserver\\\\department'];\n        return Array.from({ length: Math.min(count, drives.length) }, (_, i) => ({\n            driveLetter: drives[i],\n            uncPath: shares[i],\n            userSid: 'S-1-5-21-123456789-123456789-123456789-1001',\n            persistent: true,\n            label: `Network Drive ${i + 1}`,\n            connected: true,\n        }));\n    }\n    generateMockFileAccess(count) {\n        const paths = [\n            '\\\\\\\\fileserver\\\\users\\\\johndoe',\n            '\\\\\\\\fileserver\\\\shared\\\\documents',\n            '\\\\\\\\fileserver\\\\projects\\\\project-alpha',\n            'C:\\\\Shared\\\\TeamFiles',\n            '\\\\\\\\fileserver\\\\department\\\\IT',\n            '\\\\\\\\fileserver\\\\archives\\\\2024',\n            'C:\\\\Users\\\\Public\\\\Documents',\n            '\\\\\\\\fileserver\\\\software\\\\installers',\n        ];\n        const rights = ['FullControl', 'Modify', 'ReadAndExecute', 'Read', 'Write'];\n        return Array.from({ length: Math.min(count, paths.length) }, (_, i) => ({\n            path: paths[i],\n            rights: rights[i % rights.length],\n            inherited: i % 3 !== 0,\n            isShare: paths[i].startsWith('\\\\\\\\'),\n            isNtfs: !paths[i].startsWith('\\\\\\\\'),\n            identitySid: 'S-1-5-21-123456789-123456789-123456789-1001',\n            accessType: 'Allow',\n            appliesTo: 'This folder, subfolders and files',\n        }));\n    }\n    generateMockGpos(count, type) {\n        const gpoNames = type === 'link'\n            ? ['Default Domain Policy', 'IT Security Policy', 'Password Policy', 'Desktop Settings']\n            : ['User Configuration Filter', 'Security Settings Filter'];\n        return Array.from({ length: Math.min(count, gpoNames.length) }, (_, i) => ({\n            name: gpoNames[i],\n            guid: `{${crypto.randomUUID()}}`,\n            enabled: true,\n            wmiFilter: type === 'filter' ? 'SELECT * FROM Win32_OperatingSystem WHERE Version LIKE \"10.%\"' : undefined,\n            linkedOu: 'OU=Users,DC=contoso,DC=com',\n            gpoStatus: 'Enabled',\n            description: `Mock GPO ${type} ${i + 1}`,\n            createdDate: new Date(2020, i % 12, 1),\n            modifiedDate: new Date(2024, 9, 1),\n        }));\n    }\n    generateMockMailbox(upn) {\n        if (!upn)\n            return null;\n        return {\n            mailboxGuid: crypto.randomUUID(),\n            userPrincipalName: upn,\n            sizeMb: 4567.89,\n            type: 'UserMailbox',\n            itemCount: 12345,\n            database: 'EXCH-DB01',\n            serverName: 'EXCH-SERVER01',\n            quotaGB: 50,\n            prohibitSendQuotaGB: 49,\n            issueWarningQuotaGB: 45,\n            lastLogonTime: new Date('2024-10-03T14:30:00Z'),\n        };\n    }\n    generateMockAzureRoles(count) {\n        const roles = [\n            { name: 'User', scope: 'Directory' },\n            { name: 'Application Developer', scope: 'Directory' },\n            { name: 'Reader', scope: '/subscriptions/12345678-1234-1234-1234-123456789012' },\n        ];\n        return roles.slice(0, count).map((role, i) => ({\n            roleName: role.name,\n            scope: role.scope,\n            principalObjectId: `obj-${crypto.randomUUID()}`,\n            principalType: 'User',\n            assignmentId: crypto.randomUUID(),\n            roleDefinitionId: crypto.randomUUID(),\n            createdOn: new Date(2023, i % 12, (i % 28) + 1),\n            isInherited: false,\n        }));\n    }\n    generateMockSqlDatabases(count) {\n        const databases = [\n            { server: 'SQL-SERVER01', instance: 'PROD', database: 'CRM_Database', role: 'db_datareader' },\n            { server: 'SQL-SERVER02', instance: 'DEV', database: 'Analytics_DB', role: 'db_owner' },\n        ];\n        return databases.slice(0, count).map((db, i) => ({\n            server: db.server,\n            instance: db.instance,\n            database: db.database,\n            role: db.role,\n            loginType: 'Windows',\n            hasAccess: true,\n            permissions: ['SELECT', 'INSERT', 'UPDATE'],\n            appHints: 'SSMS, Power BI',\n            lastAccessed: new Date(2024, 9, 4 - i),\n        }));\n    }\n    generateMockRisks(count) {\n        const riskTypes = [\n            {\n                type: 'StaleAccount',\n                severity: 'Medium',\n                description: 'User has not logged in for 90+ days',\n                recommendation: 'Review account activity and consider disabling if no longer needed',\n                category: 'Security',\n            },\n            {\n                type: 'OverprivilegedUser',\n                severity: 'High',\n                description: 'User has excessive permissions across multiple systems',\n                recommendation: 'Review and reduce permissions following principle of least privilege',\n                category: 'Security',\n            },\n            {\n                type: 'MissingMFA',\n                severity: 'High',\n                description: 'Multi-factor authentication is not enabled for this account',\n                recommendation: 'Enable MFA to enhance account security',\n                category: 'Security',\n            },\n            {\n                type: 'ExpiredPassword',\n                severity: 'Low',\n                description: 'Password is set to never expire',\n                recommendation: 'Implement password expiration policy',\n                category: 'Compliance',\n            },\n        ];\n        return riskTypes.slice(0, count).map((risk, i) => ({\n            ...risk,\n            affectedEntity: `user-${i}`,\n            detectedAt: new Date(2024, 9, 1),\n            remediation: risk.recommendation,\n            cvssScore: risk.severity === 'High' ? 7.5 : risk.severity === 'Medium' ? 5.0 : 2.0,\n        }));\n    }\n    generateMockMigrationHints(count) {\n        const hints = [\n            {\n                category: 'Device',\n                priority: 'High',\n                message: 'User has 3 devices that need to be migrated. Coordinate device handoff.',\n                actionRequired: true,\n                impact: 'High',\n                complexity: 'Medium',\n                estimatedEffort: '4 hours',\n                dependencies: ['Device inventory', 'User coordination'],\n            },\n            {\n                category: 'Application',\n                priority: 'Medium',\n                message: '2 applications (Adobe Acrobat, Visual Studio) require license transfer',\n                actionRequired: true,\n                impact: 'Medium',\n                complexity: 'Low',\n                estimatedEffort: '1 hour',\n                dependencies: ['License management'],\n            },\n            {\n                category: 'Group',\n                priority: 'High',\n                message: 'User is member of 5 groups - map to target directory groups',\n                actionRequired: true,\n                impact: 'High',\n                complexity: 'Medium',\n                estimatedEffort: '2 hours',\n                dependencies: ['Group mapping', 'Access validation'],\n            },\n            {\n                category: 'Mailbox',\n                priority: 'High',\n                message: 'Mailbox size is 4.5GB - plan for migration window',\n                actionRequired: true,\n                impact: 'High',\n                complexity: 'Medium',\n                estimatedEffort: '6 hours',\n                dependencies: ['Bandwidth availability', 'User notification'],\n            },\n            {\n                category: 'FileAccess',\n                priority: 'Medium',\n                message: 'User has 8 file share permissions - verify access in target environment',\n                actionRequired: false,\n                impact: 'Medium',\n                complexity: 'Low',\n                estimatedEffort: '1 hour',\n                dependencies: ['File share mapping'],\n            },\n        ];\n        return hints.slice(0, count);\n    }\n    generateMockTeams(count) {\n        const teamNames = [\n            'Engineering Team',\n            'Marketing Department',\n            'Sales Operations',\n            'IT Support',\n            'Project Alpha',\n            'Customer Success',\n        ];\n        return Array.from({ length: Math.min(count, teamNames.length) }, (_, i) => ({\n            teamName: teamNames[i],\n            teamId: `team-${i}-${Date.now()}`,\n            userRole: i === 0 ? 'Owner' : 'Member',\n            channelCount: Math.floor(Math.random() * 10) + 3,\n            channels: i === 0 ? ['General', 'Announcements', 'Private-Leadership'] : undefined,\n            source: 'Teams',\n        }));\n    }\n    generateMockSharePointSites(count) {\n        const sites = [\n            { name: 'Company Intranet', url: 'https://contoso.sharepoint.com/sites/intranet', isOneDrive: false, access: 'Member' },\n            { name: 'Engineering Hub', url: 'https://contoso.sharepoint.com/sites/engineering', isOneDrive: false, access: 'Owner' },\n            { name: 'Project Documentation', url: 'https://contoso.sharepoint.com/sites/projects', isOneDrive: false, access: 'Member' },\n            { name: 'HR Portal', url: 'https://contoso.sharepoint.com/sites/hr', isOneDrive: false, access: 'Visitor' },\n            { name: 'Sales Resources', url: 'https://contoso.sharepoint.com/sites/sales', isOneDrive: false, access: 'Member' },\n            { name: 'OneDrive - John Doe', url: 'https://contoso-my.sharepoint.com/personal/jdoe', isOneDrive: true, access: 'Owner' },\n        ];\n        return sites.slice(0, count).map((site, i) => ({\n            siteName: site.name,\n            siteUrl: site.url,\n            accessLevel: site.access,\n            isOneDrive: site.isOneDrive,\n            source: 'SharePointOnline',\n            lastAccessed: new Date(2024, 11, 20 - i),\n        }));\n    }\n}\nexport class MockComputerDetailService {\n    static instance;\n    cache = new Map();\n    static getInstance() {\n        if (!MockComputerDetailService.instance) {\n            MockComputerDetailService.instance = new MockComputerDetailService();\n        }\n        return MockComputerDetailService.instance;\n    }\n    async getComputerDetailAsync(computerId) {\n        if (this.cache.has(computerId)) {\n            console.log(`[MockComputerDetail] Returning cached computer detail for ${computerId}`);\n            return this.cache.get(computerId);\n        }\n        console.log(`[MockComputerDetail] Generating mock computer detail for ${computerId}`);\n        const computerDetail = this.generateMockComputerDetail(computerId);\n        this.cache.set(computerId, computerDetail);\n        setTimeout(() => this.cache.delete(computerId), 15 * 60 * 1000);\n        return computerDetail;\n    }\n    clearComputerDetailCache(computerId) {\n        this.cache.delete(computerId);\n        console.log(`[MockComputerDetail] Cleared cache for ${computerId}`);\n    }\n    generateMockComputerDetail(computerId) {\n        const computer = this.generateMockComputer(computerId);\n        const users = this.generateMockComputerUsers(3);\n        const software = this.generateMockSoftware(45);\n        const hardware = this.generateMockHardwareSpec();\n        const security = this.generateMockSecurityStatus();\n        const network = this.generateMockNetworkInfo();\n        const groups = this.generateMockComputerGroups(5);\n        const apps = this.generateMockComputerApps(12);\n        const risks = this.generateMockComputerRisks(4);\n        const migrationHints = this.generateMockComputerMigrationHints(5);\n        return {\n            computer,\n            overview: {\n                userCount: users.length,\n                softwareCount: software.length,\n                groupCount: groups.length,\n                networkAdapterCount: network.adapters.length,\n                lastBootTime: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000),\n                uptime: '3 days, 12 hours, 45 minutes',\n                installDate: new Date(2023, 0, 15),\n            },\n            users,\n            software,\n            hardware,\n            security,\n            network,\n            groups,\n            apps,\n            risks,\n            migrationHints,\n            primaryUser: users[0]?.userPrincipalName || null,\n            assignedUsers: users.map((u) => u.userPrincipalName),\n            memberOfGroups: groups.map((g) => g.name),\n            stats: {\n                totalUsers: users.length,\n                totalSoftware: software.length,\n                totalGroups: groups.length,\n                totalRisks: risks.length,\n                highRiskCount: risks.filter((r) => r.severity === 'High').length,\n                criticalRiskCount: risks.filter((r) => r.severity === 'Critical').length,\n                diskUsagePercentage: Math.floor((1 - (hardware.freeDiskGB / hardware.totalDiskGB)) * 100),\n                complianceScore: 85,\n            },\n        };\n    }\n    generateMockComputer(computerId) {\n        const osList = ['Windows 11 Pro', 'Windows 10 Enterprise', 'Windows Server 2022', 'Windows Server 2019'];\n        const os = osList[computerId.charCodeAt(0) % osList.length];\n        return {\n            id: computerId,\n            name: `WKS-${computerId.padStart(6, '0')}`,\n            dns: `wks-${computerId}.contoso.com`,\n            domain: 'contoso.com',\n            ou: 'OU=Workstations,OU=Computers,DC=contoso,DC=com',\n            os,\n            osVersion: os.includes('11') ? '10.0.22631' : os.includes('10') ? '10.0.19045' : '10.0.20348',\n            status: computerId.charCodeAt(0) % 3 === 0 ? 'Online' : computerId.charCodeAt(0) % 3 === 1 ? 'Offline' : 'Unknown',\n            lastSeen: new Date(Date.now() - Math.random() * 7 * 24 * 60 * 60 * 1000),\n            ipAddress: `192.168.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`,\n            macAddress: `00:15:5D:${Math.floor(Math.random() * 256)\n                .toString(16)\n                .toUpperCase()\n                .padStart(2, '0')}:${Math.floor(Math.random() * 256)\n                .toString(16)\n                .toUpperCase()\n                .padStart(2, '0')}:${Math.floor(Math.random() * 256)\n                .toString(16)\n                .toUpperCase()\n                .padStart(2, '0')}`,\n            manufacturer: ['Dell', 'HP', 'Lenovo'][computerId.charCodeAt(0) % 3],\n            model: ['OptiPlex 7090', 'EliteDesk 800', 'ThinkCentre M90'][computerId.charCodeAt(0) % 3],\n            serialNumber: `SN${Math.random().toString(36).substring(2, 12).toUpperCase()}`,\n            isEnabled: true,\n            createdDate: new Date(2023, 0, 15),\n            modifiedDate: new Date(),\n            description: 'Corporate workstation',\n        };\n    }\n    generateMockComputerUsers(count) {\n        return Array.from({ length: count }, (_, i) => ({\n            userSid: `S-1-5-21-123456789-123456789-123456789-${1000 + i}`,\n            userPrincipalName: `user${i}@contoso.com`,\n            displayName: `User ${i}`,\n            assignmentType: (i === 0 ? 'Primary' : i === 1 ? 'Secondary' : 'LastLogon'),\n            lastLogon: new Date(Date.now() - i * 24 * 60 * 60 * 1000),\n            profilePath: `C:\\\\Users\\\\user${i}`,\n            isPrimaryUser: i === 0,\n        }));\n    }\n    generateMockSoftware(count) {\n        const softwareList = [\n            { name: 'Microsoft Office 365', publisher: 'Microsoft', category: 'Productivity' },\n            { name: 'Google Chrome', publisher: 'Google LLC', category: 'Browser' },\n            { name: 'Adobe Acrobat Reader', publisher: 'Adobe Inc.', category: 'Productivity' },\n            { name: 'Zoom', publisher: 'Zoom Video Communications', category: 'Communication' },\n            { name: 'Microsoft Teams', publisher: 'Microsoft', category: 'Communication' },\n            { name: 'Visual Studio Code', publisher: 'Microsoft', category: 'Development' },\n            { name: 'Slack', publisher: 'Slack Technologies', category: 'Communication' },\n            { name: 'Notepad++', publisher: 'Notepad++ Team', category: 'Development' },\n            { name: '7-Zip', publisher: '7-Zip', category: 'Utility' },\n            { name: 'VLC Media Player', publisher: 'VideoLAN', category: 'Media' },\n        ];\n        return Array.from({ length: Math.min(count, 50) }, (_, i) => {\n            const software = softwareList[i % softwareList.length];\n            return {\n                name: software.name,\n                version: `${Math.floor(Math.random() * 10) + 1}.${Math.floor(Math.random() * 100)}.${Math.floor(Math.random() * 1000)}`,\n                publisher: software.publisher,\n                installDate: new Date(2023, Math.floor(Math.random() * 12), Math.floor(Math.random() * 28) + 1),\n                installPath: `C:\\\\Program Files\\\\${software.name.replace(/\\s+/g, '')}`,\n                category: software.category,\n                size: Math.floor(Math.random() * 500) + 10,\n                licenseKey: null,\n                licenseType: 'Commercial',\n            };\n        });\n    }\n    generateMockHardwareSpec() {\n        return {\n            processor: 'Intel Core i7-11700 @ 2.50GHz',\n            processorCores: 8,\n            processorSpeed: '2.50 GHz',\n            ramGB: 16,\n            totalDiskGB: 512,\n            freeDiskGB: 168,\n            diskType: 'SSD',\n            graphicsCard: 'Intel UHD Graphics 750',\n            biosVersion: 'A12',\n            biosDate: new Date(2023, 5, 15),\n            systemType: '64-bit',\n            virtualMachine: false,\n            hypervisor: null,\n        };\n    }\n    generateMockSecurityStatus() {\n        return {\n            antivirusInstalled: true,\n            antivirusProduct: 'Windows Defender',\n            antivirusUpToDate: true,\n            antivirusLastUpdate: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000),\n            firewallEnabled: true,\n            firewallProfile: 'Domain',\n            encryptionEnabled: true,\n            encryptionType: 'BitLocker',\n            tpmEnabled: true,\n            secureBoot: true,\n            lastPatchDate: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000),\n            patchLevel: 'Fully Patched',\n            complianceStatus: 'Compliant',\n            complianceIssues: [],\n            vulnerabilityCount: 2,\n            criticalVulnerabilityCount: 0,\n        };\n    }\n    generateMockNetworkInfo() {\n        return {\n            ipAddress: `192.168.1.${Math.floor(Math.random() * 255)}`,\n            macAddress: `00:15:5D:${Math.floor(Math.random() * 256)\n                .toString(16)\n                .toUpperCase()\n                .padStart(2, '0')}:${Math.floor(Math.random() * 256)\n                .toString(16)\n                .toUpperCase()\n                .padStart(2, '0')}:${Math.floor(Math.random() * 256)\n                .toString(16)\n                .toUpperCase()\n                .padStart(2, '0')}`,\n            subnet: '255.255.255.0',\n            gateway: '192.168.1.1',\n            dnsServers: ['192.168.1.10', '192.168.1.11'],\n            dhcpEnabled: true,\n            dhcpServer: '192.168.1.1',\n            vlan: null,\n            connectionType: 'Wired',\n            wifiSSID: null,\n            networkSpeed: '1 Gbps',\n            adapters: [\n                {\n                    name: 'Ethernet',\n                    type: 'Ethernet',\n                    macAddress: '00:15:5D:AB:CD:EF',\n                    status: 'Connected',\n                    speed: '1 Gbps',\n                    ipAddresses: ['192.168.1.100'],\n                },\n                {\n                    name: 'Wi-Fi',\n                    type: 'WiFi',\n                    macAddress: '00:15:5D:12:34:56',\n                    status: 'Disconnected',\n                    speed: null,\n                    ipAddresses: [],\n                },\n            ],\n        };\n    }\n    generateMockComputerGroups(count) {\n        const groupNames = ['Domain Computers', 'Workstations', 'Finance-Computers', 'IT-Admin-Computers', 'VPN Users'];\n        return Array.from({ length: Math.min(count, groupNames.length) }, (_, i) => ({\n            id: `group-${i}`,\n            objectId: `obj-group-${i}`,\n            name: groupNames[i],\n            displayName: groupNames[i],\n            description: `Computer group ${i}`,\n            email: null,\n            groupType: GroupType.Security,\n            scope: GroupScope.Global,\n            membershipType: MembershipType.Static,\n            memberCount: Math.floor(Math.random() * 100) + 10,\n            owners: ['admin@contoso.com'],\n            createdDate: new Date(2020, i % 12, 1).toISOString(),\n            lastModified: new Date().toISOString(),\n            source: 'ActiveDirectory',\n            distinguishedName: `CN=${groupNames[i]},OU=Groups,DC=contoso,DC=com`,\n            managedBy: undefined,\n            isSecurityEnabled: true,\n            isMailEnabled: false,\n        }));\n    }\n    generateMockComputerApps(count) {\n        const apps = [\n            { name: 'Microsoft Office 365', publisher: 'Microsoft', version: '16.0.12345' },\n            { name: 'Google Chrome', publisher: 'Google LLC', version: '120.0.6099' },\n            { name: 'Adobe Acrobat Reader', publisher: 'Adobe Inc.', version: '2024.001' },\n            { name: 'Slack', publisher: 'Slack Technologies', version: '4.35.121' },\n            { name: 'Visual Studio Code', publisher: 'Microsoft', version: '1.84.2' },\n            { name: 'Zoom', publisher: 'Zoom Video Communications', version: '5.16.5' },\n            { name: '7-Zip', publisher: '7-Zip', version: '23.01' },\n            { name: 'VLC Media Player', publisher: 'VideoLAN', version: '3.0.20' },\n            { name: 'Microsoft Teams', publisher: 'Microsoft', version: '1.6.00.36174' },\n            { name: 'Notepad++', publisher: 'Notepad++ Team', version: '8.6.0' },\n            { name: 'Postman', publisher: 'Postman Inc.', version: '10.19.0' },\n            { name: 'Docker Desktop', publisher: 'Docker Inc.', version: '4.25.2' },\n        ];\n        return apps.slice(0, count).map((app, i) => ({\n            name: app.name,\n            version: app.version,\n            publisher: app.publisher,\n            type: 'Application',\n            userCount: Math.floor(Math.random() * 10) + 1,\n            groupCount: Math.floor(Math.random() * 3),\n            deviceCount: Math.floor(Math.random() * 5) + 1,\n            lastSeen: new Date(2024, 9, 4 - (i % 30)),\n            id: `app-${i}`,\n            installDate: new Date(2023, i % 12, (i % 28) + 1),\n            installCount: Math.floor(Math.random() * 20) + 5,\n            status: 'Installed',\n            category: i % 3 === 0 ? 'Productivity' : i % 3 === 1 ? 'Development' : 'Communication',\n        }));\n    }\n    generateMockComputerRisks(count) {\n        const riskTypes = [\n            {\n                type: 'OutdatedOS',\n                severity: 'High',\n                description: 'Operating system version is outdated and should be upgraded',\n                recommendation: 'Schedule OS upgrade to latest version',\n                category: 'Security',\n            },\n            {\n                type: 'MissingPatches',\n                severity: 'Medium',\n                description: '3 critical security patches are missing',\n                recommendation: 'Apply missing patches during next maintenance window',\n                category: 'Security',\n            },\n            {\n                type: 'LowDiskSpace',\n                severity: 'Low',\n                description: 'Free disk space is below 20% threshold',\n                recommendation: 'Clean up temporary files or expand disk capacity',\n                category: 'Performance',\n            },\n            {\n                type: 'NoBackup',\n                severity: 'High',\n                description: 'Computer has not been backed up in 30+ days',\n                recommendation: 'Enable automated backup schedule',\n                category: 'Configuration',\n            },\n        ];\n        return riskTypes.slice(0, count).map((risk, i) => ({\n            ...risk,\n            affectedComponent: `computer-${i}`,\n            detectedAt: new Date(2024, 9, 1),\n            remediation: risk.recommendation,\n        }));\n    }\n    generateMockComputerMigrationHints(count) {\n        const hints = [\n            {\n                category: 'Hardware',\n                priority: 'Medium',\n                message: 'Computer meets minimum requirements for target environment',\n                actionRequired: false,\n                impact: 'Low',\n                complexity: 'Low',\n                estimatedEffort: '30 minutes',\n                dependencies: ['Hardware inventory'],\n            },\n            {\n                category: 'Software',\n                priority: 'High',\n                message: '45 applications installed - verify compatibility with target OS',\n                actionRequired: true,\n                impact: 'High',\n                complexity: 'High',\n                estimatedEffort: '8 hours',\n                dependencies: ['Application compatibility testing'],\n            },\n            {\n                category: 'User',\n                priority: 'High',\n                message: '3 users assigned - coordinate migration schedule',\n                actionRequired: true,\n                impact: 'High',\n                complexity: 'Medium',\n                estimatedEffort: '2 hours',\n                dependencies: ['User coordination', 'Calendar scheduling'],\n            },\n            {\n                category: 'Network',\n                priority: 'Low',\n                message: 'Network configuration is standard - minimal changes required',\n                actionRequired: false,\n                impact: 'Low',\n                complexity: 'Low',\n                estimatedEffort: '15 minutes',\n                dependencies: [],\n            },\n            {\n                category: 'Security',\n                priority: 'Medium',\n                message: 'BitLocker enabled - ensure recovery keys are backed up',\n                actionRequired: true,\n                impact: 'Medium',\n                complexity: 'Low',\n                estimatedEffort: '30 minutes',\n                dependencies: ['Recovery key backup'],\n            },\n        ];\n        return hints.slice(0, count);\n    }\n}\nexport class MockGroupDetailService {\n    static instance;\n    cache = new Map();\n    static getInstance() {\n        if (!MockGroupDetailService.instance) {\n            MockGroupDetailService.instance = new MockGroupDetailService();\n        }\n        return MockGroupDetailService.instance;\n    }\n    async getGroupDetailAsync(groupId) {\n        if (this.cache.has(groupId)) {\n            console.log(`[MockGroupDetail] Returning cached group detail for ${groupId}`);\n            return this.cache.get(groupId);\n        }\n        console.log(`[MockGroupDetail] Generating mock group detail for ${groupId}`);\n        const groupDetail = this.generateMockGroupDetail(groupId);\n        this.cache.set(groupId, groupDetail);\n        setTimeout(() => this.cache.delete(groupId), 15 * 60 * 1000);\n        return groupDetail;\n    }\n    clearGroupDetailCache(groupId) {\n        this.cache.delete(groupId);\n        console.log(`[MockGroupDetail] Cleared cache for ${groupId}`);\n    }\n    generateMockGroupDetail(groupId) {\n        const group = this.generateMockGroup(groupId);\n        const members = this.generateMockGroupMembers(25);\n        const owners = this.generateMockGroupOwners(2);\n        const permissions = this.generateMockGroupPermissions(12);\n        const applications = this.generateMockGroupApplications(8);\n        const nestedGroups = this.generateMockNestedGroups(5);\n        const policies = this.generateMockGroupPolicies(3);\n        const risks = this.generateMockGroupRisks(3);\n        const migrationHints = this.generateMockGroupMigrationHints(5);\n        const syncStatus = this.generateMockSyncStatus();\n        return {\n            group,\n            overview: {\n                memberCount: members.length,\n                ownerCount: owners.length,\n                permissionCount: permissions.length,\n                applicationCount: applications.length,\n                nestedGroupCount: nestedGroups.length,\n                createdDate: new Date(2022, 0, 1),\n                modifiedDate: new Date(),\n                description: 'Security group for department access',\n                notes: null,\n                isHybrid: true,\n                isDynamic: false,\n                dynamicMembershipRule: null,\n            },\n            members,\n            owners,\n            permissions,\n            applications,\n            nestedGroups,\n            policies,\n            risks,\n            migrationHints,\n            syncStatus,\n            directMembers: members.filter((m) => m.memberType === 'Direct').map((m) => m.userPrincipalName),\n            allMembers: members.map((m) => m.userPrincipalName),\n            primaryOwner: owners.find((o) => o.ownershipType === 'Primary')?.userPrincipalName || null,\n            allOwners: owners.map((o) => o.userPrincipalName || o.displayName),\n            parentGroups: nestedGroups.filter((g) => g.relationshipType === 'Parent').map((g) => g.groupName),\n            childGroups: nestedGroups.filter((g) => g.relationshipType === 'Child').map((g) => g.groupName),\n            stats: {\n                totalMembers: members.length,\n                totalOwners: owners.length,\n                totalPermissions: permissions.length,\n                totalApplications: applications.length,\n                totalNestedGroups: nestedGroups.length,\n                totalRisks: risks.length,\n                highRiskCount: risks.filter((r) => r.severity === 'High').length,\n                criticalRiskCount: risks.filter((r) => r.severity === 'Critical').length,\n                activeMembers: members.filter((m) => m.accountEnabled).length,\n                staleMembers: members.filter((m) => !m.accountEnabled).length,\n                securityScore: 82,\n            },\n        };\n    }\n    generateMockGroup(groupId) {\n        return {\n            id: groupId,\n            objectId: `obj-${groupId}`,\n            name: `Group-${groupId}`,\n            displayName: `Department Group ${groupId}`,\n            description: 'Mock group for testing',\n            email: `group-${groupId}@contoso.com`,\n            groupType: GroupType.Security,\n            scope: GroupScope.Universal,\n            membershipType: MembershipType.Static,\n            memberCount: 25,\n            owners: ['admin@contoso.com'],\n            createdDate: new Date(2022, 0, 1).toISOString(),\n            lastModified: new Date().toISOString(),\n            source: 'ActiveDirectory',\n            distinguishedName: `CN=Group-${groupId},OU=Groups,DC=contoso,DC=com`,\n            managedBy: 'CN=Admin,OU=Users,DC=contoso,DC=com',\n            isSecurityEnabled: true,\n            isMailEnabled: false,\n        };\n    }\n    generateMockGroupMembers(count) {\n        return Array.from({ length: count }, (_, i) => ({\n            id: `member-${i}`,\n            userPrincipalName: `user${i}@contoso.com`,\n            displayName: `User ${i}`,\n            email: `user${i}@contoso.com`,\n            memberType: (i < 20 ? 'Direct' : i < 23 ? 'Nested' : 'Dynamic'),\n            addedDate: new Date(2023, i % 12, (i % 28) + 1),\n            department: ['IT', 'Finance', 'HR', 'Sales'][i % 4],\n            jobTitle: ['Engineer', 'Manager', 'Analyst', 'Director'][i % 4],\n            accountEnabled: i < 23,\n            membershipSource: i < 20 ? 'Manual' : 'Inherited',\n            isDirectMember: i < 20,\n        }));\n    }\n    generateMockGroupOwners(count) {\n        return Array.from({ length: count }, (_, i) => ({\n            id: `owner-${i}`,\n            displayName: `Owner ${i}`,\n            type: 'User',\n            userPrincipalName: `owner${i}@contoso.com`,\n            email: `owner${i}@contoso.com`,\n            ownershipType: (i === 0 ? 'Primary' : 'Secondary'),\n            assignedDate: new Date(2022, 0, 1),\n            isPrimaryOwner: i === 0,\n        }));\n    }\n    generateMockGroupPermissions(count) {\n        const resourceTypes = ['SharePoint Site', 'Exchange Mailbox', 'Azure Subscription', 'File Share'];\n        const accessLevels = ['Full Control', 'Contribute', 'Read', 'Owner'];\n        return Array.from({ length: count }, (_, i) => ({\n            resourceType: resourceTypes[i % resourceTypes.length],\n            resourceName: `Resource-${i}`,\n            permissionLevel: accessLevels[i % accessLevels.length],\n            accessLevel: accessLevels[i % accessLevels.length],\n            permissionType: i % 2 === 0 ? 'Direct' : 'Inherited',\n            scope: i % 3 === 0 ? 'Global' : 'Limited',\n            isInherited: i % 2 !== 0,\n            inherited: i % 2 !== 0,\n            grantedDate: new Date(2023, i % 12, (i % 28) + 1),\n            assignedDate: new Date(2023, i % 12, (i % 28) + 1),\n            assignedBy: 'admin@contoso.com',\n            source: ['Azure', 'ActiveDirectory', 'Exchange', 'SharePoint'][i % 4],\n        }));\n    }\n    generateMockGroupApplications(count) {\n        const apps = [\n            'Microsoft 365',\n            'Salesforce',\n            'Azure DevOps',\n            'GitHub',\n            'Jira',\n            'Confluence',\n            'Slack',\n            'Zoom',\n        ];\n        const roles = ['Admin', 'User', 'Contributor', 'Reader'];\n        return Array.from({ length: count }, (_, i) => ({\n            applicationId: `app-${i}`,\n            applicationName: apps[i % apps.length],\n            accessLevel: roles[i % roles.length],\n            roleName: roles[i % roles.length],\n            accessType: i % 2 === 0 ? 'Direct' : 'Inherited',\n            roles: [roles[i % roles.length]],\n            grantedDate: new Date(2023, i % 12, (i % 28) + 1),\n            grantedBy: 'admin@contoso.com',\n            source: ['Azure', 'ActiveDirectory'][i % 2],\n            isConditionalAccess: i % 3 === 0,\n            isConditional: i % 3 === 0,\n            conditions: i % 3 === 0 ? ['MFA Required', 'Compliant Device'] : [],\n        }));\n    }\n    generateMockNestedGroups(count) {\n        return Array.from({ length: count }, (_, i) => ({\n            groupId: `nested-group-${i}`,\n            groupName: `Nested Group ${i}`,\n            relationshipType: (i < 3 ? 'Child' : 'Parent'),\n            relationship: i < 3 ? 'Child' : 'Parent',\n            groupType: 'Security',\n            scope: 'Global',\n            memberCount: Math.floor(Math.random() * 50) + 5,\n            nestingLevel: i % 2 === 0 ? 1 : 2,\n            addedDate: new Date(2023, i % 12, (i % 28) + 1),\n            isCircular: i === 4,\n        }));\n    }\n    generateMockGroupPolicies(count) {\n        return Array.from({ length: count }, (_, i) => ({\n            policyName: `Group Policy ${i}`,\n            policyGuid: crypto.randomUUID(),\n            policyType: ['User', 'Computer', 'Both'][i % 3],\n            enabled: true,\n            linkedOu: 'OU=Groups,DC=contoso,DC=com',\n            order: i + 1,\n            enforced: i === 0,\n            appliesTo: 'All Users',\n        }));\n    }\n    generateMockGroupRisks(count) {\n        const riskTypes = [\n            {\n                type: 'StaleMembership',\n                severity: 'Medium',\n                description: '2 members have inactive accounts',\n                recommendation: 'Review and remove inactive members',\n                category: 'Security',\n            },\n            {\n                type: 'OverprivilegedGroup',\n                severity: 'High',\n                description: 'Group has excessive permissions across multiple resources',\n                recommendation: 'Review and reduce permissions following principle of least privilege',\n                category: 'Security',\n            },\n            {\n                type: 'CircularNesting',\n                severity: 'High',\n                description: 'Circular group nesting detected',\n                recommendation: 'Resolve circular dependencies in group membership',\n                category: 'Configuration',\n            },\n        ];\n        return riskTypes.slice(0, count).map((risk, i) => ({\n            ...risk,\n            affectedMembers: [`member-${i}`],\n            affectedResources: [`resource-${i}`],\n            detectedAt: new Date(2024, 9, 1),\n            remediation: risk.recommendation,\n        }));\n    }\n    generateMockGroupMigrationHints(count) {\n        const hints = [\n            {\n                category: 'Membership',\n                priority: 'High',\n                message: 'Group has 25 members - verify all should be migrated',\n                actionRequired: true,\n                impact: 'High',\n                complexity: 'Medium',\n                estimatedEffort: '3 hours',\n                dependencies: ['Member verification', 'Access validation'],\n            },\n            {\n                category: 'Permissions',\n                priority: 'High',\n                message: '12 permissions assigned - map to target environment',\n                actionRequired: true,\n                impact: 'High',\n                complexity: 'High',\n                estimatedEffort: '4 hours',\n                dependencies: ['Permission mapping', 'Resource availability'],\n            },\n            {\n                category: 'NestedGroups',\n                priority: 'Medium',\n                message: '5 nested group relationships - verify hierarchy in target',\n                actionRequired: true,\n                impact: 'Medium',\n                complexity: 'Medium',\n                estimatedEffort: '2 hours',\n                dependencies: ['Group hierarchy mapping'],\n            },\n            {\n                category: 'Applications',\n                priority: 'High',\n                message: '8 application access assignments - verify in target environment',\n                actionRequired: true,\n                impact: 'High',\n                complexity: 'Medium',\n                estimatedEffort: '3 hours',\n                dependencies: ['Application availability', 'Role mapping'],\n            },\n            {\n                category: 'Sync',\n                priority: 'Low',\n                message: 'Group is hybrid synced - ensure sync is configured in target',\n                actionRequired: false,\n                impact: 'Low',\n                complexity: 'Low',\n                estimatedEffort: '1 hour',\n                dependencies: ['Hybrid sync configuration'],\n            },\n        ];\n        return hints.slice(0, count);\n    }\n    generateMockSyncStatus() {\n        return {\n            isSynced: true,\n            lastSyncTime: new Date(Date.now() - 2 * 60 * 60 * 1000),\n            syncSource: 'ActiveDirectory',\n            syncErrors: [],\n            deltaChanges: 0,\n            syncEnabled: true,\n        };\n    }\n}\n// Export singleton instances\nexport const mockLogicEngineService = MockLogicEngineService.getInstance();\nexport const mockComputerDetailService = MockComputerDetailService.getInstance();\nexport const mockGroupDetailService = MockGroupDetailService.getInstance();\n","/**\n * Module Registry System\n *\n * Centralized registry for PowerShell discovery/migration modules.\n * Provides metadata, categorization, validation, and execution routing.\n */\nimport * as fs from 'fs/promises';\nimport * as path from 'path';\n/**\n * Module Registry\n * Manages discovery, validation, and execution of PowerShell modules\n */\nclass ModuleRegistry {\n    modules;\n    categories;\n    psService;\n    registryPath;\n    loaded;\n    constructor(psService, registryPath) {\n        this.modules = new Map();\n        this.categories = new Map();\n        this.psService = psService;\n        this.registryPath = registryPath || path.join(process.cwd(), 'module-registry.json');\n        this.loaded = false;\n    }\n    /**\n     * Load module registry from JSON file\n     */\n    async loadRegistry(customPath) {\n        const loadPath = customPath || this.registryPath;\n        try {\n            const data = await fs.readFile(loadPath, 'utf-8');\n            const registry = JSON.parse(data);\n            if (registry.modules && Array.isArray(registry.modules)) {\n                for (const module of registry.modules) {\n                    await this.registerModule(module);\n                }\n                console.log(`Loaded ${this.modules.size} modules from registry`);\n                this.loaded = true;\n            }\n            else {\n                console.warn('Invalid registry format, expected { modules: [...] }');\n            }\n        }\n        catch (error) {\n            if (error.code === 'ENOENT') {\n                console.log(`No module registry found at ${loadPath}, starting with empty registry`);\n                this.loaded = true;\n            }\n            else {\n                console.error(`Failed to load module registry: ${error.message}`);\n                throw error;\n            }\n        }\n    }\n    /**\n     * Save current registry to JSON file\n     */\n    async saveRegistry(customPath) {\n        const savePath = customPath || this.registryPath;\n        const modules = Array.from(this.modules.values());\n        const registry = {\n            version: '1.0.0',\n            lastUpdated: new Date().toISOString(),\n            modules,\n        };\n        try {\n            await fs.writeFile(savePath, JSON.stringify(registry, null, 2), 'utf-8');\n            console.log(`Saved ${modules.length} modules to registry`);\n        }\n        catch (error) {\n            console.error(`Failed to save module registry: ${error.message}`);\n            throw error;\n        }\n    }\n    /**\n     * Register a new module\n     */\n    async registerModule(module) {\n        // Validate module definition\n        if (!module.id || !module.displayName || !module.scriptPath) {\n            throw new Error('Module must have id, displayName, and scriptPath');\n        }\n        // Check for duplicate ID\n        if (this.modules.has(module.id)) {\n            console.warn(`Module ${module.id} already registered, overwriting`);\n        }\n        // Set defaults\n        const fullModule = {\n            ...module,\n            enabled: module.enabled !== false,\n            priority: module.priority || 100,\n            timeout: module.timeout || 60000,\n            requiredPermissions: module.requiredPermissions || [],\n            parameters: module.parameters || [],\n            version: module.version || '1.0.0',\n            tags: module.tags || [],\n        };\n        // Add to modules map\n        this.modules.set(module.id, fullModule);\n        // Add to category map\n        if (!this.categories.has(module.category)) {\n            this.categories.set(module.category, []);\n        }\n        const categoryModules = this.categories.get(module.category);\n        // Remove if already exists in category\n        const existingIndex = categoryModules.findIndex(m => m.id === module.id);\n        if (existingIndex >= 0) {\n            categoryModules.splice(existingIndex, 1);\n        }\n        categoryModules.push(fullModule);\n        // Sort by priority (descending)\n        categoryModules.sort((a, b) => b.priority - a.priority);\n        console.log(`Registered module: ${module.id} (${module.category})`);\n    }\n    /**\n     * Unregister a module\n     */\n    async unregisterModule(moduleId) {\n        const module = this.modules.get(moduleId);\n        if (!module) {\n            return false;\n        }\n        // Remove from modules map\n        this.modules.delete(moduleId);\n        // Remove from category map\n        const categoryModules = this.categories.get(module.category);\n        if (categoryModules) {\n            const index = categoryModules.findIndex(m => m.id === moduleId);\n            if (index >= 0) {\n                categoryModules.splice(index, 1);\n            }\n        }\n        console.log(`Unregistered module: ${moduleId}`);\n        return true;\n    }\n    /**\n     * Get module by ID\n     */\n    getModule(moduleId) {\n        return this.modules.get(moduleId);\n    }\n    /**\n     * Get all modules\n     */\n    getAllModules() {\n        return Array.from(this.modules.values());\n    }\n    /**\n     * Get modules by category\n     */\n    getModulesByCategory(category) {\n        return this.categories.get(category) || [];\n    }\n    /**\n     * Get all categories with module counts\n     */\n    getCategories() {\n        return Array.from(this.categories.entries()).map(([category, modules]) => ({\n            category,\n            count: modules.length,\n        }));\n    }\n    /**\n     * Validate module parameters\n     */\n    validateModuleParameters(moduleId, params) {\n        const module = this.modules.get(moduleId);\n        if (!module) {\n            return {\n                valid: false,\n                errors: [{ parameter: '_module', message: `Module ${moduleId} not found` }],\n            };\n        }\n        const errors = [];\n        // Check required parameters\n        for (const param of module.parameters) {\n            const value = params[param.name];\n            // Required check\n            if (param.required && (value === undefined || value === null)) {\n                errors.push({\n                    parameter: param.name,\n                    message: `Parameter '${param.name}' is required`,\n                });\n                continue;\n            }\n            // Skip validation if optional and not provided\n            if (value === undefined || value === null) {\n                continue;\n            }\n            // Type validation\n            const actualType = Array.isArray(value) ? 'array' : typeof value;\n            if (param.type !== actualType && param.type !== 'object') {\n                errors.push({\n                    parameter: param.name,\n                    message: `Parameter '${param.name}' must be of type ${param.type}, got ${actualType}`,\n                    value,\n                });\n                continue;\n            }\n            // Validation rules\n            if (param.validation) {\n                const { validation } = param;\n                // Number validations\n                if (param.type === 'number') {\n                    if (validation.min !== undefined && value < validation.min) {\n                        errors.push({\n                            parameter: param.name,\n                            message: `Parameter '${param.name}' must be >= ${validation.min}`,\n                            value,\n                        });\n                    }\n                    if (validation.max !== undefined && value > validation.max) {\n                        errors.push({\n                            parameter: param.name,\n                            message: `Parameter '${param.name}' must be <= ${validation.max}`,\n                            value,\n                        });\n                    }\n                }\n                // String validations\n                if (param.type === 'string') {\n                    if (validation.minLength !== undefined && value.length < validation.minLength) {\n                        errors.push({\n                            parameter: param.name,\n                            message: `Parameter '${param.name}' must have at least ${validation.minLength} characters`,\n                            value,\n                        });\n                    }\n                    if (validation.maxLength !== undefined && value.length > validation.maxLength) {\n                        errors.push({\n                            parameter: param.name,\n                            message: `Parameter '${param.name}' must have at most ${validation.maxLength} characters`,\n                            value,\n                        });\n                    }\n                    if (validation.pattern && !new RegExp(validation.pattern).test(value)) {\n                        errors.push({\n                            parameter: param.name,\n                            message: `Parameter '${param.name}' does not match required pattern`,\n                            value,\n                        });\n                    }\n                }\n                // Array validations\n                if (param.type === 'array') {\n                    if (validation.minLength !== undefined && value.length < validation.minLength) {\n                        errors.push({\n                            parameter: param.name,\n                            message: `Parameter '${param.name}' must have at least ${validation.minLength} items`,\n                            value,\n                        });\n                    }\n                    if (validation.maxLength !== undefined && value.length > validation.maxLength) {\n                        errors.push({\n                            parameter: param.name,\n                            message: `Parameter '${param.name}' must have at most ${validation.maxLength} items`,\n                            value,\n                        });\n                    }\n                }\n                // Enum validation\n                if (validation.enum && !validation.enum.includes(value)) {\n                    errors.push({\n                        parameter: param.name,\n                        message: `Parameter '${param.name}' must be one of: ${validation.enum.join(', ')}`,\n                        value,\n                    });\n                }\n            }\n        }\n        return {\n            valid: errors.length === 0,\n            errors,\n        };\n    }\n    /**\n     * Apply default values to parameters\n     */\n    applyDefaults(module, params) {\n        const result = { ...params };\n        for (const param of module.parameters) {\n            if (result[param.name] === undefined && param.default !== undefined) {\n                result[param.name] = param.default;\n            }\n        }\n        return result;\n    }\n    /**\n     * Execute a module by ID\n     */\n    async executeModule(moduleId, params = {}, options) {\n        const module = this.modules.get(moduleId);\n        if (!module) {\n            return {\n                success: false,\n                error: `Module ${moduleId} not found in registry`,\n                duration: 0,\n                warnings: [],\n            };\n        }\n        if (!module.enabled) {\n            return {\n                success: false,\n                error: `Module ${moduleId} is disabled`,\n                duration: 0,\n                warnings: [],\n            };\n        }\n        // Apply defaults\n        const paramsWithDefaults = this.applyDefaults(module, params);\n        // Validate parameters\n        const validation = this.validateModuleParameters(moduleId, paramsWithDefaults);\n        if (!validation.valid) {\n            const errorMessages = validation.errors.map(e => `  - ${e.parameter}: ${e.message}`).join('\\n');\n            return {\n                success: false,\n                error: `Parameter validation failed:\\n${errorMessages}`,\n                duration: 0,\n                warnings: [],\n            };\n        }\n        // Build execution options\n        const execOptions = {\n            timeout: module.timeout,\n            ...options,\n        };\n        // Convert params to script arguments\n        const args = [];\n        for (const [key, value] of Object.entries(paramsWithDefaults)) {\n            args.push(`-${key}`);\n            if (typeof value === 'object') {\n                args.push(JSON.stringify(value));\n            }\n            else {\n                args.push(String(value));\n            }\n        }\n        console.log(`Executing module ${moduleId} with args:`, args);\n        // Execute via PowerShell service\n        return this.psService.executeScript(module.scriptPath, args, execOptions);\n    }\n    /**\n     * Search modules by query\n     */\n    searchModules(query) {\n        const lowerQuery = query.toLowerCase();\n        const results = [];\n        for (const module of this.modules.values()) {\n            // Search in ID, display name, description, and tags\n            if (module.id.toLowerCase().includes(lowerQuery) ||\n                module.displayName.toLowerCase().includes(lowerQuery) ||\n                module.description.toLowerCase().includes(lowerQuery) ||\n                (module.tags && module.tags.some(tag => tag.toLowerCase().includes(lowerQuery)))) {\n                results.push(module);\n            }\n        }\n        // Sort by priority\n        results.sort((a, b) => b.priority - a.priority);\n        return results;\n    }\n    /**\n     * Get modules by tags\n     */\n    getModulesByTags(tags) {\n        const results = [];\n        const lowerTags = tags.map(t => t.toLowerCase());\n        for (const module of this.modules.values()) {\n            if (module.tags && module.tags.some(tag => lowerTags.includes(tag.toLowerCase()))) {\n                results.push(module);\n            }\n        }\n        results.sort((a, b) => b.priority - a.priority);\n        return results;\n    }\n    /**\n     * Get registry statistics\n     */\n    getStatistics() {\n        const totalModules = this.modules.size;\n        const enabledModules = Array.from(this.modules.values()).filter(m => m.enabled).length;\n        const categories = this.getCategories();\n        return {\n            totalModules,\n            enabledModules,\n            disabledModules: totalModules - enabledModules,\n            categories,\n            loaded: this.loaded,\n        };\n    }\n}\nexport default ModuleRegistry;\n","/**\n * Enterprise-Grade PowerShell Execution Service\n *\n * Features:\n * - Session pooling (min: 2, max: 10)\n * - Request queuing when pool exhausted\n * - Auto-termination of idle sessions (5 min timeout)\n * - Cancellation token support\n * - Streaming output via EventEmitter (all 6 PowerShell streams)\n * - Module caching for performance\n * - Comprehensive error handling with custom error types\n * - Module discovery\n * - Parallel execution support\n * - Automatic retry with exponential backoff\n */\nimport { spawn } from 'child_process';\nimport { EventEmitter } from 'events';\nimport * as path from 'path';\nimport * as crypto from 'crypto';\nimport * as fs from 'fs/promises';\nimport { CredentialService } from './credentialService';\n/**\n * Custom PowerShell Error Types\n */\nexport class PowerShellError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = 'PowerShellError';\n    }\n}\nexport class PowerShellSyntaxError extends PowerShellError {\n    script;\n    constructor(message, script) {\n        super(message);\n        this.script = script;\n        this.name = 'PowerShellSyntaxError';\n    }\n}\nexport class PowerShellRuntimeError extends PowerShellError {\n    exitCode;\n    stderr;\n    constructor(message, exitCode, stderr) {\n        super(message);\n        this.exitCode = exitCode;\n        this.stderr = stderr;\n        this.name = 'PowerShellRuntimeError';\n    }\n}\nexport class PowerShellTimeoutError extends PowerShellError {\n    scriptPath;\n    constructor(timeout, scriptPath) {\n        super(`Script execution timed out after ${timeout}ms: ${scriptPath}`);\n        this.scriptPath = scriptPath;\n        this.name = 'PowerShellTimeoutError';\n    }\n}\nexport class PowerShellCancellationError extends PowerShellError {\n    executionId;\n    constructor(executionId) {\n        super(`Execution cancelled by user: ${executionId}`);\n        this.executionId = executionId;\n        this.name = 'PowerShellCancellationError';\n    }\n}\n/**\n * PowerShell Execution Service\n * Manages a pool of PowerShell sessions for efficient script execution\n */\nclass PowerShellExecutionService extends EventEmitter {\n    config;\n    sessionPool;\n    requestQueue;\n    activeExecutions;\n    moduleCache;\n    scriptLibrary;\n    cleanupInterval;\n    initialized;\n    queuePaused;\n    credentialService;\n    constructor(config = {}, credentialService) {\n        super();\n        this.config = {\n            maxPoolSize: config.maxPoolSize || 10,\n            minPoolSize: config.minPoolSize || 2,\n            sessionTimeout: config.sessionTimeout || 300000, // 5 minutes\n            queueSize: config.queueSize || 100,\n            enableModuleCaching: config.enableModuleCaching !== false,\n            defaultTimeout: config.defaultTimeout || 60000, // 1 minute\n            scriptsBaseDir: config.scriptsBaseDir || path.join(process.cwd(), '..'),\n        };\n        this.sessionPool = new Map();\n        this.requestQueue = [];\n        this.activeExecutions = new Map();\n        this.moduleCache = new Map();\n        this.scriptLibrary = new Map();\n        this.cleanupInterval = null;\n        this.initialized = false;\n        this.queuePaused = false;\n        this.credentialService = credentialService || new CredentialService();\n        // Bind methods\n        this.processQueue = this.processQueue.bind(this);\n        this.cleanupIdleSessions = this.cleanupIdleSessions.bind(this);\n    }\n    /**\n     * Initialize the service and create minimum pool sessions\n     */\n    async initialize() {\n        if (this.initialized) {\n            console.warn('PowerShellExecutionService already initialized');\n            return;\n        }\n        console.log(`Initializing PowerShell Execution Service (min: ${this.config.minPoolSize}, max: ${this.config.maxPoolSize})`);\n        // Create minimum pool sessions\n        const initPromises = [];\n        for (let i = 0; i < this.config.minPoolSize; i++) {\n            initPromises.push(this.createSession());\n        }\n        await Promise.all(initPromises);\n        // Start cleanup interval (check every minute)\n        this.cleanupInterval = setInterval(this.cleanupIdleSessions, 60000);\n        this.initialized = true;\n        console.log(`PowerShell Execution Service initialized with ${this.sessionPool.size} sessions`);\n    }\n    /**\n     * Create a new PowerShell session\n     */\n    async createSession() {\n        const sessionId = crypto.randomUUID();\n        const runspaceId = `runspace_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n        // Spawn a persistent PowerShell process for this session\n        const powershellExecutable = process.platform === 'win32' ? 'powershell.exe' : 'pwsh';\n        const childProcess = spawn(powershellExecutable, ['-NoExit', '-Command', '-'], {\n            cwd: this.config.scriptsBaseDir,\n            env: {\n                ...process.env,\n                PSModulePath: process.env.PSModulePath || '',\n            },\n            stdio: ['pipe', 'pipe', 'pipe'],\n        });\n        const session = {\n            id: sessionId,\n            process: childProcess,\n            status: 'idle',\n            lastUsed: Date.now(),\n            runspaceId,\n            executionCount: 0,\n        };\n        // Handle process termination\n        childProcess.on('exit', (code) => {\n            console.log(`PowerShell session ${sessionId} exited with code ${code}`);\n            this.sessionPool.delete(sessionId);\n        });\n        childProcess.on('error', (error) => {\n            console.error(`PowerShell session ${sessionId} error:`, error);\n            this.sessionPool.delete(sessionId);\n        });\n        this.sessionPool.set(sessionId, session);\n        console.log(`Created PowerShell session: ${sessionId}`);\n    }\n    /**\n     * Get an available session from the pool\n     */\n    async getAvailableSession() {\n        // Find idle session\n        for (const session of this.sessionPool.values()) {\n            if (session.status === 'idle') {\n                session.status = 'busy';\n                session.lastUsed = Date.now();\n                return session;\n            }\n        }\n        // Create new session if pool not at max\n        if (this.sessionPool.size < this.config.maxPoolSize) {\n            await this.createSession();\n            // Get the newly created session\n            for (const session of this.sessionPool.values()) {\n                if (session.status === 'idle') {\n                    session.status = 'busy';\n                    session.lastUsed = Date.now();\n                    return session;\n                }\n            }\n        }\n        return null;\n    }\n    /**\n     * Release a session back to the pool\n     */\n    releaseSession(sessionId) {\n        const session = this.sessionPool.get(sessionId);\n        if (session) {\n            session.status = 'idle';\n            session.lastUsed = Date.now();\n            session.executionCount++;\n            // Process queued requests\n            this.processQueue();\n        }\n    }\n    /**\n     * Clean up idle sessions beyond minimum pool size\n     */\n    cleanupIdleSessions() {\n        const now = Date.now();\n        const sessionsToRemove = [];\n        for (const [id, session] of this.sessionPool.entries()) {\n            if (session.status === 'idle' &&\n                this.sessionPool.size > this.config.minPoolSize &&\n                now - session.lastUsed > this.config.sessionTimeout) {\n                sessionsToRemove.push(id);\n            }\n        }\n        for (const id of sessionsToRemove) {\n            const session = this.sessionPool.get(id);\n            if (session?.process) {\n                session.process.kill();\n            }\n            this.sessionPool.delete(id);\n            console.log(`Terminated idle session: ${id}`);\n        }\n    }\n    /**\n     * Process the request queue\n     */\n    async processQueue() {\n        if (this.queuePaused) {\n            return; // Queue is paused, don't process\n        }\n        while (this.requestQueue.length > 0) {\n            const session = await this.getAvailableSession();\n            if (!session) {\n                break; // No available sessions\n            }\n            const request = this.requestQueue.shift();\n            if (request) {\n                this.executeScriptWithSession(session, request.scriptPath, request.args, request.options)\n                    .then(request.resolve)\n                    .catch(request.reject);\n            }\n            else {\n                this.releaseSession(session.id);\n            }\n        }\n    }\n    /**\n     * Resolve script path from name\n     */\n    resolveScriptPath(scriptPathOrName) {\n        // If already absolute path, return it\n        if (path.isAbsolute(scriptPathOrName)) {\n            return scriptPathOrName;\n        }\n        // Search in common directories\n        const searchDirs = [\n            path.join(this.config.scriptsBaseDir, 'Scripts'),\n            path.join(this.config.scriptsBaseDir, 'Modules'),\n            path.join(this.config.scriptsBaseDir, 'Core'),\n        ];\n        for (const dir of searchDirs) {\n            const fullPath = path.join(dir, scriptPathOrName);\n            // Would need fs.existsSync here, but keeping it simple\n            return fullPath;\n        }\n        // Default: treat as relative to base dir\n        return path.join(this.config.scriptsBaseDir, scriptPathOrName);\n    }\n    /**\n     * Execute a PowerShell script with a specific session\n     */\n    async executeScriptWithSession(session, scriptPath, args, options = {}) {\n        const executionId = options.cancellationToken || crypto.randomUUID();\n        const resolvedPath = this.resolveScriptPath(scriptPath);\n        const timeout = options.timeout || this.config.defaultTimeout;\n        const startTime = Date.now();\n        return new Promise((resolve, reject) => {\n            try {\n                // Spawn PowerShell process with enhanced stream redirection\n                const pwshArgs = [\n                    '-NoProfile',\n                    '-ExecutionPolicy',\n                    'Bypass',\n                    '-File',\n                    resolvedPath,\n                    ...args,\n                ];\n                // Use powershell.exe on Windows (fallback from pwsh if not installed)\n                const powershellExecutable = process.platform === 'win32' ? 'powershell.exe' : 'pwsh';\n                let childProcess;\n                // Launch in visible window if requested (Windows only)\n                if (options.showWindow && process.platform === 'win32') {\n                    console.log(`[PowerShellService.executeScriptWithSession] Spawning VISIBLE PowerShell window for: ${resolvedPath}`);\n                    // Use cmd.exe with 'start' to explicitly create a new console window\n                    // This is the only reliable way to show a console from an Electron app\n                    const cmdArgs = [\n                        '/c', // Run command and terminate\n                        'start', // Start a new window\n                        '\"\"', // Empty title (required by start command)\n                        powershellExecutable,\n                        '-NoProfile',\n                        '-ExecutionPolicy', 'Bypass',\n                        '-NoExit', // Keep window open after script completes\n                        '-File',\n                        `\"${resolvedPath}\"`, // Quote the path\n                        ...args.map(arg => `\"${arg}\"`) // Quote all arguments\n                    ];\n                    childProcess = spawn('cmd.exe', cmdArgs, {\n                        cwd: options.workingDirectory || this.config.scriptsBaseDir,\n                        env: {\n                            ...process.env,\n                            ...options.environmentVariables,\n                            PSModulePath: process.env.PSModulePath || '',\n                        },\n                        shell: true, // Use shell to properly handle 'start' command\n                        windowsHide: false,\n                    });\n                }\n                else {\n                    // Normal hidden execution with output capture\n                    childProcess = spawn(powershellExecutable, pwshArgs, {\n                        cwd: options.workingDirectory || this.config.scriptsBaseDir,\n                        env: {\n                            ...process.env,\n                            ...options.environmentVariables,\n                            // Enable all PowerShell streams\n                            PSModulePath: process.env.PSModulePath || '',\n                        },\n                    });\n                }\n                // Track active execution\n                this.activeExecutions.set(executionId, childProcess);\n                let stdout = '';\n                let stderr = '';\n                const warnings = [];\n                const verbose = [];\n                const debug = [];\n                const information = [];\n                // Setup timeout\n                let timeoutHandle = setTimeout(() => {\n                    childProcess.kill('SIGTERM');\n                    const error = new PowerShellTimeoutError(timeout, resolvedPath);\n                    this.activeExecutions.delete(executionId);\n                    this.releaseSession(session.id);\n                    reject(error);\n                }, timeout);\n                // Collect and parse stdout - contains output stream and structured data\n                childProcess.stdout?.on('data', (data) => {\n                    const chunk = data.toString();\n                    stdout += chunk;\n                    // Parse PowerShell streams from output\n                    this.parseAndEmitStreams(chunk, executionId, options.streamOutput || false);\n                });\n                // Collect and parse stderr - contains error, warning, verbose, debug, information streams\n                childProcess.stderr?.on('data', (data) => {\n                    const chunk = data.toString();\n                    stderr += chunk;\n                    // Parse different stream types from stderr\n                    this.parseStderrStreams(chunk, executionId, options.streamOutput || false, warnings, verbose, debug, information);\n                });\n                // Handle process exit\n                childProcess.on('close', (code) => {\n                    if (timeoutHandle) {\n                        clearTimeout(timeoutHandle);\n                        timeoutHandle = null;\n                    }\n                    this.activeExecutions.delete(executionId);\n                    this.releaseSession(session.id);\n                    const duration = Date.now() - startTime;\n                    if (code !== 0) {\n                        // Check for syntax errors\n                        if (stderr.includes('ParserError') || stderr.includes('Unexpected token')) {\n                            const error = new PowerShellSyntaxError(`Script contains syntax errors:\\n${stderr}`, resolvedPath);\n                            const result = {\n                                success: false,\n                                error: error.message,\n                                duration,\n                                warnings,\n                                stdout,\n                                stderr,\n                                exitCode: code || -1,\n                            };\n                            resolve(result);\n                            return;\n                        }\n                        // Runtime error\n                        const error = new PowerShellRuntimeError(`Script failed with exit code ${code}`, code || -1, stderr);\n                        const result = {\n                            success: false,\n                            error: error.message,\n                            duration,\n                            warnings,\n                            stdout,\n                            stderr,\n                            exitCode: code || -1,\n                        };\n                        resolve(result);\n                        return;\n                    }\n                    try {\n                        // Extract JSON from between markers (ignoring stream output)\n                        const jsonStartMarker = '<<<JSON_RESULT_START>>>';\n                        const jsonEndMarker = '<<<JSON_RESULT_END>>>';\n                        let jsonContent = stdout.trim();\n                        const startIndex = stdout.indexOf(jsonStartMarker);\n                        const endIndex = stdout.indexOf(jsonEndMarker);\n                        if (startIndex !== -1 && endIndex !== -1) {\n                            // Extract only the JSON between markers\n                            jsonContent = stdout.substring(startIndex + jsonStartMarker.length, endIndex).trim();\n                        }\n                        // Debug logging for Azure discovery - write full output to file\n                        const fs = require('fs');\n                        const debugLogPath = 'C:\\\\discoverydata\\\\powershell_debug_output.txt';\n                        try {\n                            const debugContent = [\n                                '========== POWERSHELL DEBUG OUTPUT ==========',\n                                `Timestamp: ${new Date().toISOString()}`,\n                                `stdout length: ${stdout.length}`,\n                                `stderr length: ${stderr.length}`,\n                                `jsonContent length: ${jsonContent.length}`,\n                                '',\n                                '========== FULL STDOUT ==========',\n                                stdout,\n                                '',\n                                '========== STDERR ==========',\n                                stderr,\n                                '',\n                                '========== EXTRACTED JSON CONTENT ==========',\n                                jsonContent,\n                                '',\n                                '=========================================='\n                            ].join('\\n');\n                            fs.writeFileSync(debugLogPath, debugContent, 'utf8');\n                            console.log(`[PowerShellService] Full output written to: ${debugLogPath}`);\n                        }\n                        catch (err) {\n                            console.error('[PowerShellService] Failed to write debug log:', err);\n                        }\n                        console.log('[PowerShellService] ========== STDOUT DEBUG ==========');\n                        console.log('[PowerShellService] stdout length:', stdout.length);\n                        console.log('[PowerShellService] Last 2000 chars of stdout:\\n', stdout.substring(Math.max(0, stdout.length - 2000)));\n                        console.log('[PowerShellService] stderr length:', stderr.length);\n                        if (stderr.length > 0) {\n                            console.log('[PowerShellService] stderr:\\n', stderr);\n                        }\n                        console.log('[PowerShellService] jsonContent length:', jsonContent.length);\n                        console.log('[PowerShellService] jsonContent:', jsonContent);\n                        console.log('[PowerShellService] ====================================');\n                        const data = jsonContent ? JSON.parse(jsonContent) : {};\n                        const result = {\n                            success: true,\n                            data,\n                            duration,\n                            warnings,\n                            stdout,\n                            stderr,\n                            exitCode: code || 0,\n                        };\n                        resolve(result);\n                    }\n                    catch (parseError) {\n                        const result = {\n                            success: false,\n                            error: `Failed to parse JSON output: ${parseError.message}\\n\\nOutput:\\n${stdout}`,\n                            duration,\n                            warnings,\n                            stdout,\n                            stderr,\n                            exitCode: code || 0,\n                        };\n                        resolve(result);\n                    }\n                });\n                // Handle process errors\n                childProcess.on('error', (err) => {\n                    if (timeoutHandle)\n                        clearTimeout(timeoutHandle);\n                    this.activeExecutions.delete(executionId);\n                    this.releaseSession(session.id);\n                    const result = {\n                        success: false,\n                        error: `Process error: ${err.message}`,\n                        duration: Date.now() - startTime,\n                        warnings,\n                        stderr: err.message,\n                    };\n                    resolve(result);\n                });\n            }\n            catch (error) {\n                this.releaseSession(session.id);\n                const result = {\n                    success: false,\n                    error: `Execution error: ${error.message}`,\n                    duration: Date.now() - startTime,\n                    warnings: [],\n                };\n                resolve(result);\n            }\n        });\n    }\n    /**\n     * Parse and emit PowerShell output streams\n     */\n    parseAndEmitStreams(chunk, executionId, streamOutput) {\n        if (!streamOutput)\n            return;\n        // Emit output stream data\n        const outputData = {\n            executionId,\n            data: chunk,\n            type: 'output',\n            timestamp: new Date(),\n        };\n        this.emit('output', outputData);\n        this.emit('stream:output', outputData);\n    }\n    /**\n     * Parse stderr streams (error, warning, verbose, debug, information)\n     */\n    parseStderrStreams(chunk, executionId, streamOutput, warnings, verbose, debug, information) {\n        const lines = chunk.split('\\n');\n        for (const line of lines) {\n            if (!line.trim())\n                continue;\n            // Parse WARNING stream\n            if (line.startsWith('WARNING: ')) {\n                const message = line.replace('WARNING: ', '');\n                warnings.push(message);\n                if (streamOutput) {\n                    const data = { executionId, data: message, type: 'warning', timestamp: new Date() };\n                    this.emit('output', data);\n                    this.emit('stream:warning', data);\n                }\n            }\n            // Parse VERBOSE stream\n            else if (line.startsWith('VERBOSE: ')) {\n                const message = line.replace('VERBOSE: ', '');\n                verbose.push(message);\n                if (streamOutput) {\n                    const data = { executionId, data: message, type: 'verbose', timestamp: new Date() };\n                    this.emit('output', data);\n                    this.emit('stream:verbose', data);\n                }\n            }\n            // Parse DEBUG stream\n            else if (line.startsWith('DEBUG: ')) {\n                const message = line.replace('DEBUG: ', '');\n                debug.push(message);\n                if (streamOutput) {\n                    const data = { executionId, data: message, type: 'debug', timestamp: new Date() };\n                    this.emit('output', data);\n                    this.emit('stream:debug', data);\n                }\n            }\n            // Parse INFORMATION stream (with explicit prefix)\n            else if (line.startsWith('INFORMATION: ') || line.startsWith('INFO: ')) {\n                const message = line.replace(/^(INFORMATION|INFO): /, '');\n                information.push(message);\n                if (streamOutput) {\n                    console.log(`[PowerShellService]  Emitting INFORMATION stream event: ${message.substring(0, 100)}...`);\n                    const data = { executionId, data: message, type: 'information', timestamp: new Date() };\n                    this.emit('output', data);\n                    this.emit('stream:information', data);\n                }\n                else {\n                    console.log(`[PowerShellService]  streamOutput is FALSE, not emitting: ${message.substring(0, 100)}...`);\n                }\n            }\n            // Parse ERROR stream (non-terminating errors)\n            else if (line.includes('ERROR:') || line.includes('Exception')) {\n                if (streamOutput) {\n                    const data = { executionId, data: line, type: 'error', timestamp: new Date() };\n                    this.emit('output', data);\n                    this.emit('stream:error', data);\n                }\n            }\n            // Treat all other non-empty lines as Information stream\n            // This handles Write-Information output that doesn't have explicit prefixes\n            else {\n                const message = line;\n                information.push(message);\n                if (streamOutput) {\n                    const data = { executionId, data: message, type: 'information', timestamp: new Date() };\n                    this.emit('output', data);\n                    this.emit('stream:information', data);\n                }\n            }\n        }\n    }\n    /**\n     * Discover installed PowerShell modules\n     * @returns Array of module information\n     */\n    async discoverModules() {\n        const script = `\r\n      Get-Module -ListAvailable | Select-Object Name, Version, Path, Description, Author, CompanyName, Guid, @{\r\n        Name='ExportedCommands';\r\n        Expression={ ($_.ExportedCommands.Keys | Sort-Object) -join ',' }\r\n      } | ConvertTo-Json -Depth 3\r\n    `;\n        try {\n            // Create temporary script file\n            const tempScriptPath = path.join(process.env.TEMP || '/tmp', `discover_modules_${crypto.randomUUID()}.ps1`);\n            await fs.writeFile(tempScriptPath, script, 'utf-8');\n            const result = await this.executeScript(tempScriptPath, [], { timeout: 30000 });\n            // Clean up temp file\n            await fs.unlink(tempScriptPath).catch(() => { });\n            if (!result.success || !result.data) {\n                console.warn('Module discovery failed:', result.error);\n                return [];\n            }\n            // Parse module data\n            const moduleData = Array.isArray(result.data) ? result.data : [result.data];\n            return moduleData.map((m) => ({\n                name: m.Name,\n                version: m.Version?.ToString() || m.Version || 'Unknown',\n                path: m.Path,\n                description: m.Description,\n                author: m.Author,\n                companyName: m.CompanyName,\n                guid: m.Guid,\n                exportedCommands: m.ExportedCommands ? m.ExportedCommands.split(',').filter(Boolean) : [],\n            }));\n        }\n        catch (error) {\n            console.error('Error discovering modules:', error);\n            return [];\n        }\n    }\n    /**\n     * Execute multiple scripts in parallel\n     * @param scripts Array of script tasks to execute\n     * @returns Array of results in same order as input\n     */\n    async executeParallel(scripts) {\n        if (!this.initialized) {\n            throw new Error('PowerShellExecutionService not initialized. Call initialize() first.');\n        }\n        // Respect max pool size - execute in batches\n        const batchSize = this.config.maxPoolSize;\n        const results = new Array(scripts.length);\n        for (let i = 0; i < scripts.length; i += batchSize) {\n            const batch = scripts.slice(i, i + batchSize);\n            const batchPromises = batch.map(async (task, index) => {\n                const result = await this.executeScript(task.scriptPath, task.args, task.options);\n                return { index: i + index, result };\n            });\n            const batchResults = await Promise.all(batchPromises);\n            // Place results in correct position\n            for (const { index, result } of batchResults) {\n                results[index] = result;\n            }\n        }\n        return results;\n    }\n    /**\n     * Execute script with automatic retry on transient failures\n     * @param scriptPath Path to script\n     * @param args Script arguments\n     * @param options Execution options\n     * @param retries Number of retry attempts (default: 3)\n     * @param backoff Initial backoff delay in ms (default: 1000)\n     * @returns Execution result\n     */\n    async executeWithRetry(scriptPath, args = [], options = {}, retries = 3, backoff = 1000) {\n        let lastError = null;\n        let attempt = 0;\n        while (attempt <= retries) {\n            try {\n                const result = await this.executeScript(scriptPath, args, options);\n                // If successful, return immediately\n                if (result.success) {\n                    if (attempt > 0) {\n                        console.log(`Script succeeded on attempt ${attempt + 1}/${retries + 1}`);\n                    }\n                    return result;\n                }\n                // Check if error is transient (network errors, timeouts, etc.)\n                const isTransient = this.isTransientError(result.error || '');\n                if (!isTransient || attempt === retries) {\n                    return result;\n                }\n                lastError = new Error(result.error);\n            }\n            catch (error) {\n                lastError = error;\n                // Check if we should retry\n                if (!this.isTransientError(error.message) || attempt === retries) {\n                    throw error;\n                }\n            }\n            // Wait before retry with exponential backoff\n            const delay = backoff * Math.pow(2, attempt);\n            console.log(`Script failed, retrying in ${delay}ms (attempt ${attempt + 1}/${retries + 1})...`);\n            await new Promise(resolve => setTimeout(resolve, delay));\n            attempt++;\n        }\n        // All retries exhausted\n        throw lastError || new Error('Script execution failed after retries');\n    }\n    /**\n     * Check if error is transient and should be retried\n     */\n    isTransientError(errorMessage) {\n        const transientPatterns = [\n            /timeout/i,\n            /connection/i,\n            /network/i,\n            /temporarily unavailable/i,\n            /too many requests/i,\n            /service unavailable/i,\n            /ECONNRESET/i,\n            /ETIMEDOUT/i,\n            /throttl/i,\n        ];\n        return transientPatterns.some(pattern => pattern.test(errorMessage));\n    }\n    /**\n     * Execute a PowerShell script\n     * @param scriptPath Path to script file (absolute or relative to base dir)\n     * @param args Command-line arguments\n     * @param options Execution options\n     */\n    async executeScript(scriptPath, args = [], options = {}) {\n        if (!this.initialized) {\n            throw new Error('PowerShellExecutionService not initialized. Call initialize() first.');\n        }\n        // Try to get available session\n        const session = await this.getAvailableSession();\n        if (session) {\n            return this.executeScriptWithSession(session, scriptPath, args, options);\n        }\n        // No available session, queue the request\n        if (this.requestQueue.length >= this.config.queueSize) {\n            return {\n                success: false,\n                error: 'Request queue is full. Too many concurrent executions.',\n                duration: 0,\n                warnings: [],\n            };\n        }\n        return new Promise((resolve, reject) => {\n            const request = {\n                id: crypto.randomUUID(),\n                scriptPath,\n                args,\n                options,\n                resolve,\n                reject,\n                timestamp: Date.now(),\n            };\n            this.requestQueue.push(request);\n            console.log(`Queued request ${request.id}, queue size: ${this.requestQueue.length}`);\n        });\n    }\n    /**\n     * Execute raw PowerShell command (inline script)\n     * @param command PowerShell command to execute\n     * @param timeout Execution timeout in milliseconds\n     */\n    async executeRawCommand(command, timeout = 30000) {\n        if (!this.initialized) {\n            throw new Error('PowerShellExecutionService not initialized. Call initialize() first.');\n        }\n        const session = await this.getAvailableSession();\n        if (!session) {\n            throw new Error('No PowerShell sessions available');\n        }\n        try {\n            // session.status is already set to 'busy' by getAvailableSession()\n            session.lastUsed = Date.now();\n            // Generate a unique marker for this command\n            const marker = `###COMMAND_COMPLETE_${Date.now()}_${Math.random().toString(36).substr(2, 9)}###`;\n            return new Promise((resolve, reject) => {\n                // Ensure session has a valid process\n                if (!session.process) {\n                    reject(new Error('Session process is not available'));\n                    return;\n                }\n                const timeoutHandle = setTimeout(() => {\n                    session.process.stdout?.off('data', onStdout);\n                    session.process.stderr?.off('data', onStderr);\n                    session.status = 'idle'; // Release session back to pool\n                    reject(new Error('Command execution timed out'));\n                }, timeout);\n                let output = '';\n                let errorOutput = '';\n                let commandComplete = false;\n                const onStdout = (data) => {\n                    const text = data.toString();\n                    output += text;\n                    // Check if we've received the completion marker\n                    if (text.includes(marker)) {\n                        commandComplete = true;\n                        clearTimeout(timeoutHandle);\n                        session.process.stdout?.off('data', onStdout);\n                        session.process.stderr?.off('data', onStderr);\n                        session.status = 'idle'; // Release session back to pool\n                        // Remove the marker from output\n                        const cleanOutput = output.replace(marker, '').trim();\n                        if (errorOutput) {\n                            reject(new Error(errorOutput));\n                        }\n                        else {\n                            resolve(cleanOutput);\n                        }\n                    }\n                };\n                const onStderr = (data) => {\n                    errorOutput += data.toString();\n                };\n                session.process.stdout?.on('data', onStdout);\n                session.process.stderr?.on('data', onStderr);\n                // Send command to PowerShell process with completion marker\n                session.process.stdin?.write(command + '\\n');\n                session.process.stdin?.write(`Write-Host \"${marker}\"\\n`);\n            });\n        }\n        catch (error) {\n            session.status = 'idle'; // Release session back to pool\n            throw error;\n        }\n    }\n    /**\n     * Execute a PowerShell module function\n     * @param modulePath Path to module file\n     * @param functionName Function to invoke\n     * @param params Named parameters\n     * @param options Execution options\n     */\n    async executeModule(modulePath, functionName, params = {}, options = {}) {\n        try {\n            // Debug logging\n            console.log(`[PowerShellService.executeModule] showWindow: ${options.showWindow}, function: ${functionName}`);\n            // Build PowerShell command to import module and call function\n            const paramsJson = JSON.stringify(params);\n            // Create a temp file for result output (used when showWindow is enabled)\n            const resultFile = path.join(process.env.TEMP || '/tmp', `ps_result_${crypto.randomUUID()}.json`);\n            // If showWindow is enabled, create a user-friendly visible script\n            const command = options.showWindow ? `\r\n        # Discovery Module Execution Window\r\n        $Host.UI.RawUI.WindowTitle = \"Discovery Module: ${functionName}\"\r\n\r\n        Write-Host '========================================' -ForegroundColor Cyan\r\n        Write-Host 'Discovery Module - PowerShell Execution' -ForegroundColor Cyan\r\n        Write-Host '========================================' -ForegroundColor Cyan\r\n        Write-Host ''\r\n        Write-Host \"Module: ${modulePath}\" -ForegroundColor Yellow\r\n        Write-Host \"Function: ${functionName}\" -ForegroundColor Yellow\r\n        Write-Host ''\r\n        Write-Host '========================================' -ForegroundColor Cyan\r\n        Write-Host ''\r\n\r\n        # Enable ONLY Information stream for clean, summary-level output\r\n        # Suppress verbose/debug to avoid HTTP request spam from Graph SDK\r\n        $InformationPreference = 'Continue'\r\n        $VerbosePreference = 'SilentlyContinue'  # Suppress verbose HTTP logs\r\n        $DebugPreference = 'SilentlyContinue'    # Suppress debug HTTP logs\r\n        $WarningPreference = 'Continue'          # Keep warnings visible\r\n\r\n        Import-Module '${modulePath}' -Force -ErrorAction Stop\r\n\r\n        # Convert JSON to hashtable recursively\r\n        function ConvertTo-HashtableRecursive {\r\n            param([Parameter(ValueFromPipeline)] $InputObject)\r\n\r\n            if ($null -eq $InputObject) {\r\n                return $null\r\n            }\r\n\r\n            if ($InputObject -is [System.Collections.IEnumerable] -and $InputObject -isnot [string]) {\r\n                $collection = @()\r\n                foreach ($item in $InputObject) {\r\n                    $collection += ConvertTo-HashtableRecursive $item\r\n                }\r\n                return $collection\r\n            }\r\n\r\n            if ($InputObject -is [PSCustomObject]) {\r\n                $hash = @{}\r\n                $InputObject.PSObject.Properties | ForEach-Object {\r\n                    $hash[$_.Name] = ConvertTo-HashtableRecursive $_.Value\r\n                }\r\n                return $hash\r\n            }\r\n\r\n            return $InputObject\r\n        }\r\n\r\n        $paramsObj = '${paramsJson.replace(/'/g, \"''\")}' | ConvertFrom-Json\r\n        $params = ConvertTo-HashtableRecursive $paramsObj\r\n\r\n        Write-Host 'Starting discovery execution...' -ForegroundColor Green\r\n        Write-Host ''\r\n\r\n        # Execute function - all Write-Information, Write-Verbose output will be visible\r\n        try {\r\n            $result = ${functionName} @params\r\n\r\n            Write-Host ''\r\n            Write-Host '========================================' -ForegroundColor Green\r\n            Write-Host 'Discovery Complete!' -ForegroundColor Green\r\n            Write-Host '========================================' -ForegroundColor Green\r\n\r\n            # Write result to temp file for Node.js to read\r\n            $resultFile = '${resultFile.replace(/\\\\/g, '\\\\\\\\')}'\r\n            Write-Host \"Writing result to: $resultFile\" -ForegroundColor Cyan\r\n\r\n            if ($null -eq $result) {\r\n              @{Success=$true} | ConvertTo-Json -Depth 20 | Out-File -FilePath $resultFile -Encoding UTF8\r\n            } else {\r\n              $result | ConvertTo-Json -Depth 20 | Out-File -FilePath $resultFile -Encoding UTF8\r\n            }\r\n\r\n            Write-Host 'Result written successfully!' -ForegroundColor Green\r\n\r\n            # Also output to stdout for compatibility (though it won't be captured)\r\n            Write-Output \"<<<JSON_RESULT_START>>>\"\r\n            if ($null -eq $result) {\r\n              @{Success=$true} | ConvertTo-Json -Compress\r\n            } else {\r\n              $result | ConvertTo-Json -Depth 20 -Compress\r\n            }\r\n            Write-Output \"<<<JSON_RESULT_END>>>\"\r\n\r\n            Write-Host ''\r\n            Write-Host 'Press any key to close this window...' -ForegroundColor Yellow\r\n            $null = $Host.UI.RawUI.ReadKey('NoEcho,IncludeKeyDown')\r\n        } catch {\r\n            Write-Host ''\r\n            Write-Host '========================================' -ForegroundColor Red\r\n            Write-Host 'Discovery Failed!' -ForegroundColor Red\r\n            Write-Host \"Error: $_\" -ForegroundColor Red\r\n            Write-Host '========================================' -ForegroundColor Red\r\n\r\n            # Write error to result file\r\n            $resultFile = '${resultFile.replace(/\\\\/g, '\\\\\\\\')}'\r\n            @{\r\n              Success = $false\r\n              Error = $_.Exception.Message\r\n              StackTrace = $_.ScriptStackTrace\r\n            } | ConvertTo-Json -Depth 5 | Out-File -FilePath $resultFile -Encoding UTF8\r\n\r\n            Write-Host ''\r\n            Write-Host 'Press any key to close this window...' -ForegroundColor Yellow\r\n            $null = $Host.UI.RawUI.ReadKey('NoEcho,IncludeKeyDown')\r\n            throw\r\n        }\r\n      ` : `\r\n        # Hidden execution mode with clean summary output\r\n        $InformationPreference = 'Continue'\r\n        $VerbosePreference = 'SilentlyContinue'  # Suppress verbose HTTP logs\r\n        $DebugPreference = 'SilentlyContinue'    # Suppress debug HTTP logs\r\n        $WarningPreference = 'Continue'          # Keep warnings visible\r\n\r\n        Import-Module '${modulePath}' -Force -ErrorAction Stop\r\n\r\n        # Convert JSON to hashtable recursively (PowerShell 5.1 compatible)\r\n        function ConvertTo-HashtableRecursive {\r\n            param([Parameter(ValueFromPipeline)] $InputObject)\r\n\r\n            if ($null -eq $InputObject) {\r\n                return $null\r\n            }\r\n\r\n            if ($InputObject -is [System.Collections.IEnumerable] -and $InputObject -isnot [string]) {\r\n                $collection = @()\r\n                foreach ($item in $InputObject) {\r\n                    $collection += ConvertTo-HashtableRecursive $item\r\n                }\r\n                return $collection\r\n            }\r\n\r\n            if ($InputObject -is [PSCustomObject]) {\r\n                $hash = @{}\r\n                $InputObject.PSObject.Properties | ForEach-Object {\r\n                    $hash[$_.Name] = ConvertTo-HashtableRecursive $_.Value\r\n                }\r\n                return $hash\r\n            }\r\n\r\n            return $InputObject\r\n        }\r\n\r\n        $paramsObj = '${paramsJson.replace(/'/g, \"''\")}' | ConvertFrom-Json\r\n        $params = ConvertTo-HashtableRecursive $paramsObj\r\n\r\n        # Execute function and capture result\r\n        # Note: All output streams (including Information) are already configured above\r\n        $result = & { ${functionName} @params }\r\n\r\n        # Output JSON result marker and data\r\n        Write-Output \"<<<JSON_RESULT_START>>>\"\r\n        if ($null -eq $result) {\r\n          @{} | ConvertTo-Json -Compress\r\n        } else {\r\n          $result | ConvertTo-Json -Depth 20 -Compress\r\n        }\r\n        Write-Output \"<<<JSON_RESULT_END>>>\"\r\n      `;\n            // Create temp script\n            const tempScript = path.join(process.env.TEMP || '/tmp', `ps_module_${crypto.randomUUID()}.ps1`);\n            // Write command to temp script\n            await fs.writeFile(tempScript, command, 'utf-8');\n            // Execute the script\n            const result = await this.executeScript(tempScript, [], options);\n            // If showWindow is enabled, read result from temp file instead of relying on stdout\n            if (options.showWindow) {\n                console.log(`[PowerShellService.executeModule] Reading result from file: ${resultFile}`);\n                try {\n                    // Wait a moment for the file to be written\n                    await new Promise(resolve => setTimeout(resolve, 500));\n                    // Check if file exists\n                    const fileExists = await fs.access(resultFile).then(() => true).catch(() => false);\n                    if (fileExists) {\n                        let fileContent = await fs.readFile(resultFile, 'utf-8');\n                        console.log(`[PowerShellService.executeModule] Read ${fileContent.length} bytes from result file`);\n                        // Strip BOM if present (PowerShell Out-File -Encoding UTF8 adds BOM)\n                        if (fileContent.charCodeAt(0) === 0xFEFF) {\n                            fileContent = fileContent.substring(1);\n                            console.log(`[PowerShellService.executeModule] Stripped BOM from file content`);\n                        }\n                        const fileData = JSON.parse(fileContent);\n                        // Clean up temp files\n                        await fs.unlink(tempScript).catch(() => { });\n                        await fs.unlink(resultFile).catch(() => { });\n                        // Return the result from file\n                        return {\n                            success: fileData.Success !== false,\n                            data: fileData,\n                            duration: result.duration,\n                            warnings: result.warnings || [],\n                            stdout: result.stdout,\n                            stderr: result.stderr,\n                            exitCode: result.exitCode,\n                        };\n                    }\n                    else {\n                        console.warn(`[PowerShellService.executeModule] Result file not found: ${resultFile}`);\n                        // Fall back to stdout result\n                        await fs.unlink(tempScript).catch(() => { });\n                        return result;\n                    }\n                }\n                catch (error) {\n                    console.error(`[PowerShellService.executeModule] Error reading result file: ${error.message}`);\n                    // Clean up temp files\n                    await fs.unlink(tempScript).catch(() => { });\n                    await fs.unlink(resultFile).catch(() => { });\n                    // Fall back to stdout result\n                    return result;\n                }\n            }\n            else {\n                // Clean up temp script only (no result file in hidden mode)\n                await fs.unlink(tempScript).catch(() => { });\n                return result;\n            }\n        }\n        catch (error) {\n            return {\n                success: false,\n                error: `Module execution error: ${error.message}`,\n                duration: 0,\n                warnings: [],\n            };\n        }\n    }\n    /**\n     * Execute a discovery module with credentials from the profile\n     * @param moduleName Name of the discovery module (e.g., \"ActiveDirectory\", \"Azure\")\n     * @param companyName Company profile name to load credentials for\n     * @param additionalParams Additional parameters to pass to the module\n     * @param options Execution options\n     * @returns Execution result\n     */\n    async executeDiscoveryModule(moduleName, companyName, additionalParams = {}, options = {}) {\n        try {\n            // Load credentials for the company profile\n            console.log(`[PowerShellService] Loading credentials for company: ${companyName}`);\n            const credentials = await this.credentialService.getCredential(companyName);\n            if (!credentials) {\n                return {\n                    success: false,\n                    error: `No credentials found for company \"${companyName}\". Please configure credentials first.`,\n                    duration: 0,\n                    warnings: [],\n                };\n            }\n            // DEBUG: Log actual credentials loaded\n            console.log(`[PowerShellService] Credentials loaded:`, {\n                tenantId: credentials.tenantId || 'MISSING',\n                clientId: credentials.clientId || 'MISSING',\n                hasClientSecret: !!credentials.clientSecret,\n                connectionType: credentials.connectionType\n            });\n            // Determine if this module needs Azure credentials\n            // Local discovery modules (FileSystem, PhysicalServer, Network) don't need cloud credentials\n            // Most discovery modules use Microsoft Graph/Azure APIs and need credentials\n            const azureModules = [\n                'Azure',\n                'AzureResource',\n                'Exchange',\n                'SharePoint',\n                'OneDrive',\n                'Teams',\n                'Application',\n                'Graph',\n                'Licensing',\n                'ConditionalAccess',\n                'ActiveDirectory', // Entra ID discovery via Graph\n                'DLP',\n                'EntraIDApp',\n                'ExternalIdentity',\n                'Intune',\n                'Office365',\n                'PowerPlatform',\n                'SecurityInfrastructure',\n                'SQL' // May use Azure SQL authentication\n            ];\n            const needsAzureCredentials = azureModules.includes(moduleName);\n            // ALL Invoke-*Discovery functions use the same structure:\n            // - Configuration: hashtable with credentials and module-specific params\n            // - Context: hashtable with paths and company info\n            // - SessionId: GUID for tracking\n            // Build Configuration hashtable\n            //  CRITICAL: Spread additionalParams FIRST, then overwrite with CompanyName to avoid duplicate keys\n            const configuration = {\n                ...additionalParams, // Module-specific parameters (may contain lowercase keys)\n            };\n            // Ensure CompanyName is set with PascalCase (PowerShell convention)\n            configuration.CompanyName = companyName;\n            // Remove any duplicate camelCase version that might have come from additionalParams\n            if ('companyName' in configuration && configuration.companyName !== undefined) {\n                delete configuration.companyName;\n            }\n            // Also remove profileId if it exists (not needed in Configuration)\n            if ('profileId' in configuration) {\n                delete configuration.profileId;\n            }\n            // Remove config wrapper if it exists (flatten it instead)\n            if ('config' in configuration && typeof configuration.config === 'object') {\n                const configObject = configuration.config;\n                delete configuration.config;\n                // Merge config properties into Configuration\n                Object.assign(configuration, configObject);\n            }\n            // Add Azure credentials if needed\n            if (needsAzureCredentials) {\n                configuration.TenantId = credentials.tenantId;\n                configuration.ClientId = credentials.clientId;\n                configuration.ClientSecret = credentials.clientSecret;\n                console.log(`[PowerShellService] Azure credentials added to Configuration for ${moduleName} module`);\n            }\n            else {\n                console.log(`[PowerShellService] Local module ${moduleName} - skipping Azure credentials`);\n            }\n            // Determine output paths\n            // Use provided outputPath or default to C:\\DiscoveryData\n            // Ensure we resolve the path to be safe\n            const baseOutputPath = options.outputPath ? path.resolve(options.outputPath) : path.join('C:\\\\DiscoveryData', companyName);\n            const rawDataOutput = path.join(baseOutputPath, 'Raw');\n            const logsOutput = path.join(baseOutputPath, 'Logs');\n            console.log(`[PowerShellService] Output configuration:`);\n            console.log(`[PowerShellService]   Base: ${baseOutputPath}`);\n            console.log(`[PowerShellService]   Raw:  ${rawDataOutput}`);\n            console.log(`[PowerShellService]   Logs: ${logsOutput}`);\n            // Build Context hashtable\n            const context = {\n                Paths: {\n                    RawDataOutput: rawDataOutput,\n                    Logs: logsOutput,\n                },\n                CompanyName: companyName,\n            };\n            // Generate SessionId\n            const sessionId = crypto.randomUUID();\n            // Build the structured parameters for Invoke-*Discovery\n            const discoveryParams = {\n                Configuration: configuration,\n                Context: context,\n                SessionId: sessionId,\n            };\n            console.log(`[PowerShellService] Executing ${moduleName} discovery for ${companyName}`);\n            console.log(`[PowerShellService] SessionId: ${sessionId}`);\n            console.log(`[PowerShellService] Output path: ${context.Paths.RawDataOutput}`);\n            console.log(`[PowerShellService] Configuration keys:`, Object.keys(configuration));\n            // Construct module path and function name\n            // Note: All discovery modules use the Invoke-* naming convention, not Start-*\n            const modulePath = path.join(this.config.scriptsBaseDir, 'Modules', 'Discovery', `${moduleName}Discovery.psm1`);\n            const functionName = `Invoke-${moduleName}Discovery`;\n            // Execute the discovery module\n            const result = await this.executeModule(modulePath, functionName, discoveryParams, {\n                ...options,\n                timeout: options.timeout || 1800000, // Default 30 minutes for discovery (allows time for module installation)\n            });\n            if (result.success) {\n                console.log(`[PowerShellService]  ${moduleName} discovery completed successfully`);\n            }\n            else {\n                console.error(`[PowerShellService]  ${moduleName} discovery failed:`, result.error);\n                if (result.stderr) {\n                    console.error(`[PowerShellService] PowerShell Error Output:\\n${result.stderr}`);\n                }\n                if (result.stdout) {\n                    console.log(`[PowerShellService] PowerShell Standard Output:\\n${result.stdout}`);\n                }\n            }\n            return result;\n        }\n        catch (error) {\n            console.error(`[PowerShellService] Discovery module execution error:`, error);\n            return {\n                success: false,\n                error: `Discovery module execution error: ${error.message}`,\n                duration: 0,\n                warnings: [],\n            };\n        }\n    }\n    /**\n     * Cancel a running execution\n     * @param token Cancellation token\n     * @returns True if execution was found and cancelled\n     */\n    cancelExecution(token) {\n        const process = this.activeExecutions.get(token);\n        if (process) {\n            console.log(`Cancelling execution: ${token}`);\n            process.kill('SIGTERM');\n            this.activeExecutions.delete(token);\n            // Emit cancellation event\n            this.emit('execution:cancelled', { executionId: token });\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Get service statistics\n     */\n    getStatistics() {\n        const idleSessions = Array.from(this.sessionPool.values()).filter(s => s.status === 'idle').length;\n        const busySessions = Array.from(this.sessionPool.values()).filter(s => s.status === 'busy').length;\n        return {\n            poolSize: this.sessionPool.size,\n            idleSessions,\n            busySessions,\n            activeExecutions: this.activeExecutions.size,\n            queuedRequests: this.requestQueue.length,\n            queuePaused: this.queuePaused,\n            cacheSize: this.moduleCache.size,\n            scriptLibrarySize: this.scriptLibrary.size,\n            totalExecutions: Array.from(this.sessionPool.values()).reduce((sum, s) => sum + s.executionCount, 0),\n        };\n    }\n    // ==================== Queue Management Methods ====================\n    /**\n     * Pause the execution queue\n     * Prevents processing of new queued requests until resumed\n     */\n    async pauseQueue() {\n        this.queuePaused = true;\n        console.log('PowerShell execution queue paused');\n        this.emit('queue:paused');\n    }\n    /**\n     * Resume the execution queue\n     * Starts processing queued requests again\n     */\n    async resumeQueue() {\n        this.queuePaused = false;\n        console.log('PowerShell execution queue resumed');\n        this.emit('queue:resumed');\n        // Process any pending requests\n        await this.processQueue();\n    }\n    /**\n     * Clear all pending requests from the queue\n     * Active executions are not affected\n     * @returns Number of requests removed\n     */\n    async clearQueue() {\n        const count = this.requestQueue.length;\n        // Reject all queued requests\n        for (const request of this.requestQueue) {\n            request.reject(new Error('Request cancelled - queue cleared'));\n        }\n        this.requestQueue = [];\n        console.log(`Cleared ${count} requests from queue`);\n        this.emit('queue:cleared', { count });\n        return count;\n    }\n    /**\n     * Get current queue status\n     */\n    getQueueStatus() {\n        return {\n            paused: this.queuePaused,\n            length: this.requestQueue.length,\n            oldestRequest: this.requestQueue[0]?.timestamp || null,\n            requests: this.requestQueue.map(r => ({\n                id: r.id,\n                scriptPath: r.scriptPath,\n                timestamp: r.timestamp,\n                waitTime: Date.now() - r.timestamp,\n            })),\n        };\n    }\n    /**\n     * Queue a script for execution\n     * @param task Script task to queue\n     * @returns Promise that resolves when execution completes\n     */\n    async queueScript(task) {\n        return this.executeScript(task.scriptPath, task.args, task.options);\n    }\n    // ==================== Script Library Management ====================\n    /**\n     * Get all scripts from the library\n     * @param category Optional category filter\n     * @returns Array of stored scripts\n     */\n    async getScriptLibrary(category) {\n        const scripts = Array.from(this.scriptLibrary.values());\n        if (category) {\n            return scripts.filter(s => s.category === category);\n        }\n        return scripts;\n    }\n    /**\n     * Save a script to the library\n     * @param script Script to save (without id if new)\n     * @returns The saved script with generated id\n     */\n    async saveScript(script) {\n        const now = new Date();\n        const storedScript = {\n            ...script,\n            id: crypto.randomUUID(),\n            createdAt: now,\n            updatedAt: now,\n            executionCount: 0,\n        };\n        this.scriptLibrary.set(storedScript.id, storedScript);\n        console.log(`Saved script to library: ${storedScript.name} (${storedScript.id})`);\n        this.emit('script:saved', storedScript);\n        return storedScript;\n    }\n    /**\n     * Update an existing script in the library\n     * @param scriptId Script ID to update\n     * @param updates Partial updates to apply\n     * @returns Updated script\n     */\n    async updateScript(scriptId, updates) {\n        const script = this.scriptLibrary.get(scriptId);\n        if (!script) {\n            console.warn(`Script not found in library: ${scriptId}`);\n            return null;\n        }\n        const updatedScript = {\n            ...script,\n            ...updates,\n            updatedAt: new Date(),\n        };\n        this.scriptLibrary.set(scriptId, updatedScript);\n        console.log(`Updated script in library: ${updatedScript.name} (${scriptId})`);\n        this.emit('script:updated', updatedScript);\n        return updatedScript;\n    }\n    /**\n     * Delete a script from the library\n     * @param scriptId Script ID to delete\n     * @returns True if deleted, false if not found\n     */\n    async deleteScript(scriptId) {\n        const script = this.scriptLibrary.get(scriptId);\n        if (!script) {\n            console.warn(`Script not found in library: ${scriptId}`);\n            return false;\n        }\n        this.scriptLibrary.delete(scriptId);\n        console.log(`Deleted script from library: ${script.name} (${scriptId})`);\n        this.emit('script:deleted', { id: scriptId, name: script.name });\n        return true;\n    }\n    /**\n     * Get a specific script from the library\n     * @param scriptId Script ID\n     * @returns Script if found, null otherwise\n     */\n    async getScript(scriptId) {\n        return this.scriptLibrary.get(scriptId) || null;\n    }\n    /**\n     * Search scripts by name, description, or tags\n     * @param query Search query\n     * @returns Matching scripts\n     */\n    async searchScripts(query) {\n        const lowerQuery = query.toLowerCase();\n        const scripts = Array.from(this.scriptLibrary.values());\n        return scripts.filter(s => s.name.toLowerCase().includes(lowerQuery) ||\n            s.description.toLowerCase().includes(lowerQuery) ||\n            s.tags.some(tag => tag.toLowerCase().includes(lowerQuery)));\n    }\n    /**\n     * Execute a script from the library by ID\n     * @param scriptId Script ID\n     * @param params Parameters to pass to the script\n     * @param options Execution options\n     * @returns Execution result\n     */\n    async executeFromLibrary(scriptId, params = {}, options = {}) {\n        const script = this.scriptLibrary.get(scriptId);\n        if (!script) {\n            return {\n                success: false,\n                error: `Script not found in library: ${scriptId}`,\n                duration: 0,\n                warnings: [],\n            };\n        }\n        try {\n            // Create temp script file\n            const tempScript = path.join(process.env.TEMP || '/tmp', `library_${scriptId}_${Date.now()}.ps1`);\n            await fs.writeFile(tempScript, script.content, 'utf-8');\n            // Build args from parameters\n            const args = Object.entries(params).flatMap(([key, value]) => [\n                `-${key}`,\n                typeof value === 'string' ? value : JSON.stringify(value),\n            ]);\n            // Execute script\n            const result = await this.executeScript(tempScript, args, options);\n            // Clean up temp file\n            await fs.unlink(tempScript).catch(() => { });\n            // Update execution count\n            if (result.success) {\n                script.executionCount++;\n                this.scriptLibrary.set(scriptId, script);\n            }\n            return result;\n        }\n        catch (error) {\n            return {\n                success: false,\n                error: `Library script execution error: ${error.message}`,\n                duration: 0,\n                warnings: [],\n            };\n        }\n    }\n    /**\n     * Get installed PowerShell modules\n     * Wrapper around discoverModules for clearer API\n     */\n    async getInstalledModules() {\n        return this.discoverModules();\n    }\n    /**\n     * Import a PowerShell module\n     * @param modulePath Path to module file (.psm1 or .psd1)\n     * @returns Execution result\n     */\n    async importModule(modulePath) {\n        const command = `Import-Module '${modulePath}' -Force -PassThru | ConvertTo-Json`;\n        const tempScript = path.join(process.env.TEMP || '/tmp', `import_${crypto.randomUUID()}.ps1`);\n        try {\n            await fs.writeFile(tempScript, command, 'utf-8');\n            const result = await this.executeScript(tempScript, [], { timeout: 10000 });\n            await fs.unlink(tempScript).catch(() => { });\n            return result;\n        }\n        catch (error) {\n            return {\n                success: false,\n                error: `Module import error: ${error.message}`,\n                duration: 0,\n                warnings: [],\n            };\n        }\n    }\n    /**\n     * Remove a PowerShell module from current session\n     * @param moduleName Module name\n     * @returns Execution result\n     */\n    async removeModule(moduleName) {\n        const command = `Remove-Module '${moduleName}' -Force -ErrorAction SilentlyContinue`;\n        const tempScript = path.join(process.env.TEMP || '/tmp', `remove_${crypto.randomUUID()}.ps1`);\n        try {\n            await fs.writeFile(tempScript, command, 'utf-8');\n            const result = await this.executeScript(tempScript, [], { timeout: 5000 });\n            await fs.unlink(tempScript).catch(() => { });\n            return result;\n        }\n        catch (error) {\n            return {\n                success: false,\n                error: `Module removal error: ${error.message}`,\n                duration: 0,\n                warnings: [],\n            };\n        }\n    }\n    /**\n     * Shutdown the service\n     */\n    async shutdown() {\n        console.log('Shutting down PowerShell Execution Service...');\n        // Stop cleanup interval\n        if (this.cleanupInterval) {\n            clearInterval(this.cleanupInterval);\n            this.cleanupInterval = null;\n        }\n        // Kill all active executions\n        for (const [token, process] of this.activeExecutions.entries()) {\n            console.log(`Killing active execution: ${token}`);\n            process.kill('SIGTERM');\n        }\n        this.activeExecutions.clear();\n        // Kill all session processes\n        for (const [id, session] of this.sessionPool.entries()) {\n            if (session.process) {\n                console.log(`Terminating session: ${id}`);\n                session.process.kill('SIGTERM');\n            }\n        }\n        this.sessionPool.clear();\n        // Clear caches and queues\n        this.moduleCache.clear();\n        this.requestQueue = [];\n        this.initialized = false;\n        console.log('PowerShell Execution Service shutdown complete');\n    }\n}\n// Export service as default and named export\nexport default PowerShellExecutionService;\nexport { PowerShellExecutionService };\n// Error classes already exported at top of file (lines 27-60)\n","import * as path from 'path';\nimport * as fs from 'fs/promises';\nimport { app, ipcMain } from 'electron';\nimport { Low } from 'lowdb';\nimport { JSONFile } from 'lowdb/node';\nimport { glob } from 'glob';\nimport { safeStorage } from 'electron';\nexport class ProfileService {\n    db;\n    isInitialized = false;\n    profilesPath;\n    dataRootPath;\n    constructor() {\n        this.profilesPath = path.join(app.getPath('appData'), 'MandADiscoverySuite', 'profiles.json');\n        // Use MANDA_DISCOVERY_PATH env var if set, otherwise default\n        this.dataRootPath = process.env.MANDA_DISCOVERY_PATH ||\n            (process.platform === 'win32' ? path.join('C:', 'DiscoveryData') : path.join(app.getPath('userData'), 'DiscoveryData'));\n    }\n    async initialize() {\n        if (this.isInitialized)\n            return;\n        await fs.mkdir(path.dirname(this.profilesPath), { recursive: true });\n        const adapter = new JSONFile(this.profilesPath);\n        this.db = new Low(adapter, { profiles: [], version: 1 });\n        await this.db.read();\n        this.ensureData();\n        // Ensure data is initialized after read (file might not exist yet)\n        this.db.data = this.db.data || { profiles: [], version: 1 };\n        if (!(this.db.data?.profiles?.length ?? 0)) {\n            await this.autoDiscoverProfiles();\n        }\n        this.isInitialized = true;\n        this.registerIPCHandlers();\n    }\n    registerIPCHandlers() {\n        ipcMain.handle('profile:getAll', () => this.getProfiles());\n        ipcMain.handle('profile:getCurrent', () => this.getCurrentProfile());\n        ipcMain.handle('profile:setCurrent', (_, profileId) => this.setCurrentProfile(profileId));\n        ipcMain.handle('profile:create', (_, profile) => this.createProfile(profile));\n        ipcMain.handle('profile:update', (_, profile) => this.updateProfile(profile));\n        ipcMain.handle('profile:delete', (_, profileId) => this.deleteProfile(profileId));\n        ipcMain.handle('profile:import', (_, filePath) => this.importProfile(filePath));\n        ipcMain.handle('profile:export', (_, profileId, filePath) => this.exportProfile(profileId, filePath));\n        ipcMain.handle('profile:getStats', (_, profileId) => this.getProfileStatistics(profileId));\n        ipcMain.handle('profile:validate', (_, profile) => this.validateProfile(profile));\n        ipcMain.handle('profile:getConnectionConfig', (_, profileId) => this.getConnectionConfig(profileId));\n        ipcMain.handle('profile:setConnectionConfig', (_, profileId, config) => this.setConnectionConfig(profileId, config));\n        // Domain credential handlers\n        ipcMain.handle('profile:saveDomainCredentials', (_, profileId, username, password) => this.saveDomainCredentials(profileId, username, password));\n        ipcMain.handle('profile:clearDomainCredentials', (_, profileId) => this.clearDomainCredentials(profileId));\n        ipcMain.handle('profile:testDomainCredentials', (_, profileId) => this.testDomainCredentials(profileId));\n        ipcMain.handle('profile:testDomainCredentialsWithValues', (_, username, password) => this.testDomainCredentialsWithValues(username, password));\n        ipcMain.handle('profile:getDomainCredentialStatus', (_, profileId) => this.getDomainCredentialStatus(profileId));\n        // Discovery data handlers\n        ipcMain.handle('profile:getADDomainFromDiscovery', (_, profileId) => this.getADDomainFromDiscovery(profileId));\n        ipcMain.handle('profile:getAzureTenantDomain', (_, profileId) => this.getAzureTenantDomain(profileId));\n        ipcMain.handle('profile:getAzureDataFromDiscovery', (_, profileId) => this.getAzureDataFromDiscovery(profileId));\n    }\n    ensureData() {\n        // Ensure data is initialized (file might not exist or be corrupted)\n        if (!this.db.data) {\n            this.db.data = { profiles: [], version: 1 };\n        }\n        if (!this.db.data.profiles) {\n            this.db.data.profiles = [];\n        }\n        if (!this.db.data.version) {\n            this.db.data.version = 1;\n        }\n    }\n    async getProfiles() {\n        await this.db.read();\n        this.ensureData();\n        return [...(this.db.data?.profiles ?? [])].sort((a, b) => a.companyName.localeCompare(b.companyName));\n    }\n    async getCurrentProfile() {\n        const profiles = await this.getProfiles();\n        return profiles.find(p => p.isActive) || null;\n    }\n    async getProfileById(profileId) {\n        const profiles = await this.getProfiles();\n        return profiles.find(p => p.id === profileId || p.companyName === profileId) || null;\n    }\n    async setCurrentProfile(profileId) {\n        await this.db.read();\n        this.ensureData();\n        const profiles = this.db.data.profiles;\n        const targetProfile = profiles.find(p => p.id === profileId || p.companyName === profileId);\n        if (!targetProfile)\n            return false;\n        // Deactivate all profiles\n        profiles.forEach(p => p.isActive = false);\n        // Activate target profile\n        targetProfile.isActive = true;\n        targetProfile.lastModified = new Date().toISOString();\n        await this.db.write();\n        // Broadcast profile change\n        this.broadcastProfileChange();\n        return true;\n    }\n    async createProfile(profileData) {\n        await this.db.read();\n        this.ensureData();\n        // Validate unique company name\n        const existing = this.db.data.profiles.find(p => p.companyName.toLowerCase() === profileData.companyName.toLowerCase());\n        if (existing) {\n            throw new Error(`Profile with company name \"${profileData.companyName}\" already exists`);\n        }\n        const profile = {\n            ...profileData,\n            id: this.generateId(),\n            created: new Date().toISOString(),\n            lastModified: new Date().toISOString(),\n            isActive: this.db.data.profiles.length === 0 // First profile is active\n        };\n        // Create directory structure\n        await this.createProfileDirectories(profile.companyName);\n        this.db.data.profiles.push(profile);\n        await this.db.write();\n        if (profile.isActive) {\n            this.broadcastProfileChange();\n        }\n        return profile;\n    }\n    async updateProfile(profile) {\n        await this.db.read();\n        this.ensureData();\n        const index = this.db.data.profiles.findIndex(p => p.id === profile.id);\n        if (index === -1) {\n            throw new Error(`Profile with ID \"${profile.id}\" not found`);\n        }\n        const existing = this.db.data.profiles[index];\n        const oldCompanyName = existing.companyName;\n        // Check for duplicate company name (excluding self)\n        const duplicate = this.db.data.profiles.find(p => p.id !== profile.id && p.companyName.toLowerCase() === profile.companyName.toLowerCase());\n        if (duplicate) {\n            throw new Error(`Profile with company name \"${profile.companyName}\" already exists`);\n        }\n        // Update profile\n        this.db.data.profiles[index] = {\n            ...profile,\n            created: existing.created,\n            lastModified: new Date().toISOString()\n        };\n        // Handle company name change - rename directory\n        if (oldCompanyName !== profile.companyName) {\n            await this.renameProfileDirectory(oldCompanyName, profile.companyName);\n        }\n        await this.db.write();\n        if (profile.isActive) {\n            this.broadcastProfileChange();\n        }\n        return this.db.data.profiles[index];\n    }\n    async deleteProfile(profileId) {\n        await this.db.read();\n        this.ensureData();\n        const index = this.db.data.profiles.findIndex(p => p.id === profileId);\n        if (index === -1)\n            return false;\n        const profile = this.db.data.profiles[index];\n        const wasActive = profile.isActive;\n        // Remove from database\n        this.db.data.profiles.splice(index, 1);\n        // Delete directory\n        await this.deleteProfileDirectory(profile.companyName);\n        // If deleted profile was active, activate first remaining profile\n        if (wasActive && this.db.data.profiles.length > 0) {\n            this.db.data.profiles[0].isActive = true;\n        }\n        await this.db.write();\n        if (wasActive) {\n            this.broadcastProfileChange();\n        }\n        return true;\n    }\n    async importProfile(filePath) {\n        const content = await fs.readFile(filePath, 'utf-8');\n        const importedProfile = JSON.parse(content);\n        if (!importedProfile.companyName) {\n            throw new Error('Invalid profile file: missing company name');\n        }\n        // Handle duplicate names\n        let companyName = importedProfile.companyName;\n        let counter = 1;\n        await this.db.read();\n        this.ensureData();\n        while (this.db.data.profiles.some(p => p.companyName.toLowerCase() === companyName.toLowerCase())) {\n            companyName = `${importedProfile.companyName} (${counter})`;\n            counter++;\n        }\n        const profile = {\n            companyName,\n            description: importedProfile.description || '',\n            domainController: importedProfile.domainController || '',\n            tenantId: importedProfile.tenantId || '',\n            isActive: false,\n            configuration: importedProfile.configuration || {}\n        };\n        return this.createProfile(profile);\n    }\n    async exportProfile(profileId, filePath) {\n        const profiles = await this.getProfiles();\n        const profile = profiles.find(p => p.id === profileId);\n        if (!profile) {\n            throw new Error(`Profile with ID \"${profileId}\" not found`);\n        }\n        const exportData = JSON.stringify(profile, null, 2);\n        await fs.writeFile(filePath, exportData, 'utf-8');\n    }\n    async getProfileStatistics(profileId) {\n        const profiles = await this.getProfiles();\n        const profile = profiles.find(p => p.id === profileId);\n        if (!profile)\n            return null;\n        const companyPath = this.getCompanyDataPath(profile.companyName);\n        const stats = {\n            profileId: profile.id,\n            companyName: profile.companyName,\n            created: profile.created,\n            lastModified: profile.lastModified,\n            lastDiscoveryRun: await this.getLastDiscoveryRun(companyPath),\n            totalDiscoveryRuns: await this.getTotalDiscoveryRuns(companyPath),\n            dataSizeBytes: await this.getDirectorySize(companyPath)\n        };\n        return stats;\n    }\n    validateProfile(profile) {\n        const result = {\n            isValid: true,\n            errors: [],\n            warnings: [],\n            recommendations: []\n        };\n        if (!profile.companyName?.trim()) {\n            result.errors.push('Company name is required');\n            result.isValid = false;\n        }\n        if (profile.companyName && profile.companyName.length > 100) {\n            result.errors.push('Company name cannot exceed 100 characters');\n            result.isValid = false;\n        }\n        if (!profile.domainController?.trim()) {\n            result.warnings.push('Domain controller is not specified');\n        }\n        if (!profile.tenantId?.trim()) {\n            result.warnings.push('Tenant ID is not specified');\n        }\n        if (profile.tenantId && !this.isValidGuid(profile.tenantId)) {\n            result.warnings.push('Tenant ID should be a valid GUID');\n        }\n        result.recommendations.push('Consider adding a detailed description for better identification');\n        return result;\n    }\n    getCompanyDataPath(companyName) {\n        return path.join(this.dataRootPath, companyName);\n    }\n    async getConnectionConfig(profileId) {\n        const profiles = await this.getProfiles();\n        const profile = profiles.find(p => p.id === profileId);\n        if (!profile)\n            return null;\n        const configPath = path.join(this.getCompanyDataPath(profile.companyName), 'connection.json');\n        try {\n            const content = await fs.readFile(configPath, 'utf-8');\n            return JSON.parse(content);\n        }\n        catch {\n            return null;\n        }\n    }\n    async setConnectionConfig(profileId, config) {\n        const profiles = await this.getProfiles();\n        const profile = profiles.find(p => p.id === profileId);\n        if (!profile) {\n            throw new Error(`Profile with ID \"${profileId}\" not found`);\n        }\n        const configPath = path.join(this.getCompanyDataPath(profile.companyName), 'connection.json');\n        const content = JSON.stringify(config, null, 2);\n        await fs.writeFile(configPath, content, 'utf-8');\n    }\n    async refreshProfiles() {\n        await this.autoDiscoverProfiles();\n    }\n    async getSourceProfiles() {\n        return this.getProfiles();\n    }\n    // ========================================\n    // Domain Credentials Management\n    // ========================================\n    /**\n     * Save domain credentials for a profile (encrypted)\n     * @param profileId - Profile ID\n     * @param username - Domain username (DOMAIN\\user format)\n     * @param passwordPlain - Plaintext password (will be encrypted)\n     */\n    async saveDomainCredentials(profileId, username, passwordPlain) {\n        // Validate encryption availability\n        if (!safeStorage.isEncryptionAvailable()) {\n            throw new Error('Secure credential encryption is not available on this system. ' +\n                'Please ensure your system keystore is properly configured.');\n        }\n        // Validate username format\n        const domainUserRegex = /^([^\\\\]+)\\\\([^\\\\]+)$/;\n        if (!domainUserRegex.test(username)) {\n            throw new Error('Username must be in DOMAIN\\\\username format (e.g., CONTOSO\\\\jdoe)');\n        }\n        // Validate password\n        if (!passwordPlain || passwordPlain.length < 8) {\n            throw new Error('Password must be at least 8 characters');\n        }\n        await this.db.read();\n        this.ensureData();\n        const profile = this.db.data.profiles.find(p => p.id === profileId);\n        if (!profile) {\n            throw new Error(`Profile with ID \"${profileId}\" not found`);\n        }\n        // Encrypt password\n        const encrypted = safeStorage.encryptString(passwordPlain);\n        const encryptedBase64 = encrypted.toString('base64');\n        // Initialize configuration if needed\n        if (!profile.configuration) {\n            profile.configuration = {};\n        }\n        // Store encrypted credentials\n        profile.configuration.domainCredentials = {\n            username,\n            password: encryptedBase64,\n            encrypted: true,\n            validationStatus: 'unknown',\n            lastValidated: new Date().toISOString()\n        };\n        profile.lastModified = new Date().toISOString();\n        await this.db.write();\n        console.log(`[ProfileService] Domain credentials saved for profile: ${profileId}, user: ${this.maskUsername(username)}`);\n    }\n    /**\n     * Clear domain credentials for a profile\n     * @param profileId - Profile ID\n     */\n    async clearDomainCredentials(profileId) {\n        await this.db.read();\n        this.ensureData();\n        const profile = this.db.data.profiles.find(p => p.id === profileId);\n        if (!profile) {\n            throw new Error(`Profile with ID \"${profileId}\" not found`);\n        }\n        if (profile.configuration?.domainCredentials) {\n            delete profile.configuration.domainCredentials;\n            profile.lastModified = new Date().toISOString();\n            await this.db.write();\n            console.log(`[ProfileService] Domain credentials cleared for profile: ${profileId}`);\n        }\n    }\n    /**\n     * Get decrypted domain credentials (MAIN PROCESS ONLY - never send to renderer)\n     * @param profileId - Profile ID\n     * @returns Decrypted credentials or null\n     */\n    async getDomainCredentialsDecrypted(profileId) {\n        await this.db.read();\n        this.ensureData();\n        const profile = this.db.data.profiles.find(p => p.id === profileId);\n        if (!profile) {\n            return null;\n        }\n        const stored = profile.configuration?.domainCredentials;\n        if (!stored?.password || !stored?.username) {\n            return null;\n        }\n        if (!safeStorage.isEncryptionAvailable()) {\n            throw new Error('Encryption not available - cannot decrypt credentials');\n        }\n        try {\n            const encryptedBuffer = Buffer.from(stored.password, 'base64');\n            const decryptedPassword = safeStorage.decryptString(encryptedBuffer);\n            return {\n                username: stored.username,\n                password: decryptedPassword\n            };\n        }\n        catch (error) {\n            console.error('[ProfileService] Failed to decrypt domain credentials:', error);\n            throw new Error('Failed to decrypt credentials - they may be corrupted');\n        }\n    }\n    /**\n     * Set domain credential validation status\n     * @param profileId - Profile ID\n     * @param status - Validation status\n     * @param validationError - Optional error message\n     */\n    async setDomainCredentialValidation(profileId, status, validationError) {\n        await this.db.read();\n        this.ensureData();\n        const profile = this.db.data.profiles.find(p => p.id === profileId);\n        if (!profile) {\n            throw new Error(`Profile with ID \"${profileId}\" not found`);\n        }\n        const stored = profile.configuration?.domainCredentials;\n        if (!stored) {\n            throw new Error('No domain credentials found for this profile');\n        }\n        stored.validationStatus = status;\n        stored.validationError = validationError?.slice(0, 500); // Limit error message length\n        stored.lastValidated = new Date().toISOString();\n        profile.lastModified = new Date().toISOString();\n        await this.db.write();\n        console.log(`[ProfileService] Domain credential validation updated: ${profileId} -> ${status}`);\n    }\n    /**\n     * Get domain credential status (safe for renderer - no passwords)\n     * @param profileId - Profile ID\n     * @returns Status information\n     */\n    async getDomainCredentialStatus(profileId) {\n        await this.db.read();\n        this.ensureData();\n        const profile = this.db.data.profiles.find(p => p.id === profileId);\n        if (!profile) {\n            return { hasCredentials: false };\n        }\n        const stored = profile.configuration?.domainCredentials;\n        if (!stored) {\n            return { hasCredentials: false };\n        }\n        return {\n            hasCredentials: true,\n            username: stored.username,\n            validationStatus: stored.validationStatus || 'unknown',\n            lastValidated: stored.lastValidated,\n            validationError: stored.validationError\n        };\n    }\n    /**\n     * Test domain credentials by attempting AD authentication\n     * @param profileId - Profile ID\n     * @returns Test result\n     */\n    async testDomainCredentials(profileId) {\n        const creds = await this.getDomainCredentialsDecrypted(profileId);\n        if (!creds) {\n            return { valid: false, error: 'No credentials found' };\n        }\n        try {\n            const result = await this.executePowerShellCredentialTest(creds.username, creds.password);\n            // Update validation status\n            if (result.valid) {\n                await this.setDomainCredentialValidation(profileId, 'valid');\n            }\n            else {\n                await this.setDomainCredentialValidation(profileId, 'invalid', result.error);\n            }\n            return result;\n        }\n        catch (error) {\n            const errorMsg = error instanceof Error ? error.message : String(error);\n            await this.setDomainCredentialValidation(profileId, 'invalid', errorMsg);\n            return { valid: false, error: errorMsg };\n        }\n    }\n    /**\n     * Test domain credentials with provided values (without saving first)\n     * @param username - Domain username\n     * @param password - Plaintext password\n     * @returns Test result\n     */\n    async testDomainCredentialsWithValues(username, password) {\n        console.log('='.repeat(80));\n        console.log('[ProfileService]  testDomainCredentialsWithValues CALLED');\n        console.log(`[ProfileService] Testing domain credentials for ${this.maskUsername(username)}`);\n        console.log(`[ProfileService] Username length: ${username.length}, Password length: ${password.length}`);\n        console.log('='.repeat(80));\n        if (!username || !password) {\n            console.error('[ProfileService]  Username or password missing');\n            return { valid: false, error: 'Username and password are required' };\n        }\n        // Validate username format\n        const domainUserRegex = /^([^\\\\]+)\\\\([^\\\\]+)$/;\n        if (!domainUserRegex.test(username)) {\n            return { valid: false, error: 'Username must be in DOMAIN\\\\username format' };\n        }\n        try {\n            const result = await this.executePowerShellCredentialTest(username, password);\n            console.log(`[ProfileService] Credential test result: ${result.valid ? 'valid' : 'invalid'}`);\n            return result;\n        }\n        catch (error) {\n            const errorMsg = error instanceof Error ? error.message : String(error);\n            console.error(`[ProfileService] Credential test failed:`, errorMsg);\n            return { valid: false, error: errorMsg };\n        }\n    }\n    /**\n     * Execute PowerShell script to test domain credentials\n     * @param username - Domain username\n     * @param password - Plaintext password (never logged)\n     * @returns Test result\n     */\n    async executePowerShellCredentialTest(username, password, server) {\n        const { spawn } = await import('child_process');\n        // Escape single quotes in username/password/server for PowerShell\n        const escapedUsername = username.replace(/'/g, \"''\");\n        const escapedPassword = password.replace(/'/g, \"''\");\n        const escapedServer = server?.replace(/'/g, \"''\") || '';\n        // PowerShell script to test credentials (username/password embedded directly)\n        const script = `\r\n$ErrorActionPreference = \"Stop\"\r\ntry {\r\n  $Username = '${escapedUsername}'\r\n  $Password = '${escapedPassword}'\r\n\r\n  $sec = ConvertTo-SecureString $Password -AsPlainText -Force\r\n  $cred = New-Object System.Management.Automation.PSCredential($Username, $sec)\r\n\r\n  # Auto-detect domain from domain-joined machine\r\n  $computerSystem = Get-WmiObject Win32_ComputerSystem\r\n  $domainName = $computerSystem.Domain\r\n\r\n  # Try AD module first\r\n  if (Get-Module -ListAvailable -Name ActiveDirectory) {\r\n    Import-Module ActiveDirectory -ErrorAction Stop\r\n    # Only pass -Server if we have a valid domain name\r\n    if ($domainName -and $domainName -ne 'WORKGROUP') {\r\n      $d = Get-ADDomain -Credential $cred -Server $domainName -ErrorAction Stop\r\n      $result = @{ valid = $true; domain = $d.DNSRoot }\r\n    } else {\r\n      # No domain detected, try without server parameter\r\n      $d = Get-ADDomain -Credential $cred -ErrorAction Stop\r\n      $result = @{ valid = $true; domain = $d.DNSRoot }\r\n    }\r\n  }\r\n  else {\r\n    # LDAP bind fallback\r\n    $ldapPath = if ($domainName -and $domainName -ne 'WORKGROUP') { \"LDAP://$domainName/RootDSE\" } else { \"LDAP://RootDSE\" }\r\n    $root = New-Object System.DirectoryServices.DirectoryEntry($ldapPath, $Username, $Password)\r\n    $null = $root.Properties[\"defaultNamingContext\"].Value\r\n    $result = @{ valid = $true; domain = $domainName }\r\n  }\r\n\r\n  $result | ConvertTo-Json -Depth 6 -Compress\r\n} catch {\r\n  @{ valid = $false; error = $_.Exception.Message } | ConvertTo-Json -Depth 6 -Compress\r\n}\r\n`;\n        return new Promise((resolve) => {\n            const child = spawn('powershell.exe', [\n                '-NoProfile',\n                '-NonInteractive',\n                '-ExecutionPolicy',\n                'Bypass',\n                '-Command',\n                script\n            ]);\n            let stdout = '';\n            let stderr = '';\n            child.stdout?.on('data', (data) => {\n                stdout += data.toString();\n            });\n            child.stderr?.on('data', (data) => {\n                stderr += data.toString();\n            });\n            child.on('close', (code) => {\n                console.log(`[ProfileService] PowerShell test completed with exit code: ${code}`);\n                console.log(`[ProfileService] stdout length: ${stdout.length}`);\n                console.log(`[ProfileService] stderr length: ${stderr.length}`);\n                if (code !== 0) {\n                    console.error(`[ProfileService] Credential test failed with exit code: ${code}`);\n                    console.error(`[ProfileService] stdout: ${stdout}`);\n                    console.error(`[ProfileService] stderr: ${stderr}`);\n                    resolve({ valid: false, error: stderr || 'PowerShell execution failed' });\n                    return;\n                }\n                console.log(`[ProfileService] Raw PowerShell stdout: ${stdout}`);\n                try {\n                    // Extract JSON from output (may have warnings before it)\n                    // Look for the last occurrence of {...\"} pattern in the output\n                    const jsonMatch = stdout.match(/\\{[^}]*\"valid\"\\s*:\\s*(true|false)[^}]*\\}/);\n                    if (!jsonMatch) {\n                        throw new Error('No JSON result found in output');\n                    }\n                    const jsonStr = jsonMatch[0];\n                    console.log(`[ProfileService] Extracted JSON: ${jsonStr}`);\n                    const result = JSON.parse(jsonStr);\n                    console.log(`[ProfileService] Parsed result:`, result);\n                    resolve(result);\n                }\n                catch (error) {\n                    console.error('[ProfileService] Failed to parse PowerShell output:', error);\n                    console.error('[ProfileService] Raw stdout was:', stdout);\n                    console.error('[ProfileService] Raw stderr was:', stderr);\n                    resolve({ valid: false, error: `Failed to parse test result. Output: ${stdout.substring(0, 200)}` });\n                }\n            });\n            child.on('error', (error) => {\n                console.error('[ProfileService] PowerShell process error:', error);\n                resolve({ valid: false, error: error.message });\n            });\n        });\n    }\n    /**\n     * Mask username for safe logging\n     * @param username - Domain username to mask\n     * @returns Masked username\n     */\n    maskUsername(username) {\n        if (!username)\n            return '***';\n        const parts = username.split('\\\\');\n        if (parts.length === 2) {\n            return `${parts[0]}\\\\***`;\n        }\n        return '***';\n    }\n    /**\n     * Get AD domain from discovery data\n     * @param profileId - Profile ID\n     * @returns AD domain if AD discovery has been run, null otherwise\n     */\n    async getADDomainFromDiscovery(profileId) {\n        try {\n            const profile = await this.getProfileById(profileId);\n            if (!profile) {\n                return { domain: null };\n            }\n            const companyName = profile.companyName;\n            const companyPath = this.getCompanyDataPath(companyName);\n            const rawPath = path.join(companyPath, 'Raw');\n            // Check if AD discovery CSV files exist\n            const adFiles = await glob(path.join(rawPath, '*{ActiveDirectory,AD}*.csv'));\n            if (adFiles.length === 0) {\n                return { domain: null };\n            }\n            // Try to extract domain from AD User or AD Domain CSV\n            const domainFile = adFiles.find(f => f.includes('User') || f.includes('Domain')) || adFiles[0];\n            if (domainFile) {\n                try {\n                    const csvContent = await fs.readFile(domainFile, 'utf-8');\n                    const lines = csvContent.split('\\n').filter(l => l.trim());\n                    if (lines.length > 1) {\n                        // Parse header to find domain-related column\n                        const header = lines[0].toLowerCase();\n                        const dataRow = lines[1];\n                        const values = dataRow.split(',');\n                        // Look for domain in various columns\n                        const domainIndex = header.split(',').findIndex(h => h.includes('domain') || h.includes('dns'));\n                        if (domainIndex >= 0 && values[domainIndex]) {\n                            return { domain: values[domainIndex].trim().replace(/\"/g, '') };\n                        }\n                        // Fallback: extract domain from UserPrincipalName or DN\n                        const upnIndex = header.split(',').findIndex(h => h.includes('userprincipalname'));\n                        if (upnIndex >= 0 && values[upnIndex]) {\n                            const upn = values[upnIndex].trim().replace(/\"/g, '');\n                            const match = upn.match(/@(.+)$/);\n                            if (match) {\n                                return { domain: match[1] };\n                            }\n                        }\n                    }\n                }\n                catch (error) {\n                    console.error('[ProfileService] Failed to parse AD domain file:', error);\n                }\n            }\n            return { domain: null };\n        }\n        catch (error) {\n            console.error('[ProfileService] getADDomainFromDiscovery error:', error);\n            return { domain: null };\n        }\n    }\n    /**\n     * Get Azure tenant domain from discovery data\n     * @param profileId - Profile ID\n     * @returns Tenant domain if Azure discovery has been run, null otherwise\n     */\n    async getAzureTenantDomain(profileId) {\n        try {\n            const profile = await this.getProfileById(profileId);\n            if (!profile) {\n                return { domain: null };\n            }\n            const companyName = profile.companyName;\n            const companyPath = this.getCompanyDataPath(companyName);\n            const rawPath = path.join(companyPath, 'Raw');\n            // Check if Azure/Entra discovery CSV files exist\n            const azureFiles = await glob(path.join(rawPath, '*{EntraID,Azure,AzureAD}*.csv'));\n            if (azureFiles.length === 0) {\n                return { domain: null };\n            }\n            // Try to extract tenant domain from EntraID domain CSV\n            const domainFile = azureFiles.find(f => f.includes('EntraIDDomain') || f.includes('Domain'));\n            if (domainFile) {\n                try {\n                    const csvContent = await fs.readFile(domainFile, 'utf-8');\n                    const lines = csvContent.split('\\n').filter(l => l.trim());\n                    if (lines.length > 1) {\n                        // Parse first data row (skip header)\n                        const dataRow = lines[1];\n                        const values = dataRow.split(',');\n                        // Look for domain name (usually first column or contains .onmicrosoft.com)\n                        const domain = values.find(v => v.includes('.') && !v.includes('@')) || values[0];\n                        if (domain) {\n                            return { domain: domain.trim().replace(/\"/g, '') };\n                        }\n                    }\n                }\n                catch (error) {\n                    console.error('[ProfileService] Failed to parse domain file:', error);\n                }\n            }\n            return { domain: null };\n        }\n        catch (error) {\n            console.error('[ProfileService] getAzureTenantDomain error:', error);\n            return { domain: null };\n        }\n    }\n    /**\n     * Get Azure data (domain and tenant ID) from discovery data\n     * @param profileId - Profile ID\n     * @returns Azure domain and tenant ID if Azure discovery has been run, null otherwise\n     */\n    async getAzureDataFromDiscovery(profileId) {\n        try {\n            const profile = await this.getProfileById(profileId);\n            if (!profile) {\n                return { domain: null, tenantId: null };\n            }\n            const companyName = profile.companyName;\n            const companyPath = this.getCompanyDataPath(companyName);\n            const rawPath = path.join(companyPath, 'Raw');\n            // Check if Azure/Entra discovery CSV files exist\n            const azureFiles = await glob(path.join(rawPath, '*{EntraID,Azure,AzureAD}*.csv'));\n            if (azureFiles.length === 0) {\n                return { domain: null, tenantId: null };\n            }\n            let domain = null;\n            let tenantId = null;\n            // Try to extract tenant domain from EntraID domain CSV\n            const domainFile = azureFiles.find(f => f.includes('EntraIDDomain') || f.includes('Domain'));\n            if (domainFile) {\n                try {\n                    const csvContent = await fs.readFile(domainFile, 'utf-8');\n                    const lines = csvContent.split('\\n').filter(l => l.trim());\n                    if (lines.length > 1) {\n                        // Parse first data row (skip header)\n                        const dataRow = lines[1];\n                        const values = dataRow.split(',');\n                        // Look for domain name (usually first column or contains .onmicrosoft.com)\n                        const domainValue = values.find(v => v.includes('.') && !v.includes('@')) || values[0];\n                        if (domainValue) {\n                            domain = domainValue.trim().replace(/\"/g, '');\n                        }\n                    }\n                }\n                catch (error) {\n                    console.error('[ProfileService] Failed to parse domain file:', error);\n                }\n            }\n            // Try to extract tenant ID from any Azure CSV file\n            const anyAzureFile = azureFiles[0];\n            try {\n                const csvContent = await fs.readFile(anyAzureFile, 'utf-8');\n                const lines = csvContent.split('\\n').filter(l => l.trim());\n                if (lines.length > 1) {\n                    // Parse header to find TenantId column\n                    const header = lines[0].toLowerCase();\n                    const dataRow = lines[1];\n                    const values = dataRow.split(',');\n                    const tenantIdIndex = header.split(',').findIndex(h => h.includes('tenantid') || h.includes('tenant_id'));\n                    if (tenantIdIndex >= 0 && values[tenantIdIndex]) {\n                        tenantId = values[tenantIdIndex].trim().replace(/\"/g, '');\n                    }\n                }\n            }\n            catch (error) {\n                console.error('[ProfileService] Failed to parse Azure file for tenant ID:', error);\n            }\n            return { domain, tenantId };\n        }\n        catch (error) {\n            console.error('[ProfileService] getAzureDataFromDiscovery error:', error);\n            return { domain: null, tenantId: null };\n        }\n    }\n    async autoDiscoverProfiles() {\n        const profiles = [];\n        // Discover from C:\\DiscoveryData\\*\n        try {\n            const companyDirs = await fs.readdir(this.dataRootPath);\n            for (const dirName of companyDirs) {\n                const companyName = dirName;\n                // Skip Profiles directory\n                if (companyName.toLowerCase() === 'profiles')\n                    continue;\n                const dir = path.join(this.dataRootPath, dirName);\n                const stat = await fs.stat(dir);\n                if (!stat.isDirectory())\n                    continue;\n                const rawPath = path.join(dir, 'Raw');\n                if (await this.hasCSVFiles(rawPath)) {\n                    profiles.push(this.createDefaultProfile(companyName, profiles.length === 0));\n                }\n            }\n            // Also check C:\\DiscoveryData\\Profiles\\*\n            const profilesDir = path.join(this.dataRootPath, 'Profiles');\n            const profileDirs = await glob(path.join(profilesDir, '*'));\n            for (const dir of profileDirs) {\n                const companyName = path.basename(dir);\n                if (!profiles.some(p => p.companyName.toLowerCase() === companyName.toLowerCase())) {\n                    const rawPath = path.join(dir, 'Raw');\n                    if (await this.hasCSVFiles(rawPath)) {\n                        profiles.push(this.createDefaultProfile(companyName, profiles.length === 0));\n                    }\n                }\n            }\n        }\n        catch (error) {\n            console.warn('Auto-discovery failed:', error);\n        }\n        // Create default if none found\n        if (!profiles.length) {\n            profiles.push(this.createDefaultProfile('Sample Corporation', true));\n        }\n        this.db.data.profiles = profiles;\n        await this.db.write();\n    }\n    createDefaultProfile(companyName, isActive) {\n        return {\n            id: this.generateId(),\n            companyName,\n            description: `Auto-discovered profile for ${companyName}`,\n            domainController: `dc.${companyName.toLowerCase().replace(/\\s+/g, '')}.com`,\n            tenantId: this.generateId(),\n            isActive,\n            created: new Date().toISOString(),\n            lastModified: new Date().toISOString(),\n            configuration: {}\n        };\n    }\n    async hasCSVFiles(dirPath) {\n        try {\n            // Normalize path for glob (use forward slashes on Windows)\n            const normalizedPath = path.join(dirPath, '*.csv').split(path.sep).join('/');\n            console.log('[ProfileService] hasCSVFiles checking:', normalizedPath);\n            const csvFiles = await glob(normalizedPath);\n            console.log('[ProfileService]   Found:', csvFiles.length, 'files');\n            return csvFiles.length > 0;\n        }\n        catch (error) {\n            console.log('[ProfileService] hasCSVFiles error:', error);\n            return false;\n        }\n    }\n    async createProfileDirectories(companyName) {\n        const basePath = this.getCompanyDataPath(companyName);\n        const directories = ['Raw', 'Output', 'Reports', 'Logs'];\n        for (const dir of directories) {\n            await fs.mkdir(path.join(basePath, dir), { recursive: true });\n        }\n    }\n    async renameProfileDirectory(oldName, newName) {\n        const oldPath = this.getCompanyDataPath(oldName);\n        const newPath = this.getCompanyDataPath(newName);\n        try {\n            await fs.rename(oldPath, newPath);\n        }\n        catch (error) {\n            console.warn(`Failed to rename profile directory from ${oldName} to ${newName}:`, error);\n        }\n    }\n    async deleteProfileDirectory(companyName) {\n        const dirPath = this.getCompanyDataPath(companyName);\n        try {\n            await fs.rm(dirPath, { recursive: true, force: true });\n        }\n        catch (error) {\n            console.warn(`Failed to delete profile directory ${companyName}:`, error);\n        }\n    }\n    async getLastDiscoveryRun(companyPath) {\n        try {\n            const csvFiles = await glob(path.join(companyPath, '**', '*.csv'));\n            if (!csvFiles.length)\n                return null;\n            const mtimes = await Promise.all(csvFiles.map(async (file) => (await fs.stat(file)).mtime));\n            return Math.max(...mtimes.map(d => d.getTime())).toString();\n        }\n        catch {\n            return null;\n        }\n    }\n    async getTotalDiscoveryRuns(companyPath) {\n        try {\n            const csvFiles = await glob(path.join(companyPath, '**', '*.csv'));\n            if (!csvFiles.length)\n                return 0;\n            const dates = new Set();\n            for (const file of csvFiles) {\n                const stat = await fs.stat(file);\n                dates.add(stat.mtime.toDateString());\n            }\n            return dates.size;\n        }\n        catch {\n            return 0;\n        }\n    }\n    async getDirectorySize(dirPath) {\n        try {\n            const files = await glob(path.join(dirPath, '**', '*'), { nodir: true });\n            let totalSize = 0;\n            for (const file of files) {\n                const stat = await fs.stat(file);\n                totalSize += stat.size;\n            }\n            return totalSize;\n        }\n        catch {\n            return 0;\n        }\n    }\n    generateId() {\n        return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n    }\n    isValidGuid(str) {\n        const guidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n        return guidRegex.test(str);\n    }\n    broadcastProfileChange() {\n        // Broadcast to all renderer processes\n        const windows = require('electron').BrowserWindow.getAllWindows();\n        windows.forEach((window) => {\n            window.webContents.send('profile:changed');\n        });\n    }\n}\n// Module-level singleton for utility access\nlet _profileServiceInstance = null;\nasync function getProfileServiceInstance() {\n    if (!_profileServiceInstance) {\n        _profileServiceInstance = new ProfileService();\n        await _profileServiceInstance.initialize();\n    }\n    return _profileServiceInstance;\n}\n/**\n * Module-level utility function to get a profile by ID\n * Can be used in dynamic imports without needing the class instance\n */\nexport async function getProfileById(profileId) {\n    const service = await getProfileServiceInstance();\n    return service.getProfileById(profileId);\n}\n","/**\n * Project Service\n * Manages project configuration, timeline, and wave management\n */\nimport * as fs from 'fs/promises';\nimport * as path from 'path';\nexport class ProjectService {\n    projectCache = new Map();\n    /**\n     * Get the project configuration path for a profile\n     */\n    getProjectPath(profileName) {\n        return path.join('C:', 'discoverydata', profileName, 'Project.json');\n    }\n    /**\n     * Load project configuration for a profile\n     */\n    async loadProjectConfig(profileName) {\n        // Check cache first\n        if (this.projectCache.has(profileName)) {\n            return this.projectCache.get(profileName);\n        }\n        const projectPath = this.getProjectPath(profileName);\n        try {\n            const content = await fs.readFile(projectPath, 'utf-8');\n            const config = JSON.parse(content);\n            // Update cache\n            this.projectCache.set(profileName, config);\n            return config;\n        }\n        catch (error) {\n            // Create default project if not exists\n            console.log(`Creating default project for ${profileName}`);\n            return this.createDefaultProject(profileName);\n        }\n    }\n    /**\n     * Save project configuration\n     */\n    async saveProjectConfig(profileName, config) {\n        const projectPath = this.getProjectPath(profileName);\n        // Ensure directory exists\n        await fs.mkdir(path.dirname(projectPath), { recursive: true });\n        // Update timestamps\n        config.updatedAt = new Date().toISOString();\n        // Save to file\n        await fs.writeFile(projectPath, JSON.stringify(config, null, 2), 'utf-8');\n        // Update cache\n        this.projectCache.set(profileName, config);\n    }\n    /**\n     * Create a default project configuration\n     */\n    createDefaultProject(profileName) {\n        const now = new Date();\n        const in90Days = new Date(now.getTime() + 90 * 24 * 60 * 60 * 1000);\n        // Generate simple UUID\n        const id = `project-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n        const config = {\n            id,\n            name: `${profileName} Migration Project`,\n            description: 'M&A migration project',\n            createdAt: now.toISOString(),\n            updatedAt: now.toISOString(),\n            sourceProfile: {\n                name: profileName,\n                type: 'ActiveDirectory',\n                lastValidated: now.toISOString()\n            },\n            targetProfile: {\n                name: 'Target Environment',\n                type: 'AzureAD'\n            },\n            startDate: now.toISOString(),\n            targetCutover: in90Days.toISOString(),\n            estimatedDuration: 90,\n            status: 'Planning',\n            currentPhase: 'Discovery',\n            waves: [],\n            settings: {\n                autoRefreshInterval: 30,\n                enableNotifications: true,\n                retentionDays: 90,\n                logLevel: 'info'\n            }\n        };\n        return config;\n    }\n    /**\n     * Update project status\n     */\n    async updateProjectStatus(profileName, status) {\n        const config = await this.loadProjectConfig(profileName);\n        config.status = status;\n        await this.saveProjectConfig(profileName, config);\n    }\n    /**\n     * Update project phase\n     */\n    async updateProjectPhase(profileName, phase) {\n        const config = await this.loadProjectConfig(profileName);\n        config.currentPhase = phase;\n        await this.saveProjectConfig(profileName, config);\n    }\n    /**\n     * Add a migration wave\n     */\n    async addMigrationWave(profileName, wave) {\n        const config = await this.loadProjectConfig(profileName);\n        config.waves.push(wave);\n        await this.saveProjectConfig(profileName, config);\n    }\n    /**\n     * Update wave status\n     */\n    async updateWaveStatus(profileName, waveId, status) {\n        const config = await this.loadProjectConfig(profileName);\n        const wave = config.waves.find(w => w.id === waveId);\n        if (wave) {\n            wave.status = status;\n            if (status === 'Complete') {\n                wave.completedAt = new Date().toISOString();\n            }\n            await this.saveProjectConfig(profileName, config);\n        }\n    }\n    /**\n     * Clear cache for a profile\n     */\n    invalidateCache(profileName) {\n        if (profileName) {\n            this.projectCache.delete(profileName);\n        }\n        else {\n            this.projectCache.clear();\n        }\n    }\n}\n","/**\n * Update Service\n * Manages automatic application updates from customer-specific Git repositories\n *\n * Features:\n * - GitHub-based update checking (via Octokit)\n * - Semantic versioning comparison\n * - Download with progress tracking\n * - Atomic updates with backup/rollback\n * - Update history and audit trail\n * - Customer-specific update channels\n */\nimport { EventEmitter } from 'events';\nimport { promises as fs } from 'fs';\nimport * as path from 'path';\nimport * as crypto from 'crypto';\nimport { app } from 'electron';\nimport { Octokit } from 'octokit';\nimport * as semver from 'semver';\n// ============================================================================\n// Service\n// ============================================================================\nexport class UpdateService extends EventEmitter {\n    configService;\n    licenseService;\n    octokit;\n    initialized = false;\n    currentVersion;\n    updateCheckInterval = null;\n    constructor(configService, licenseService) {\n        super();\n        this.configService = configService;\n        this.licenseService = licenseService;\n        // Initialize Octokit\n        this.octokit = new Octokit({\n            auth: process.env.GITHUB_UPDATE_TOKEN || undefined\n        });\n        this.currentVersion = app.getVersion();\n    }\n    async initialize() {\n        if (this.initialized)\n            return;\n        // Store current version\n        const storedVersion = await this.configService.get('updates.currentVersion');\n        if (storedVersion !== this.currentVersion) {\n            await this.configService.set('updates.currentVersion', this.currentVersion);\n        }\n        // Auto-update setting\n        const autoUpdateEnabled = await this.configService.get('updates.autoUpdateEnabled') ?? false;\n        if (autoUpdateEnabled) {\n            // Check every 4 hours\n            this.updateCheckInterval = setInterval(() => {\n                this.checkForUpdates().catch(err => {\n                    console.error('Auto update check failed:', err);\n                });\n            }, 4 * 60 * 60 * 1000);\n            // Also check 30 seconds after startup\n            setTimeout(() => {\n                this.checkForUpdates().catch(err => {\n                    console.error('Startup update check failed:', err);\n                });\n            }, 30000);\n        }\n        this.initialized = true;\n        this.emit('initialized');\n    }\n    /**\n     * Check for available updates\n     */\n    async checkForUpdates() {\n        await this.ensureInitialized();\n        const customerId = await this.licenseService.getCustomerId();\n        if (!customerId) {\n            throw new Error('No active license - cannot determine update channel');\n        }\n        const channel = this.getUpdateChannel(customerId);\n        await this.configService.set('updates.lastCheckTime', new Date().toISOString());\n        try {\n            const { data: release } = await this.octokit.rest.repos.getLatestRelease({\n                owner: this.parseRepoOwner(channel.repository),\n                repo: this.parseRepoName(channel.repository)\n            });\n            const latestVersion = release.tag_name.replace(/^v/, '');\n            const updateAvailable = semver.gt(latestVersion, this.currentVersion);\n            const updateInfo = {\n                available: updateAvailable,\n                currentVersion: this.currentVersion,\n                latestVersion,\n                releaseNotes: release.body || undefined,\n                publishedAt: release.published_at || undefined,\n                isBreaking: semver.major(latestVersion) > semver.major(this.currentVersion)\n            };\n            if (updateAvailable) {\n                // Find .nupkg asset\n                const asset = release.assets.find((a) => a.name.endsWith('.nupkg'));\n                if (asset) {\n                    updateInfo.downloadUrl = asset.browser_download_url;\n                }\n                // Find checksum\n                const checksumAsset = release.assets.find((a) => a.name === 'CHECKSUMS.txt' || a.name === 'SHA256SUMS');\n                if (checksumAsset) {\n                    updateInfo.checksumUrl = checksumAsset.browser_download_url;\n                }\n                this.emit('update-available', updateInfo);\n            }\n            return updateInfo;\n        }\n        catch (error) {\n            console.error('Failed to check for updates:', error);\n            throw new Error(`Update check failed: ${error instanceof Error ? error.message : String(error)}`);\n        }\n    }\n    /**\n     * Download update package\n     */\n    async downloadUpdate(updateInfo) {\n        if (!updateInfo.downloadUrl) {\n            throw new Error('No download URL provided');\n        }\n        const downloadDir = path.join(app.getPath('userData'), 'updates');\n        await fs.mkdir(downloadDir, { recursive: true });\n        const fileName = path.basename(updateInfo.downloadUrl);\n        const filePath = path.join(downloadDir, fileName);\n        this.emit('download-started', { url: updateInfo.downloadUrl });\n        try {\n            const response = await fetch(updateInfo.downloadUrl);\n            if (!response.ok) {\n                throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n            }\n            const totalBytes = parseInt(response.headers.get('content-length') || '0', 10);\n            let downloadedBytes = 0;\n            const fileHandle = await fs.open(filePath, 'w');\n            const writer = fileHandle.createWriteStream();\n            const reader = response.body?.getReader();\n            if (!reader)\n                throw new Error('No response body');\n            while (true) {\n                const { done, value } = await reader.read();\n                if (done)\n                    break;\n                writer.write(value);\n                downloadedBytes += value.length;\n                const progress = {\n                    phase: 'downloading',\n                    percentage: totalBytes > 0 ? Math.floor((downloadedBytes / totalBytes) * 100) : 0,\n                    bytesDownloaded: downloadedBytes,\n                    totalBytes\n                };\n                this.emit('download-progress', progress);\n            }\n            await new Promise((resolve, reject) => {\n                writer.end((err) => {\n                    if (err)\n                        reject(err);\n                    else\n                        resolve(undefined);\n                });\n            });\n            await fileHandle.close();\n            // Verify checksum\n            if (updateInfo.checksumUrl) {\n                this.emit('download-progress', { phase: 'verifying', percentage: 0 });\n                await this.verifyChecksum(filePath, updateInfo.checksumUrl);\n            }\n            this.emit('download-complete', { filePath });\n            return filePath;\n        }\n        catch (error) {\n            try {\n                await fs.unlink(filePath);\n            }\n            catch { }\n            throw new Error(`Download failed: ${error instanceof Error ? error.message : String(error)}`);\n        }\n    }\n    /**\n     * Apply update\n     */\n    async applyUpdate(installerPath, mode = 'prompt') {\n        const updateRecord = {\n            from: this.currentVersion,\n            to: '(applying...)',\n            timestamp: new Date().toISOString(),\n            status: 'success',\n            channel: (await this.licenseService.getCustomerId()) || 'unknown'\n        };\n        try {\n            await this.createBackup();\n            this.emit('install-started');\n            if (installerPath.endsWith('.nupkg') || installerPath.endsWith('.exe')) {\n                await this.runSquirrelInstaller(installerPath);\n            }\n            else {\n                throw new Error('Unsupported installer format');\n            }\n            await this.recordUpdate(updateRecord);\n            this.emit('install-complete');\n            if (mode === 'silent' || confirm('Update installed. Restart now?')) {\n                app.relaunch();\n                app.exit(0);\n            }\n        }\n        catch (error) {\n            updateRecord.status = 'failed';\n            updateRecord.error = error instanceof Error ? error.message : String(error);\n            await this.recordUpdate(updateRecord);\n            this.emit('install-failed', { error: error instanceof Error ? error.message : String(error) });\n            throw error;\n        }\n    }\n    /**\n     * Rollback to previous version\n     */\n    async rollback() {\n        const backupDir = path.join(app.getPath('userData'), 'backup');\n        try {\n            const backupExists = await fs.access(backupDir).then(() => true).catch(() => false);\n            if (!backupExists) {\n                throw new Error('No backup found');\n            }\n            this.emit('rollback-started');\n            const rollbackRecord = {\n                from: this.currentVersion,\n                to: '(rolled back)',\n                timestamp: new Date().toISOString(),\n                status: 'rolled_back'\n            };\n            await this.recordUpdate(rollbackRecord);\n            this.emit('rollback-complete');\n            app.relaunch();\n            app.exit(0);\n        }\n        catch (error) {\n            this.emit('rollback-failed', { error: error instanceof Error ? error.message : String(error) });\n            throw error;\n        }\n    }\n    /**\n     * Get update history\n     */\n    async getUpdateHistory() {\n        return await this.configService.get('updates.history') || [];\n    }\n    /**\n     * Enable/disable automatic updates\n     */\n    async setAutoUpdateEnabled(enabled) {\n        await this.configService.set('updates.autoUpdateEnabled', enabled);\n        if (enabled && !this.updateCheckInterval) {\n            this.updateCheckInterval = setInterval(() => {\n                this.checkForUpdates().catch(err => {\n                    console.error('Auto update check failed:', err);\n                });\n            }, 4 * 60 * 60 * 1000);\n        }\n        else if (!enabled && this.updateCheckInterval) {\n            clearInterval(this.updateCheckInterval);\n            this.updateCheckInterval = null;\n        }\n    }\n    // ============================================================================\n    // Private Methods\n    // ============================================================================\n    getUpdateChannel(customerId) {\n        const channelMap = {\n            'customer-001': {\n                name: 'customer-001-stable',\n                repository: 'yourorg/discovery-suite-customer001',\n                branch: 'main'\n            },\n            'customer-002': {\n                name: 'customer-002-stable',\n                repository: 'yourorg/discovery-suite-customer002',\n                branch: 'main'\n            },\n            'internal': {\n                name: 'internal-dev',\n                repository: 'yourorg/discovery-suite',\n                branch: 'develop'\n            }\n        };\n        return channelMap[customerId] || channelMap['internal'];\n    }\n    parseRepoOwner(repo) {\n        return repo.split('/')[0];\n    }\n    parseRepoName(repo) {\n        return repo.split('/')[1];\n    }\n    async verifyChecksum(filePath, checksumUrl) {\n        const response = await fetch(checksumUrl);\n        if (!response.ok) {\n            throw new Error(`Failed to download checksum: ${response.status}`);\n        }\n        const checksumText = await response.text();\n        const fileName = path.basename(filePath);\n        const lines = checksumText.split('\\n');\n        const line = lines.find(l => l.includes(fileName));\n        if (!line) {\n            throw new Error(`Checksum not found for ${fileName}`);\n        }\n        const expectedHash = line.split(/\\s+/)[0];\n        const fileBuffer = await fs.readFile(filePath);\n        const actualHash = crypto.createHash('sha256').update(fileBuffer).digest('hex');\n        if (actualHash !== expectedHash) {\n            throw new Error(`Checksum mismatch: expected ${expectedHash}, got ${actualHash}`);\n        }\n    }\n    async createBackup() {\n        const backupDir = path.join(app.getPath('userData'), 'backup');\n        await fs.mkdir(backupDir, { recursive: true });\n        const appPath = app.getAppPath();\n        if (appPath.endsWith('.asar')) {\n            const backupPath = path.join(backupDir, `app-${this.currentVersion}.asar`);\n            await fs.copyFile(appPath, backupPath);\n        }\n    }\n    async runSquirrelInstaller(installerPath) {\n        const { spawn } = require('child_process');\n        return new Promise((resolve, reject) => {\n            const process = spawn(installerPath, ['--silent'], {\n                detached: true,\n                stdio: 'ignore'\n            });\n            process.on('exit', (code) => {\n                if (code === 0)\n                    resolve();\n                else\n                    reject(new Error(`Installer exited with code ${code}`));\n            });\n            process.on('error', (error) => {\n                reject(error);\n            });\n            process.unref();\n        });\n    }\n    async recordUpdate(record) {\n        const history = await this.getUpdateHistory();\n        history.unshift(record);\n        if (history.length > 20) {\n            history.splice(20);\n        }\n        await this.configService.set('updates.history', history);\n    }\n    async ensureInitialized() {\n        if (!this.initialized) {\n            await this.initialize();\n        }\n    }\n    destroy() {\n        if (this.updateCheckInterval) {\n            clearInterval(this.updateCheckInterval);\n            this.updateCheckInterval = null;\n        }\n    }\n}\nexport default UpdateService;\n","/**\n * Group data model interfaces\n *\n * Represents Active Directory and Azure AD groups\n */\nexport var GroupType;\n(function (GroupType) {\n    GroupType[\"Security\"] = \"Security\";\n    GroupType[\"Distribution\"] = \"Distribution\";\n    GroupType[\"MailEnabled\"] = \"MailEnabled\";\n    GroupType[\"Office365\"] = \"Office365\";\n    GroupType[\"Dynamic\"] = \"Dynamic\";\n})(GroupType || (GroupType = {}));\nexport var GroupScope;\n(function (GroupScope) {\n    GroupScope[\"Universal\"] = \"Universal\";\n    GroupScope[\"Global\"] = \"Global\";\n    GroupScope[\"DomainLocal\"] = \"DomainLocal\";\n    GroupScope[\"None\"] = \"None\";\n})(GroupScope || (GroupScope = {}));\nexport var MembershipType;\n(function (MembershipType) {\n    MembershipType[\"Static\"] = \"Static\";\n    MembershipType[\"Dynamic\"] = \"Dynamic\";\n    MembershipType[\"RuleBased\"] = \"RuleBased\";\n})(MembershipType || (MembershipType = {}));\n","/**\n * Logic Engine Data Models\n * TypeScript ports of C# LogicEngineModels.cs\n */\n// Graph node types\nexport var NodeType;\n(function (NodeType) {\n    NodeType[\"User\"] = \"User\";\n    NodeType[\"Group\"] = \"Group\";\n    NodeType[\"Device\"] = \"Device\";\n    NodeType[\"App\"] = \"App\";\n    NodeType[\"Share\"] = \"Share\";\n    NodeType[\"Path\"] = \"Path\";\n    NodeType[\"Gpo\"] = \"Gpo\";\n    NodeType[\"Mailbox\"] = \"Mailbox\";\n    NodeType[\"Role\"] = \"Role\";\n    NodeType[\"Db\"] = \"Db\";\n    NodeType[\"Threat\"] = \"Threat\";\n    NodeType[\"DataAsset\"] = \"DataAsset\";\n    NodeType[\"LineageFlow\"] = \"LineageFlow\";\n    NodeType[\"ExternalIdentity\"] = \"ExternalIdentity\";\n})(NodeType || (NodeType = {}));\n// Edge types for the logic engine graph\nexport var EdgeType;\n(function (EdgeType) {\n    EdgeType[\"MemberOf\"] = \"MemberOf\";\n    EdgeType[\"PrimaryUser\"] = \"PrimaryUser\";\n    EdgeType[\"HasApp\"] = \"HasApp\";\n    EdgeType[\"AclOn\"] = \"AclOn\";\n    EdgeType[\"MapsTo\"] = \"MapsTo\";\n    EdgeType[\"LinkedByGpo\"] = \"LinkedByGpo\";\n    EdgeType[\"HasMailbox\"] = \"HasMailbox\";\n    EdgeType[\"AssignedRole\"] = \"AssignedRole\";\n    EdgeType[\"OwnsDb\"] = \"OwnsDb\";\n    EdgeType[\"DependsOn\"] = \"DependsOn\";\n    EdgeType[\"Threatens\"] = \"Threatens\";\n    EdgeType[\"HasGovernanceIssue\"] = \"HasGovernanceIssue\";\n    EdgeType[\"DataFlowTo\"] = \"DataFlowTo\";\n    EdgeType[\"ExternalMapping\"] = \"ExternalMapping\";\n    EdgeType[\"Correlates\"] = \"Correlates\";\n    EdgeType[\"Violates\"] = \"Violates\";\n})(EdgeType || (EdgeType = {}));\n","module.exports = require(\"child_process\");","module.exports = require(\"chokidar\");","module.exports = require(\"crypto\");","module.exports = require(\"electron\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"fs/promises\");","module.exports = require(\"glob\");","module.exports = require(\"https\");","module.exports = require(\"net\");","module.exports = require(\"buffer\");","module.exports = require(\"node:crypto\");","module.exports = require(\"fs\");","module.exports = require(\"fs/promises\");","module.exports = require(\"path\");","module.exports = require(\"url\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"stream\");","module.exports = require(\"tty\");","module.exports = require(\"util\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; (typeof current == 'object' || typeof current == 'function') && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"loaded\", otherwise not loaded yet\nvar installedChunks = {\n\t\"main\": 1\n};\n\n// no on chunks loaded\n\nvar installChunk = (chunk) => {\n\tvar moreModules = chunk.modules, chunkIds = chunk.ids, runtime = chunk.runtime;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tfor(var i = 0; i < chunkIds.length; i++)\n\t\tinstalledChunks[chunkIds[i]] = 1;\n\n};\n\n// require() chunk loading for javascript\n__webpack_require__.f.require = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\tvar installedChunk = require(\"./\" + __webpack_require__.u(chunkId));\n\t\t\tif (!installedChunks[chunkId]) {\n\t\t\t\tinstallChunk(installedChunk);\n\t\t\t}\n\t\t} else installedChunks[chunkId] = 1;\n\t}\n};\n\n// no external install chunk\n\n// no HMR\n\n// no HMR manifest","if (typeof __webpack_require__ !== 'undefined') __webpack_require__.ab = __dirname + \"/native_modules/\";","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".main.js\";\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { app, BrowserWindow } from 'electron';\nimport * as path from 'path';\nimport { registerIpcHandlers, shutdownIpcHandlers } from './main/ipcHandlers';\n// Compute paths at runtime based on where the app is actually running\nconst MAIN_WINDOW_WEBPACK_ENTRY = 'file://' + path.resolve(__dirname, '../renderer/main_window/index.html');\nconst MAIN_WINDOW_PRELOAD_WEBPACK_ENTRY = path.resolve(__dirname, '../preload/index.js');\n// Handle creating/removing shortcuts on Windows when installing/uninstalling.\nif (require('electron-squirrel-startup')) {\n    app.quit();\n}\nconst createWindow = async () => {\n    // Debug: Log webpack entry points\n    console.log('[MAIN] ========================================');\n    console.log('[MAIN] Webpack Entry Points:');\n    console.log('[MAIN] MAIN_WINDOW_WEBPACK_ENTRY:', MAIN_WINDOW_WEBPACK_ENTRY);\n    console.log('[MAIN] MAIN_WINDOW_PRELOAD_WEBPACK_ENTRY:', MAIN_WINDOW_PRELOAD_WEBPACK_ENTRY);\n    console.log('[MAIN] ========================================');\n    // Create the browser window.\n    const mainWindow = new BrowserWindow({\n        title: 'Enterprise Discovery & Migration Suite',\n        height: 900,\n        width: 1400,\n        minHeight: 700,\n        minWidth: 1200,\n        webPreferences: {\n            preload: MAIN_WINDOW_PRELOAD_WEBPACK_ENTRY,\n            contextIsolation: true,\n            nodeIntegration: false,\n            sandbox: process.env.NODE_ENV === 'production',\n        },\n        backgroundColor: '#1a1a1a',\n        show: true, // Changed to show immediately for debugging\n    });\n    // Show window when ready to avoid visual flash\n    mainWindow.once('ready-to-show', () => {\n        mainWindow.show();\n    });\n    // Set CSP headers to allow data URIs for images and fonts (Tailwind CSS and AG Grid use them)\n    // Also allow 'unsafe-inline' for the global polyfill script in index.html\n    mainWindow.webContents.session.webRequest.onHeadersReceived((details, callback) => {\n        callback({\n            responseHeaders: {\n                ...details.responseHeaders,\n                'Content-Security-Policy': [\n                    \"default-src 'self'; \" +\n                        \"img-src 'self' data: blob:; \" +\n                        \"font-src 'self' data: blob:; \" +\n                        \"style-src 'self' 'unsafe-inline'; \" +\n                        \"script-src 'self' 'unsafe-inline'; \" +\n                        \"connect-src 'self' ws: wss:;\"\n                ]\n            }\n        });\n    });\n    // Note: Permission handler not available in this Electron version, but security is enforced via other means\n    // Disable dangerous features\n    mainWindow.webContents.session.setPreloads([]);\n    mainWindow.webContents.session.setSpellCheckerLanguages([]);\n    mainWindow.webContents.session.setSpellCheckerEnabled(false);\n    // Add security event handlers\n    mainWindow.webContents.setWindowOpenHandler(() => {\n        return { action: 'deny' }; // Block new windows\n    });\n    mainWindow.webContents.on('will-navigate', (event, navigationUrl) => {\n        const parsedUrl = new URL(navigationUrl);\n        if (parsedUrl.origin !== 'file://' && parsedUrl.origin !== 'http://localhost:3000') {\n            event.preventDefault(); // Block external navigation except localhost for dev\n        }\n    });\n    // and load the index.html of the app.\n    mainWindow.loadURL(MAIN_WINDOW_WEBPACK_ENTRY);\n    // Open the DevTools in development or when explicitly requested\n    const shouldOpenDevTools = process.env.NODE_ENV === 'development' ||\n        process.env.DEBUG === 'true' ||\n        process.env.OPEN_DEVTOOLS === 'true';\n    if (shouldOpenDevTools) {\n        console.log('[MAIN] Opening DevTools (debug mode enabled)');\n        mainWindow.webContents.openDevTools();\n    }\n    return mainWindow;\n};\n// This method will be called when Electron has finished\n// initialization and is ready to create browser windows.\n// Some APIs can only be used after this event occurs.\napp.on('ready', async () => {\n    // Create window first\n    const mainWindow = await createWindow();\n    // Register IPC handlers with window reference for stream events\n    await registerIpcHandlers(mainWindow);\n});\n// Quit when all windows are closed, except on macOS. There, it's common\n// for applications and their menu bar to stay active until the user quits\n// explicitly with Cmd + Q.\napp.on('window-all-closed', () => {\n    if (process.platform !== 'darwin') {\n        app.quit();\n    }\n});\n// Cleanup before quit\napp.on('before-quit', async (event) => {\n    event.preventDefault();\n    await shutdownIpcHandlers();\n    app.exit(0);\n});\napp.on('activate', () => {\n    // On OS X it's common to re-create a window in the app when the\n    // dock icon is clicked and there are no other windows open.\n    if (BrowserWindow.getAllWindows().length === 0) {\n        createWindow();\n    }\n});\n// In this file you can include the rest of your app's specific main process\n// code. You can also put them in separate files and import them here.\n"],"names":["async","getInstallationOctokit","app","installationId","octokit","auth","type","factory","options","octokitOptions","authStrategy","createAppAuth","constructor","eachInstallationFactory","Object","assign","eachInstallation","bind","iterator","eachInstallationIterator","callback","i","Symbol","asyncIterator","result","next","done","value","composePaginateRest","data","installations","installation","installationOctokit","id","eachRepositoryFactory","eachRepository","eachRepositoryIterator","queryOrCallback","query","singleInstallationIterator","repositoriesIterator","repositories","repository","getInstallationUrlFactory","installationUrlBasePromise","appInfo","request","Error","html_url","getInstallationUrlBase","installationUrlBase","installationUrl","URL","target_id","pathname","searchParams","append","toFixed","state","href","App","static","defaults","this","args","super","webhooks","oauth","getInstallationUrl","log","Octokit","authOptions","appId","privateKey","clientId","clientSecret","debug","info","warn","console","error","appOctokit","Webhooks","secret","transform","event","payload","octokit2","createUnauthenticatedAuth","reason","hook","before","options2","headers","defineProperty","get","OAuthApp","clientType","getAppAuthentication","timeDifference","now","Math","floor","Date","appAuthentication","token","expiresAt","expiration","toISOString","optionsToCacheKey","permissions","repositoryIds","repositoryNames","permissionsString","keys","sort","map","name","join","filter","Boolean","toTokenAuthentication","createdAt","repositorySelection","singleFileName","tokenType","getInstallationAuthentication","customRequest","Number","oauthApp","factoryAuthOptions","cacheKey","pendingPromises","has","promise","refresh","cache","split","reduce","permissions2","string","test","slice","token2","createdAt2","expiresAt2","repositoryIds2","repositoryNames2","singleFileName2","repositorySelection2","installation_id","mediaType","previews","authorization","repository_ids","expires_at","permissionsOptional","repository_selection","repositorySelectionOptional","single_file","r","repo","cacheOptions","key","set","cacheData","getInstallationAuthenticationImpl","finally","delete","getInstallationAuthenticationConcurrently","Map","REGEX","paths","regex","p","c","startsWith","RegExp","routeMatcher","FIVE_SECONDS_IN_MS","route","parameters","endpoint","merge","url","requiresAppAuth","replace","DEFAULTS","baseUrl","response","message","match","isNotTimeSkewError","date","diff","parse","toString","token3","requiresBasicAuth","authentication","sendRequestWithRetries","retries","timeSinceTokenCreationInMs","status","awaitTime","Promise","resolve","setTimeout","VERSION","getUserAgent","Lru","createOAuthAppAuth","btoa","common","createOAuthUserAuth","request2","method","credentials","getOAuthAccessToken","cachedAuthentication","auth2","newScope","scopes","currentScope","getCachedAuthentication","verification","createDeviceCode","onVerification","waitForAccessToken","wait","seconds","code","device_code","exchangeDeviceCode","errorType","interval","createOAuthDeviceAuth","requestWithDefaults","otherOptions","getAuthentication","strategyOptions","exchangeWebFlowCode","onTokenCreated","deviceAuth","invalid","currentAuthentication","refreshToken","hasOwnProperty","checkToken","resetToken","deleteToken","deleteAuthorization","ROUTES_REQUIRING_BASIC_AUTH","b64url","jwtRE","isJWT","isApp","isInstallation","isUserToServer","length","withAuthorizationPrefix","createTokenAuth","REGEX_ABUSE_LIMIT_MESSAGE","catch","isRateLimitError","isAbuseLimitError","noop","consoleWarn","consoleError","userAgentTrail","userAgent","plugin","newPlugins","currentPlugins","plugins","concat","includes","Collection","requestDefaults","format","timeZone","graphql","withCustomRequest","logger","createLogger","wrap","classConstructor","mergeDeep","forEach","prototype","call","proto","getPrototypeOf","Ctor","Function","isPlainObject","removeUndefinedProperties","obj","object","newObj","toLowerCase","mergedOptions","preview","urlVariableRegex","removeNonChars","variableName","omit","keysToOmit","__proto__","indexOf","encodeReserved","str","part","encodeURI","encodeUnreserved","encodeURIComponent","charCodeAt","toUpperCase","encodeValue","operator","isDefined","isKeyOperator","expand","template","context","operators","_","expression","literal","values","charAt","substr","variable","tmp","exec","push","modifier","substring","parseInt","Array","isArray","value2","k","getValues","separator","body","urlVariableNames","matches","a","b","extractUrlVariableNames","remainingParameters","option","accept","endsWith","previewsFromAcceptHeader","names","q","addQueryParameters","endpointWithDefaults","withDefaults","oldDefaults","newDefaults","DEFAULTS2","endpoint2","GraphqlResponseError","errors","e","captureStackTrace","NON_VARIABLE_OPTIONS","FORBIDDEN_VARIABLE_OPTIONS","GHES_V3_SUFFIX_REGEX","newRequest","reject","parsedOptions","requestOptions","variables","then","addEventHandler","eventName","eventHandler","singleEventName","eventHandlers","OAuthAppOctokit","emitEvent","action","getUserOctokitWithState","getWebFlowAuthorizationUrlWithState","optionsWithDefaults","allowSignup","redirectUrl","defaultScopes","createTokenWithState","refreshTokenExpiresAt","checkTokenWithState","resetTokenWithState","response2","authentication2","refreshTokenWithState","scopeTokenWithState","deleteTokenWithState","deleteAuthorizationWithState","unknownRouteResponse","text","JSON","stringify","handleRequest","pathPrefix","routes","getLogin","getCallback","createToken","getToken","patchToken","patchRefreshToken","scopeToken","deleteGrant","json","fromEntries","getWebFlowAuthorizationUrl","location","error_description","refreshToken2","sendResponse","octokitResponse","writeHead","end","createNodeMiddleware","octokitRequest","bodyChunks","on","chunk","Buffer","parseRequest","Octokit2","getUserOctokit","oauthAuthorizationUrl","login","random","base","index","urlBuilderAuthorize","requestToOAuthBaseUrl","endpointDefaults","oauthRequest","withOAuthParameters","RequestError","error_uri","client_id","client_secret","redirect_uri","access_token","scope","apiTimeInMs","getTime","refresh_token","toTimestamp","expires_in","refresh_token_expires_in","expirationInSeconds","grant_type","toTimestamp2","toTimestamp3","optionsRequest","MissingCursorChange","pageInfo","cursorValue","path","generateMessage","pathInQuery","MissingPageInfo","isObject","findPaginatedResourcePath","responseData","paginatedResourcePath","deepFindPathToProperty","searchProp","currentPath","currentValue","current","nextProperty","mutator","lastProperty","parentPath","parent","isForwardSearch","givenPageInfo","createIterator","initialParameters","nextPageExists","pageInfoContext","pageInfoPath","extractPageInfos","nextCursorValue","endCursor","startCursor","hasNextPage","hasPreviousPage","hasAnotherPage","cursor","mergeResponses","response1","nodesPath","newNodes","edgesPath","newEdges","createPaginate","mergedResponse","paginateGraphQL","paginate","requestMethod","normalizedResponse","incompleteResults","incomplete_results","totalCount","total_count","namespaceKey","normalizePaginatedListResponse","link","mapFn","gather","results","iterator2","earlyExit","paginateRest","endpointMethodsMap","endpoints","entries","methodName","decorations","handler","getOwnPropertyDescriptor","target","configurable","writable","enumerable","descriptor","deleteProperty","ownKeys","withDecorations","mapToData","renamed","newMethodName","deprecated","renamedParameters","alias","decorate","endpointsToMethods","newMethods","Proxy","endpoints_default","actions","addCustomLabelsToSelfHostedRunnerForOrg","addCustomLabelsToSelfHostedRunnerForRepo","addRepoAccessToSelfHostedRunnerGroupInOrg","addSelectedRepoToOrgSecret","addSelectedRepoToOrgVariable","approveWorkflowRun","cancelWorkflowRun","createEnvironmentVariable","createHostedRunnerForOrg","createOrUpdateEnvironmentSecret","createOrUpdateOrgSecret","createOrUpdateRepoSecret","createOrgVariable","createRegistrationTokenForOrg","createRegistrationTokenForRepo","createRemoveTokenForOrg","createRemoveTokenForRepo","createRepoVariable","createWorkflowDispatch","deleteActionsCacheById","deleteActionsCacheByKey","deleteArtifact","deleteEnvironmentSecret","deleteEnvironmentVariable","deleteHostedRunnerForOrg","deleteOrgSecret","deleteOrgVariable","deleteRepoSecret","deleteRepoVariable","deleteSelfHostedRunnerFromOrg","deleteSelfHostedRunnerFromRepo","deleteWorkflowRun","deleteWorkflowRunLogs","disableSelectedRepositoryGithubActionsOrganization","disableWorkflow","downloadArtifact","downloadJobLogsForWorkflowRun","downloadWorkflowRunAttemptLogs","downloadWorkflowRunLogs","enableSelectedRepositoryGithubActionsOrganization","enableWorkflow","forceCancelWorkflowRun","generateRunnerJitconfigForOrg","generateRunnerJitconfigForRepo","getActionsCacheList","getActionsCacheUsage","getActionsCacheUsageByRepoForOrg","getActionsCacheUsageForOrg","getAllowedActionsOrganization","getAllowedActionsRepository","getArtifact","getCustomOidcSubClaimForRepo","getEnvironmentPublicKey","getEnvironmentSecret","getEnvironmentVariable","getGithubActionsDefaultWorkflowPermissionsOrganization","getGithubActionsDefaultWorkflowPermissionsRepository","getGithubActionsPermissionsOrganization","getGithubActionsPermissionsRepository","getHostedRunnerForOrg","getHostedRunnersGithubOwnedImagesForOrg","getHostedRunnersLimitsForOrg","getHostedRunnersMachineSpecsForOrg","getHostedRunnersPartnerImagesForOrg","getHostedRunnersPlatformsForOrg","getJobForWorkflowRun","getOrgPublicKey","getOrgSecret","getOrgVariable","getPendingDeploymentsForRun","getRepoPermissions","getRepoPublicKey","getRepoSecret","getRepoVariable","getReviewsForRun","getSelfHostedRunnerForOrg","getSelfHostedRunnerForRepo","getWorkflow","getWorkflowAccessToRepository","getWorkflowRun","getWorkflowRunAttempt","getWorkflowRunUsage","getWorkflowUsage","listArtifactsForRepo","listEnvironmentSecrets","listEnvironmentVariables","listGithubHostedRunnersInGroupForOrg","listHostedRunnersForOrg","listJobsForWorkflowRun","listJobsForWorkflowRunAttempt","listLabelsForSelfHostedRunnerForOrg","listLabelsForSelfHostedRunnerForRepo","listOrgSecrets","listOrgVariables","listRepoOrganizationSecrets","listRepoOrganizationVariables","listRepoSecrets","listRepoVariables","listRepoWorkflows","listRunnerApplicationsForOrg","listRunnerApplicationsForRepo","listSelectedReposForOrgSecret","listSelectedReposForOrgVariable","listSelectedRepositoriesEnabledGithubActionsOrganization","listSelfHostedRunnersForOrg","listSelfHostedRunnersForRepo","listWorkflowRunArtifacts","listWorkflowRuns","listWorkflowRunsForRepo","reRunJobForWorkflowRun","reRunWorkflow","reRunWorkflowFailedJobs","removeAllCustomLabelsFromSelfHostedRunnerForOrg","removeAllCustomLabelsFromSelfHostedRunnerForRepo","removeCustomLabelFromSelfHostedRunnerForOrg","removeCustomLabelFromSelfHostedRunnerForRepo","removeSelectedRepoFromOrgSecret","removeSelectedRepoFromOrgVariable","reviewCustomGatesForRun","reviewPendingDeploymentsForRun","setAllowedActionsOrganization","setAllowedActionsRepository","setCustomLabelsForSelfHostedRunnerForOrg","setCustomLabelsForSelfHostedRunnerForRepo","setCustomOidcSubClaimForRepo","setGithubActionsDefaultWorkflowPermissionsOrganization","setGithubActionsDefaultWorkflowPermissionsRepository","setGithubActionsPermissionsOrganization","setGithubActionsPermissionsRepository","setSelectedReposForOrgSecret","setSelectedReposForOrgVariable","setSelectedRepositoriesEnabledGithubActionsOrganization","setWorkflowAccessToRepository","updateEnvironmentVariable","updateHostedRunnerForOrg","updateOrgVariable","updateRepoVariable","activity","checkRepoIsStarredByAuthenticatedUser","deleteRepoSubscription","deleteThreadSubscription","getFeeds","getRepoSubscription","getThread","getThreadSubscriptionForAuthenticatedUser","listEventsForAuthenticatedUser","listNotificationsForAuthenticatedUser","listOrgEventsForAuthenticatedUser","listPublicEvents","listPublicEventsForRepoNetwork","listPublicEventsForUser","listPublicOrgEvents","listReceivedEventsForUser","listReceivedPublicEventsForUser","listRepoEvents","listRepoNotificationsForAuthenticatedUser","listReposStarredByAuthenticatedUser","listReposStarredByUser","listReposWatchedByUser","listStargazersForRepo","listWatchedReposForAuthenticatedUser","listWatchersForRepo","markNotificationsAsRead","markRepoNotificationsAsRead","markThreadAsDone","markThreadAsRead","setRepoSubscription","setThreadSubscription","starRepoForAuthenticatedUser","unstarRepoForAuthenticatedUser","apps","addRepoToInstallation","addRepoToInstallationForAuthenticatedUser","createFromManifest","createInstallationAccessToken","deleteInstallation","getAuthenticated","getBySlug","getInstallation","getOrgInstallation","getRepoInstallation","getSubscriptionPlanForAccount","getSubscriptionPlanForAccountStubbed","getUserInstallation","getWebhookConfigForApp","getWebhookDelivery","listAccountsForPlan","listAccountsForPlanStubbed","listInstallationReposForAuthenticatedUser","listInstallationRequestsForAuthenticatedApp","listInstallations","listInstallationsForAuthenticatedUser","listPlans","listPlansStubbed","listReposAccessibleToInstallation","listSubscriptionsForAuthenticatedUser","listSubscriptionsForAuthenticatedUserStubbed","listWebhookDeliveries","redeliverWebhookDelivery","removeRepoFromInstallation","removeRepoFromInstallationForAuthenticatedUser","revokeInstallationAccessToken","suspendInstallation","unsuspendInstallation","updateWebhookConfigForApp","billing","getGithubActionsBillingOrg","getGithubActionsBillingUser","getGithubBillingUsageReportOrg","getGithubPackagesBillingOrg","getGithubPackagesBillingUser","getSharedStorageBillingOrg","getSharedStorageBillingUser","campaigns","createCampaign","deleteCampaign","getCampaignSummary","listOrgCampaigns","updateCampaign","checks","create","createSuite","getSuite","listAnnotations","listForRef","listForSuite","listSuitesForRef","rerequestRun","rerequestSuite","setSuitesPreferences","update","codeScanning","commitAutofix","createAutofix","createVariantAnalysis","deleteAnalysis","deleteCodeqlDatabase","getAlert","alert_id","getAnalysis","getAutofix","getCodeqlDatabase","getDefaultSetup","getSarif","getVariantAnalysis","getVariantAnalysisRepoTask","listAlertInstances","listAlertsForOrg","listAlertsForRepo","listAlertsInstances","listCodeqlDatabases","listRecentAnalyses","updateAlert","updateDefaultSetup","uploadSarif","codeSecurity","attachConfiguration","attachEnterpriseConfiguration","createConfiguration","createConfigurationForEnterprise","deleteConfiguration","deleteConfigurationForEnterprise","detachConfiguration","getConfiguration","getConfigurationForRepository","getConfigurationsForEnterprise","getConfigurationsForOrg","getDefaultConfigurations","getDefaultConfigurationsForEnterprise","getRepositoriesForConfiguration","getRepositoriesForEnterpriseConfiguration","getSingleConfigurationForEnterprise","setConfigurationAsDefault","setConfigurationAsDefaultForEnterprise","updateConfiguration","updateEnterpriseConfiguration","codesOfConduct","getAllCodesOfConduct","getConductCode","codespaces","addRepositoryForSecretForAuthenticatedUser","checkPermissionsForDevcontainer","codespaceMachinesForAuthenticatedUser","createForAuthenticatedUser","createOrUpdateSecretForAuthenticatedUser","createWithPrForAuthenticatedUser","createWithRepoForAuthenticatedUser","deleteForAuthenticatedUser","deleteFromOrganization","deleteSecretForAuthenticatedUser","exportForAuthenticatedUser","getCodespacesForUserInOrg","getExportDetailsForAuthenticatedUser","getForAuthenticatedUser","getPublicKeyForAuthenticatedUser","getSecretForAuthenticatedUser","listDevcontainersInRepositoryForAuthenticatedUser","listForAuthenticatedUser","listInOrganization","org_id","listInRepositoryForAuthenticatedUser","listRepositoriesForSecretForAuthenticatedUser","listSecretsForAuthenticatedUser","preFlightWithRepoForAuthenticatedUser","publishForAuthenticatedUser","removeRepositoryForSecretForAuthenticatedUser","repoMachinesForAuthenticatedUser","setRepositoriesForSecretForAuthenticatedUser","startForAuthenticatedUser","stopForAuthenticatedUser","stopInOrganization","updateForAuthenticatedUser","copilot","addCopilotSeatsForTeams","addCopilotSeatsForUsers","cancelCopilotSeatAssignmentForTeams","cancelCopilotSeatAssignmentForUsers","copilotMetricsForOrganization","copilotMetricsForTeam","getCopilotOrganizationDetails","getCopilotSeatDetailsForUser","listCopilotSeats","dependabot","listAlertsForEnterprise","dependencyGraph","createRepositorySnapshot","diffRange","exportSbom","emojis","gists","checkIsStarred","createComment","deleteComment","fork","getComment","getRevision","list","listComments","listCommits","listForUser","listForks","listPublic","listStarred","star","unstar","updateComment","git","createBlob","createCommit","createRef","createTag","createTree","deleteRef","getBlob","getCommit","getRef","getTag","getTree","listMatchingRefs","updateRef","gitignore","getAllTemplates","getTemplate","hostedCompute","createNetworkConfigurationForOrg","deleteNetworkConfigurationFromOrg","getNetworkConfigurationForOrg","getNetworkSettingsForOrg","listNetworkConfigurationsForOrg","updateNetworkConfigurationForOrg","interactions","getRestrictionsForAuthenticatedUser","getRestrictionsForOrg","getRestrictionsForRepo","getRestrictionsForYourPublicRepos","removeRestrictionsForAuthenticatedUser","removeRestrictionsForOrg","removeRestrictionsForRepo","removeRestrictionsForYourPublicRepos","setRestrictionsForAuthenticatedUser","setRestrictionsForOrg","setRestrictionsForRepo","setRestrictionsForYourPublicRepos","issues","addAssignees","addLabels","addSubIssue","checkUserCanBeAssigned","checkUserCanBeAssignedToIssue","createLabel","createMilestone","deleteLabel","deleteMilestone","getEvent","getLabel","getMilestone","listAssignees","listCommentsForRepo","listEvents","listEventsForRepo","listEventsForTimeline","listForOrg","listForRepo","listLabelsForMilestone","listLabelsForRepo","listLabelsOnIssue","listMilestones","listSubIssues","lock","removeAllLabels","removeAssignees","removeLabel","removeSubIssue","reprioritizeSubIssue","setLabels","unlock","updateLabel","updateMilestone","licenses","getAllCommonlyUsed","getForRepo","markdown","render","renderRaw","meta","getAllVersions","getOctocat","getZen","root","migrations","deleteArchiveForAuthenticatedUser","deleteArchiveForOrg","downloadArchiveForOrg","getArchiveForAuthenticatedUser","getStatusForAuthenticatedUser","getStatusForOrg","listReposForAuthenticatedUser","listReposForOrg","listReposForUser","startForOrg","unlockRepoForAuthenticatedUser","unlockRepoForOrg","oidc","getOidcCustomSubTemplateForOrg","updateOidcCustomSubTemplateForOrg","orgs","addSecurityManagerTeam","assignTeamToOrgRole","assignUserToOrgRole","blockUser","cancelInvitation","checkBlockedUser","checkMembershipForUser","checkPublicMembershipForUser","convertMemberToOutsideCollaborator","createInvitation","createIssueType","createOrUpdateCustomProperties","createOrUpdateCustomPropertiesValuesForRepos","createOrUpdateCustomProperty","createWebhook","deleteIssueType","deleteWebhook","enableOrDisableSecurityProductOnAllOrgRepos","getAllCustomProperties","getCustomProperty","getMembershipForAuthenticatedUser","getMembershipForUser","getOrgRole","getOrgRulesetHistory","getOrgRulesetVersion","getWebhook","getWebhookConfigForOrg","listAppInstallations","listAttestations","listBlockedUsers","listCustomPropertiesValuesForRepos","listFailedInvitations","listInvitationTeams","listIssueTypes","listMembers","listMembershipsForAuthenticatedUser","listOrgRoleTeams","listOrgRoleUsers","listOrgRoles","listOrganizationFineGrainedPermissions","listOutsideCollaborators","listPatGrantRepositories","listPatGrantRequestRepositories","listPatGrantRequests","listPatGrants","listPendingInvitations","listPublicMembers","listSecurityManagerTeams","listWebhooks","pingWebhook","removeCustomProperty","removeMember","removeMembershipForUser","removeOutsideCollaborator","removePublicMembershipForAuthenticatedUser","removeSecurityManagerTeam","reviewPatGrantRequest","reviewPatGrantRequestsInBulk","revokeAllOrgRolesTeam","revokeAllOrgRolesUser","revokeOrgRoleTeam","revokeOrgRoleUser","setMembershipForUser","setPublicMembershipForAuthenticatedUser","unblockUser","updateIssueType","updateMembershipForAuthenticatedUser","updatePatAccess","updatePatAccesses","updateWebhook","updateWebhookConfigForOrg","packages","deletePackageForAuthenticatedUser","deletePackageForOrg","deletePackageForUser","deletePackageVersionForAuthenticatedUser","deletePackageVersionForOrg","deletePackageVersionForUser","getAllPackageVersionsForAPackageOwnedByAnOrg","getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser","getAllPackageVersionsForPackageOwnedByAuthenticatedUser","getAllPackageVersionsForPackageOwnedByOrg","getAllPackageVersionsForPackageOwnedByUser","getPackageForAuthenticatedUser","getPackageForOrganization","getPackageForUser","getPackageVersionForAuthenticatedUser","getPackageVersionForOrganization","getPackageVersionForUser","listDockerMigrationConflictingPackagesForAuthenticatedUser","listDockerMigrationConflictingPackagesForOrganization","listDockerMigrationConflictingPackagesForUser","listPackagesForAuthenticatedUser","listPackagesForOrganization","listPackagesForUser","restorePackageForAuthenticatedUser","restorePackageForOrg","restorePackageForUser","restorePackageVersionForAuthenticatedUser","restorePackageVersionForOrg","restorePackageVersionForUser","privateRegistries","createOrgPrivateRegistry","deleteOrgPrivateRegistry","getOrgPrivateRegistry","listOrgPrivateRegistries","updateOrgPrivateRegistry","pulls","checkIfMerged","createReplyForReviewComment","createReview","createReviewComment","deletePendingReview","deleteReviewComment","dismissReview","getReview","getReviewComment","listCommentsForReview","listFiles","listRequestedReviewers","listReviewComments","listReviewCommentsForRepo","listReviews","removeRequestedReviewers","requestReviewers","submitReview","updateBranch","updateReview","updateReviewComment","rateLimit","reactions","createForCommitComment","createForIssue","createForIssueComment","createForPullRequestReviewComment","createForRelease","createForTeamDiscussionCommentInOrg","createForTeamDiscussionInOrg","deleteForCommitComment","deleteForIssue","deleteForIssueComment","deleteForPullRequestComment","deleteForRelease","deleteForTeamDiscussion","deleteForTeamDiscussionComment","listForCommitComment","listForIssue","listForIssueComment","listForPullRequestReviewComment","listForRelease","listForTeamDiscussionCommentInOrg","listForTeamDiscussionInOrg","repos","acceptInvitation","acceptInvitationForAuthenticatedUser","addAppAccessRestrictions","addCollaborator","addStatusCheckContexts","addTeamAccessRestrictions","addUserAccessRestrictions","cancelPagesDeployment","checkAutomatedSecurityFixes","checkCollaborator","checkPrivateVulnerabilityReporting","checkVulnerabilityAlerts","codeownersErrors","compareCommits","compareCommitsWithBasehead","createAttestation","createAutolink","createCommitComment","createCommitSignatureProtection","createCommitStatus","createDeployKey","createDeployment","createDeploymentBranchPolicy","createDeploymentProtectionRule","createDeploymentStatus","createDispatchEvent","createFork","createInOrg","createOrUpdateCustomPropertiesValues","createOrUpdateEnvironment","createOrUpdateFileContents","createOrgRuleset","createPagesDeployment","createPagesSite","createRelease","createRepoRuleset","createUsingTemplate","declineInvitation","declineInvitationForAuthenticatedUser","deleteAccessRestrictions","deleteAdminBranchProtection","deleteAnEnvironment","deleteAutolink","deleteBranchProtection","deleteCommitComment","deleteCommitSignatureProtection","deleteDeployKey","deleteDeployment","deleteDeploymentBranchPolicy","deleteFile","deleteInvitation","deleteOrgRuleset","deletePagesSite","deletePullRequestReviewProtection","deleteRelease","deleteReleaseAsset","deleteRepoRuleset","disableAutomatedSecurityFixes","disableDeploymentProtectionRule","disablePrivateVulnerabilityReporting","disableVulnerabilityAlerts","downloadArchive","downloadTarballArchive","downloadZipballArchive","enableAutomatedSecurityFixes","enablePrivateVulnerabilityReporting","enableVulnerabilityAlerts","generateReleaseNotes","getAccessRestrictions","getAdminBranchProtection","getAllDeploymentProtectionRules","getAllEnvironments","getAllStatusCheckContexts","getAllTopics","getAppsWithAccessToProtectedBranch","getAutolink","getBranch","getBranchProtection","getBranchRules","getClones","getCodeFrequencyStats","getCollaboratorPermissionLevel","getCombinedStatusForRef","getCommitActivityStats","getCommitComment","getCommitSignatureProtection","getCommunityProfileMetrics","getContent","getContributorsStats","getCustomDeploymentProtectionRule","getCustomPropertiesValues","getDeployKey","getDeployment","getDeploymentBranchPolicy","getDeploymentStatus","getEnvironment","getLatestPagesBuild","getLatestRelease","getOrgRuleSuite","getOrgRuleSuites","getOrgRuleset","getOrgRulesets","getPages","getPagesBuild","getPagesDeployment","getPagesHealthCheck","getParticipationStats","getPullRequestReviewProtection","getPunchCardStats","getReadme","getReadmeInDirectory","getRelease","getReleaseAsset","getReleaseByTag","getRepoRuleSuite","getRepoRuleSuites","getRepoRuleset","getRepoRulesetHistory","getRepoRulesetVersion","getRepoRulesets","getStatusChecksProtection","getTeamsWithAccessToProtectedBranch","getTopPaths","getTopReferrers","getUsersWithAccessToProtectedBranch","getViews","getWebhookConfigForRepo","listActivities","listAutolinks","listBranches","listBranchesForHeadCommit","listCollaborators","listCommentsForCommit","listCommitCommentsForRepo","listCommitStatusesForRef","listContributors","listCustomDeploymentRuleIntegrations","listDeployKeys","listDeploymentBranchPolicies","listDeploymentStatuses","listDeployments","listInvitations","listInvitationsForAuthenticatedUser","listLanguages","listPagesBuilds","listPullRequestsAssociatedWithCommit","listReleaseAssets","listReleases","listTags","listTeams","mergeUpstream","removeAppAccessRestrictions","removeCollaborator","removeStatusCheckContexts","removeStatusCheckProtection","removeTeamAccessRestrictions","removeUserAccessRestrictions","renameBranch","replaceAllTopics","requestPagesBuild","setAdminBranchProtection","setAppAccessRestrictions","setStatusCheckContexts","setTeamAccessRestrictions","setUserAccessRestrictions","testPushWebhook","transfer","updateBranchProtection","updateCommitComment","updateDeploymentBranchPolicy","updateInformationAboutPagesSite","updateInvitation","updateOrgRuleset","updatePullRequestReviewProtection","updateRelease","updateReleaseAsset","updateRepoRuleset","updateStatusCheckPotection","updateStatusCheckProtection","updateWebhookConfigForRepo","uploadReleaseAsset","search","commits","issuesAndPullRequests","labels","topics","users","secretScanning","createPushProtectionBypass","getScanHistory","listLocationsForAlert","securityAdvisories","createPrivateVulnerabilityReport","createRepositoryAdvisory","createRepositoryAdvisoryCveRequest","getGlobalAdvisory","getRepositoryAdvisory","listGlobalAdvisories","listOrgRepositoryAdvisories","listRepositoryAdvisories","updateRepositoryAdvisory","teams","addOrUpdateMembershipForUserInOrg","addOrUpdateRepoPermissionsInOrg","checkPermissionsForRepoInOrg","createDiscussionCommentInOrg","createDiscussionInOrg","deleteDiscussionCommentInOrg","deleteDiscussionInOrg","deleteInOrg","getByName","getDiscussionCommentInOrg","getDiscussionInOrg","getMembershipForUserInOrg","listChildInOrg","listDiscussionCommentsInOrg","listDiscussionsInOrg","listMembersInOrg","listPendingInvitationsInOrg","listReposInOrg","removeMembershipForUserInOrg","removeRepoInOrg","updateDiscussionCommentInOrg","updateDiscussionInOrg","updateInOrg","addEmailForAuthenticated","addEmailForAuthenticatedUser","addSocialAccountForAuthenticatedUser","block","checkBlocked","checkFollowingForUser","checkPersonIsFollowedByAuthenticated","createGpgKeyForAuthenticated","createGpgKeyForAuthenticatedUser","createPublicSshKeyForAuthenticated","createPublicSshKeyForAuthenticatedUser","createSshSigningKeyForAuthenticatedUser","deleteEmailForAuthenticated","deleteEmailForAuthenticatedUser","deleteGpgKeyForAuthenticated","deleteGpgKeyForAuthenticatedUser","deletePublicSshKeyForAuthenticated","deletePublicSshKeyForAuthenticatedUser","deleteSocialAccountForAuthenticatedUser","deleteSshSigningKeyForAuthenticatedUser","follow","getById","getByUsername","getContextForUser","getGpgKeyForAuthenticated","getGpgKeyForAuthenticatedUser","getPublicSshKeyForAuthenticated","getPublicSshKeyForAuthenticatedUser","getSshSigningKeyForAuthenticatedUser","listBlockedByAuthenticated","listBlockedByAuthenticatedUser","listEmailsForAuthenticated","listEmailsForAuthenticatedUser","listFollowedByAuthenticated","listFollowedByAuthenticatedUser","listFollowersForAuthenticatedUser","listFollowersForUser","listFollowingForUser","listGpgKeysForAuthenticated","listGpgKeysForAuthenticatedUser","listGpgKeysForUser","listPublicEmailsForAuthenticated","listPublicEmailsForAuthenticatedUser","listPublicKeysForUser","listPublicSshKeysForAuthenticated","listPublicSshKeysForAuthenticatedUser","listSocialAccountsForAuthenticatedUser","listSocialAccountsForUser","listSshSigningKeysForAuthenticatedUser","listSshSigningKeysForUser","setPrimaryEmailVisibilityForAuthenticated","setPrimaryEmailVisibilityForAuthenticatedUser","unblock","unfollow","updateAuthenticated","restEndpointMethods","rest","errorRequest","doNotRetry","retryAfter","pow","retryCount","retry","retryRequest","wrapRequest","limiter","maxRetries","after","retryAfterBaseValue","schedule","requestWithGraphqlErrorHandling","enabled","retryLimiter","doRequest","isAuth","isAuthRequest","isWrite","isSearch","isGraphQL","jobOptions","priority","weight","clustering","write","triggersNotification","notifications","req","global","res","some","regex2","groups","createGroups","Bottleneck","Group","maxConcurrent","minTime","throttling","timeout","connection","throttle","fallbackSecondaryRateRetryAfter","onSecondaryRateLimit","onRateLimit","events","emitter","Events","state2","wantRetry","retryAfter2","trigger","error2","rateLimitReset","max","ceil","statusCode","isNaN","requestCopy","defaults_default","fetchWrapper","fetch","globalThis","parseSuccessResponseBody","requestHeaders","String","fetchResponse","redirect","signal","duplex","cause","requestError","responseHeaders","deprecationLink","pop","sunset","statusText","getResponseData","ArrayBuffer","suffix","documentation_url","v","toErrorMessage","contentType","mimetype","safeParse","isJSONResponse","charset","arrayBuffer","err","oldEndpoint","endpointOptions","route2","parameters2","sign","TypeError","algorithm","createHmac","digest","verify","eventPayload","signature","signatureBuffer","from","verificationBuffer","timingSafeEqual","verifyWithFallback","additionalSecrets","s","emitterEventNames","handleEventHandlers","webhookName","hooks","receiverOn","webhookNameOrNames","receiverOnAny","receiverOnError","wrapErrorHandler","returnValue","receiverHandle","errorHandlers","AggregateError","eventPayloadAction","unshift","getHooks","promises","event2","all","removeListener","splice","createEventHandler","onAny","onError","receive","verifyAndReceive","isApplicationJsonRE","WEBHOOK_HEADERS","createMiddleware","handleResponse","handleResponse3","getRequestHeader","getRequestHeader3","getPayload","getPayload3","missingHeaders","header","didTimeout","timeoutPromise","race","clearTimeout","errorMessage","processWebhook","textDecoder","TextDecoder","fatal","decode","rawBody","Uint8Array","totalLength","offset","concatUint8Array","queueMicrotask","getPayloadFromRequestStream","bindable","bindApi","removeHookRef","removeHook","apply","api","remove","kind","addHook","Singular","singularHookName","singularHookState","registry","singularHook","register","orig","result_","reverse","registered","module","exports","SqliteError","getBooleanOption","cppdb","start","step","getFunctionOption","inverse","safeIntegers","deterministic","directOnly","argCount","getLength","RangeError","aggregate","required","isInteger","fs","promisify","fsAccess","access","filename","trim","attachedName","attached","progress","dirname","isNewFile","runBackup","backup","rate","useDefault","setImmediate","remainingPages","close","ret","undefined","min","round","fn","function","DatabaseInspection","depth","opts","source","simple","stmt","prepare","pluck","serialize","parseTableDefinition","def","verb","moduleName","rows","GeneratorFunctionPrototype","columns","every","x","Set","size","params","inferParameters","parameter","bool","identifier","wrapGenerator","generator","columnMap","output","isBuffer","row","extractRowArray","extractRowObject","columnCount","count","eponymous","defer","databaseName","tableName","thisObject","database","table","wrapFactory","controllers","WeakMap","db","controller","getController","properties","default","wrapTransaction","deferred","immediate","exclusive","defineProperties","self","shared","commit","rollback","savepoint","release","rollbackTo","begin","undo","inTransaction","run","arguments","ex","sql","loadExtension","defaultSafeIntegers","unsafeMode","getters","open","readonly","memory","setPrototypeOf","inspect","for","DLList$1","Events$1","commonjsGlobal","window","parser","load","received","onto","ref","overwrite","DLList_1","incr","decr","_first","_last","node","prev","shift","first","getArray","forEachShift","cb","ref1","ref2","Events_1","instance","_events","once","removeAllListeners","_addListener","listenerCount","listener","returned","find","BottleneckError$1","Job","parser$1","Queues_1","num_priorities","_length","_lists","j","job","queued","shiftAll","getFirst","arr","len","shiftLastFrom","BottleneckError_1","task","jobDefaults","rejectOnDrop","_states","_sanitizePriority","_randomIndex","_resolve","_reject","sProperty","NUM_PRIORITIES","doDrop","_assertStatus","expected","jobStatus","doReceive","doQueue","reachedHWM","blocked","doRun","doExecute","chained","clearGlobalState","free","eventInfo","passed","doDone","error1","_onFailure","doExpire","BottleneckError$2","parser$2","Job_1","BottleneckError$3","LocalDatastore_1","storeOptions","storeInstanceOptions","_nextRequest","_lastReservoirRefresh","_lastReservoirIncrease","_running","_done","_unblockTime","ready","clients","_startHeartbeat","heartbeat","reservoirRefreshInterval","reservoirRefreshAmount","reservoirIncreaseInterval","reservoirIncreaseAmount","setInterval","amount","maximum","reservoir","_drainAll","computeCapacity","reservoirIncreaseMaximum","heartbeatInterval","unref","clearInterval","__publish__","yieldLoop","__disconnect__","flush","t","computePenalty","penalty","__updateSettings__","__running__","__queued__","__done__","__groupCheck__","time","conditionsCheck","capacity","__incrementReservoir__","__currentReservoir__","isBlocked","check","__check__","__register__","success","strategyIsBlock","strategy","__submit__","queueLength","highWater","_dropAllQueued","__free__","running","DLList$2","States_1","status1","_jobs","counts","statusJobs","pos","statusCounts","acc","Events$2","IORedisConnection$1","RedisConnection$1","Scripts$1","parser$3","Sync_1","_queue","isEmpty","_tryToRun","version","version$1","version$2","freeze","require$$2","require$$3","Events$3","parser$4","Group_1","limiterOptions","deleteKey","instances","Bottleneck_1","_startAutoCleanup","sharedConnection","datastore","deleted","__runCommand__","allKeys","disconnect","limiters","clusterKeys","found","_store","updateSettings","n","Events$4","Job$1","LocalDatastore$1","Queues$1","RedisDatastore$1","States$1","Sync$1","parser$5","Batcher_1","Batcher","_arr","_resetPromise","_lastFlush","_promise","rej","_flush","_timeout","add","maxSize","maxTime","require$$8","_addToQueue","_validateOptions","instanceDefaults","_queues","_scheduled","trackDoneStatus","_limiter","_submitLock","_registerLock","storeDefaults","redisStoreDefaults","localStoreDefaults","BottleneckError","channel","channel_client","publish","chain","clusterQueued","empty","jobs","_clearGlobalState","_free","_run","_drainOne","queue","total","drained","newCapacity","stop","waitForExecuting","stopDefaults","at","finished","dropWaitingJobs","dropErrorMessage","NUM_PRIORITIES$1","_receive","enqueueErrorMessage","shifted","LEAK","OVERFLOW_PRIORITY","OVERFLOW","submit","wrapped","withOptions","currentReservoir","incrementReservoir","BLOCK","RedisConnection","IORedisConnection","clientTimeout","Redis","clientOptions","clusterNodes","clearDatastore","spawn","updateExe","process","execPath","detached","platform","cmd","argv","basename","quit","storage","env","DEBUG","formatArgs","useColors","namespace","humanize","color","lastC","save","namespaces","removeItem","document","documentElement","style","WebkitAppearance","firebug","exception","navigator","$1","chrome","local","localStorage","localstorage","colors","formatters","enable","prevTime","createDebug","curr","ms","coerce","formatter","val","hash","abs","selectColor","init","stack","disable","skips","tty","util","inspectOpts","stream","prefix","toUTCString","isatty","fd","prop","DEBUG_FD","deprecate","stdout","stderr","binding","guessHandleType","WriteStream","_type","_handle","SyncWriteStream","autoClose","Socket","readable","read","_isStdio","createWritableStdioStream","o","O","m","h","d","y","plural","parseFloat","long","fmtShort","NullObject","paramRE","quotedPairRE","mediaTypeRE","defaultContentType","lastIndex","DataFile","TextFile","DataFileSync","TextFileSync","JSONFile","JSONFileSync","Writer","readFile","f","readFileSync","writeFileSync","renameSync","checkArgs","adapter","defaultData","Low","LowSync","moduleFactory","IS_WORKER","postMessage","IS_PAPA_WORKER","workers","workerIdCounter","Papa","_input","_config","dynamicTyping","isFunction","dynamicTypingFunction","worker","WORKERS_SUPPORTED","w","workerUrl","webkitURL","BLOB_URL","createObjectURL","Blob","getWorkerBlob","Worker","onmessage","mainThreadReceivedMessage","newWorker","userStep","userChunk","userComplete","complete","userError","input","config","workerId","streamer","NODE_STREAM_INPUT","PAPA_BROWSER_CONTEXT","DuplexStreamStreamer","getStream","download","NetworkStreamer","StringStreamer","ReadableStreamStreamer","File","FileStreamer","_quotes","_writeHeader","_delimiter","_newline","_quoteChar","_escapedQuote","_skipEmptyLines","_columns","_escapeFormulae","delimiter","BAD_DELIMITERS","quotes","skipEmptyLines","newline","quoteChar","escapeChar","escapeFormulae","unpackConfig","quoteCharRegex","escapeRegExp","fields","csv","hasHeader","dataKeyedByField","safe","maxCol","emptyLine","nullLine","line","cx","col","colIdx","needsQuotes","escapedQuoteStr","substrings","hasAny","RECORD_SEP","fromCharCode","UNIT_SEP","BYTE_ORDER_MARK","LocalChunkSize","RemoteChunkSize","DefaultDelimiter","Parser","ParserHandle","jQuery","$","each","idx","attr","FileReader","files","file","inputElem","instanceConfig","extend","parseNextFile","elem","fileComplete","userCompleteFunc","ChunkStreamer","_finished","_completed","_halted","_baseIndex","_partialLine","_rowCount","_start","_nextChunk","isFirstChunk","_completeResults","configCopy","copy","chunkSize","parseChunk","isFakeChunk","skipFirstNLines","guessLineEndings","splitChunk","beforeFirstChunk","modifiedChunk","paused","aborted","finishedIncludingPreview","WORKER_ID","_sendError","xhr","_readChunk","_chunkLoaded","XMLHttpRequest","withCredentials","onload","bindFunction","onerror","_chunkError","downloadRequestBody","downloadRequestHeaders","headerName","setRequestHeader","send","readyState","responseText","contentRange","getResponseHeader","lastIndexOf","getFileSize","errorText","reader","usingAsyncReader","webkitSlice","mozSlice","FileReaderSync","txt","readAsText","encoding","remaining","parseOnData","streamHasEnded","pause","resume","_streamData","_streamEnd","_streamError","_checkIsFinished","_streamCleanUp","Duplex","parseOnWrite","writeStreamHasFinished","parseCallbackQueue","_onCsvData","_onCsvComplete","_addToParseQueue","_onRead","_onWrite","_onWriteComplete","readableObjectMode","decodeStrings","_parser","_delimiterError","MAX_FLOAT","MIN_FLOAT","FLOAT","ISO_DATE","_stepCounter","_rowCounter","_paused","_aborted","_fields","_results","needsHeaderRow","processResults","abort","testEmptyLine","addError","addHeader","transformHeader","fillHeaderFields","processRow","rowSource","field","parseDynamic","incrementBy","applyHeaderAndDynamicTypingAndTransformation","shouldApplyDynamicTyping","floatValue","testFloat","msg","baseIndex","ignoreLastRow","delimGuess","comments","delimitersToGuess","bestDelim","bestDelta","fieldCountPrevRow","maxFieldCount","delim","delta","avgFieldCount","emptyLinesCount","fieldCount","successful","bestDelimiter","guessDelimiter","parserConfig","getCharIndex","re","nAppearsFirst","numWithN","fastMode","renamedHeaders","headerParsed","inputLen","delimLen","newlineLen","commentsLen","stepIsFunction","lastCursor","returnable","pushRow","doStep","nextDelim","nextNewline","quoteSearch","saveRow","finish","spacesBetweenQuoteAndDelimiter","extraSpaces","spacesBetweenQuoteAndNewLine","spaceLength","textBetweenClosingQuoteAndIndex","newCursor","stopped","headerCount","usedHeaders","duplicateHeaders","newHeader","suffixCount","linebreak","truncated","handle","completeWorker","notImplemented","terminate","cpy","func","define","amd","ANY","Comparator","comp","parseOptions","loose","semver","COMPARATORLOOSE","COMPARATOR","SemVer","er","cmp","intersects","Range","includePrerelease","safeRe","SPACE_CHARACTERS","range","raw","formatted","parseRange","isNullSet","isAny","comps","memoKey","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","cached","hr","HYPHENRANGELOOSE","HYPHENRANGE","hyphenReplace","COMPARATORTRIM","comparatorTrimReplace","TILDETRIM","tildeTrimReplace","CARETTRIM","caretTrimReplace","rangeList","parseComparator","replaceGTE0","rangeMap","comparators","thisComparators","isSatisfiable","rangeComparators","thisComparator","rangeComparator","testSet","remainingComparators","testComparator","otherComparator","BUILD","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","replaceTilde","TILDELOOSE","TILDE","M","pr","replaceCaret","CARETLOOSE","CARET","z","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","prerelease","allowed","major","minor","patch","MAX_LENGTH","MAX_SAFE_INTEGER","compareIdentifiers","LOOSE","FULL","num","build","compare","other","compareMain","comparePre","compareBuild","inc","identifierBase","PRERELEASELOOSE","PRERELEASE","eq","neq","gt","gte","lt","lte","op","rtl","coerceRtlRegex","COERCERTLFULL","COERCERTL","COERCEFULL","COERCE","versionA","versionB","version1","version2","v1","v2","comparison","v1Higher","highVersion","lowVersion","highHasPre","throwErrors","parsed","internalRe","constants","identifiers","valid","clean","rcompare","compareLoose","rsort","satisfies","toComparators","maxSatisfying","minSatisfying","minVersion","validRange","outside","gtr","ltr","simplifyRange","subset","src","tokens","SEMVER_SPEC_VERSION","RELEASE_TYPES","rcompareIdentifiers","MAX_SAFE_COMPONENT_LENGTH","MAX_SAFE_BUILD_LENGTH","NODE_DEBUG","numeric","anum","bnum","firstKey","looseOption","emptyOpts","safeSrc","R","LETTERDASHNUMBER","safeRegexReplacements","isGlobal","makeSafeRegex","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","FULLPLAIN","MAINVERSIONLOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCEPLAIN","LONETILDE","LONECARET","r1","r2","versions","maxSV","rangeObj","minSV","minver","setMin","comparator","compver","hilo","gtfn","ltefn","ltfn","ecomp","high","low","ranges","simplified","original","minimumVersionWithPreRelease","minimumVersion","simpleSubset","sub","dom","eqSet","gtltComp","higher","lower","hasDomLT","hasDomGT","higherGT","lowerLT","needDomLTPre","needDomGTPre","sawNonNull","OUTER","simpleSub","simpleDom","isSub","writeFile","delayMs","retryAsyncOperation","rename","nextData","fileURLToPath","getTempFilename","LruObject","ttlInMsecs","items","last","ttl","bumpLru","item","clear","deleteMany","evict","expiry","getMany","githubAppJwt","privateKeyWithNewlines","nowWithSafetyMargin","iat","exp","iss","convertPrivateKey","isPkcs1","createPrivateKey","export","convertedPrivateKey","isOpenSsh","privateKeyDER","getDERfromPEM","importedKey","subtle","importKey","encodedMessage","getEncodedMessage","alg","typ","encodedMessageArrBuf","string2ArrayBuffer","signatureArrBuf","base64encode","buf","bufView","strLen","pem","pemB64","atob","base64encodeJSON","buffer","binary","bytes","byteLength","fromBase64","base64","arch","v4","uuid","byteToHex","bth","crypto","randomBytes","_nodeId","_clockseq","rng","bytesToUuid","_lastMSecs","_lastNSecs","clockseq","seedBytes","msecs","nsecs","dt","tl","tmh","rnds","ii","psService","moduleRegistry","environmentDetectionService","mockLogicEngineService","logicEngineService","projectService","dashboardService","profileService","decisionTraceService","consolidationEngine","configService","licenseService","updateService","windowManager","eventListeners","setWindow","cleanup","onClosed","getWindow","isDestroyed","hasWindow","getMainWindow","hasMainWindow","configPath","cwd","appConfig","saveConfig","recursive","sanitizePath","filePath","normalized","registerIpcHandlers","setMainWindow","baseDir","PowerShellExecutionService","maxPoolSize","minPoolSize","sessionTimeout","queueSize","enableModuleCaching","defaultTimeout","scriptsBaseDir","initialize","registryPath","loadRegistry","MockLogicEngineService","getInstance","defaultDataRoot","LogicEngineService","ProjectService","DashboardService","ProfileService","FileSystemService","activeProfile","getCurrentProfile","companyName","dataPath","getCompanyDataPath","rawPath","loadAllAsync","configData","ConfigService","LicenseService","UpdateService","initializeServices","win","webContents","ipcMain","scriptPath","executeScript","script","startTime","executeRawCommand","duration","warnings","modulePath","functionName","executeModule","executeDiscoveryModule","additionalParams","cancelExecution","getStatistics","discoverModules","scripts","executeParallel","backoff","executeWithRetry","category","getModulesByCategory","getAllModules","moduleId","getModule","searchModules","sanitized","content","dirPath","pattern","stats","isFile","isDirectory","mtime","atime","ctime","lines","statusPath","exists","isSymbolicLink","created","birthtime","modified","accessed","profiles","getProfiles","profileIdOrData","profileId","CredentialService","credService","testConnection","decryptionSuccess","connectionSuccess","details","connectionType","hasCredentials","hasSecret","deleteCredential","profile","newProfile","createProfile","updates","existing","updatedProfile","updateProfile","deleteProfile","setCurrentProfile","refreshProfiles","sourceProfiles","getSourceProfiles","creds","getCredential","ok","tenantId","password","username","domain","storeCredential","hasCredential","licenseKey","activateLicense","licenseInfo","getLicenseInfo","isValid","isLicenseValid","getLicenseDetails","featureId","hasFeature","customerId","getCustomerId","deactivateLicense","refreshLicense","updateInfo","checkForUpdates","downloadUpdate","installerPath","mode","applyUpdate","history","getUpdateHistory","setAutoUpdateEnabled","npm_package_version","shell","openExternal","dialog","showOpenDialog","canceled","filePaths","showSaveDialog","minimize","isMaximized","unmaximize","maximize","restore","detectEnvironment","endTime","detectedEnvironment","detectedServices","recommendations","totalServicesFound","confidence","timestamp","serviceType","provider","validateCredentials","detectionId","cancelDetection","activeDetections","totalDetectionsRun","getFileWatcherService","fileWatcher","watchProfile","stopWatching","stopAll","getWatchedFiles","activeWatchers","watchedDirectories","totalEvents","eventsByType","added","changed","profilePath","progressHandler","loadedHandler","errorHandler","statistics","userId","projection","buildUserDetailProjection","lastLoadTime","getLastLoadTime","isLoading","getIsLoading","profileName","getStats","getProjectTimeline","getSystemHealth","limit","getRecentActivity","alertId","acknowledgeAlert","analyzeMigrationComplexity","userIds","batchAnalyzeMigrationComplexity","resultsObj","getComplexityStatistics","getAllUsers","getAllGroups","devices","getAllDevices","getAllApplications","getAllMailboxes","loadProjectConfig","saveProjectConfig","updateProjectStatus","wave","addMigrationWave","waveId","updateWaveStatus","userDetail","getUserDetailAsync","clearUserDetailCache","fileName","downloadsPath","USERPROFILE","HOME","exportPath","escapeCSV","user","displayName","userPrincipalName","mail","department","jobTitle","group","device","azureRoles","role","roleName","risks","risk","severity","description","convertUserDetailToCSV","computerId","mockComputerDetailService","computerDetail","getComputerDetailAsync","clearComputerDetailCache","computer","dns","os","software","convertComputerDetailToCSV","groupId","mockGroupDetailService","groupDetail","getGroupDetailAsync","clearGroupDetailCache","groupType","email","members","member","owners","owner","permission","resourceName","accessLevel","applications","applicationName","convertGroupDetailToCSV","memberIds","configuration","executionId","executionOptions","providedCompanyName","execId","execution","outputListeners","onOutputStream","level","onErrorStream","onWarningStream","onVerboseStream","onDebugStream","onInformationStream","off","domainCreds","getDomainCredentialsDecrypted","enhancedParameters","domainCredentials","cancellationToken","streamOutput","showWindow","outputPath","completionWin","psData","normalizedResult","totalItems","RecordCount","recordCount","Success","errorWin","allModules","modules","moduleInfo","operationId","backups","backupFilePath","migrationArgs","runId","executionArgs","registerMigrationHandlers","registerInventoryHandlers","registerMigrationWaveHandlers","registerAppRegistrationHandlers","registerTargetProfileHandlers","registerConnectionTestHandlers","registerMigrationPlanningHandlers","registerModuleDiscoveryHandlers","registerDataExportImportHandlers","registerErrorMonitoringHandlers","registerLoggingHandlers","initializeLogging","registerAdvancedIpcHandlers","registerApplicationFactSheetHandlers","registerEnterpriseSystemsHandlers","sourceProfileId","getProfileById","DISCOVERY_DATA_PATH","catalogPath","appsPath","Name","ApplicationName","sourceFile","webhookId","webhookService","shutdownIpcHandlers","shutdown","discoveryPaths","csvFiles","scanDirectory","dir","fullPath","stat","lowerFile","discoveryPath","DecisionTraceService","trace","appendTrace","traceId","traces","queryTraces","totalTraces","discoveryDataPath","ConsolidationEngine","setProfileId","consolidate","entities","relationships","timeMs","processingTimeMs","initialized","userDataPath","getPath","getDefaultConfig","ensureInitialized","getAll","reset","mkdir","theme","language","powerShell","executionTimeout","discovery","maxConcurrentOperations","ui","enableAnimations","compactMode","showSystemStatus","logging","maxLogFiles","maxLogSize","license","machineId","activatedAt","features","currentVersion","autoUpdateEnabled","lastCheckTime","performance","discoverCSVFiles","recordsByType","parseCSVFiles","totalRecords","sum","records","createCanonicalEntities","mergedEntities","mergeCount","performIdentityMatching","inferRelationships","conflictCount","detectConflicts","traceConsolidationRun","entitiesCreated","entitiesMerged","relationshipsInferred","conflictsDetected","inputFiles","recordsProcessed","withFileTypes","entry","sourceSystem","entityType","inferFileType","dirName","USER","GROUP","APPLICATION","INFRASTRUCTURE","csvFile","parseCSVLine","inQuotes","char","record","sourceRef","rowId","observedAt","entity","createCanonicalEntity","DisplayName","UserPrincipalName","ComputerName","GroupName","externalIds","rec","system","ObjectId","Id","SID","GUID","tenantOrDomain","Domain","TenantId","provenance","sources","sourceRecordRefs","lastObservedAt","attributes","extractUserAttributes","extractGroupAttributes","extractApplicationAttributes","extractInfrastructureAttributes","updatedAt","UPN","Mail","Email","PrimarySmtpAddress","firstName","GivenName","FirstName","lastName","Surname","LastName","Department","JobTitle","Title","manager","Manager","ManagerDisplayName","accountEnabled","AccountEnabled","Enabled","GroupType","Type","Scope","GroupScope","Description","memberCount","MemberCount","isSecurityEnabled","IsSecurityEnabled","SecurityEnabled","isMailEnabled","IsMailEnabled","MailEnabled","publisher","Publisher","Vendor","Version","Category","criticality","Criticality","complexity","Complexity","computerName","DeviceName","OperatingSystem","OS","osVersion","OSVersion","manufacturer","Manufacturer","model","Model","serialNumber","SerialNumber","ipAddress","IPAddress","IP","processedIds","arePotentialMatches","matchResult","calculateIdentityMatch","mergedEntity","mergeEntities","traceIdentityMatch","externalId","recordRef","evidence","traceEntityMerge","entity1","entity2","id1","id2","upn1","upn2","email1","email2","potentialMatches","totalConfidence","evidenceCount","createFieldMatchEvidence","matchedRecords","primaryEntity","otherEntities","allEntities","extId","flatMap","mergedAttributes","entityByUPN","entityByName","entityByExtId","upn","sourceEntity","GroupMemberships","g","groupName","groupEntity","rel","createRelationship","createMembershipEvidence","AssignedDevices","deviceName","deviceEntity","createOwnershipEvidence","InstalledApplications","appName","appEntity","createAccessEvidence","fromEntity","toEntity","relationType","sourceRefs","relationId","relation","fromEntityId","toEntityId","inferred","rationale","isActive","traceRelationshipInferred","conflicts","credentialsPath","store","safeStorage","isEncryptionAvailable","encryptedData","decryptedData","decryptString","encryptedPassword","encryptString","clearCachedCredential","hadCached","envCreds","getCredentialsFromEnv","legacyCreds","loadLegacyCredentials","ClientId","ClientSecret","cachedCred","credential","encryptedBuffer","lastUsed","AZURE_TENANT_ID","AZURE_CLIENT_ID","AZURE_CLIENT_SECRET","legacyPath","Encrypted","decryptedSecret","decryptStringWithPowerShell","jsonError","decryptLegacyCredentialsDPAPI","validateCredentialFile","hasBOM","encryptedString","child","executePowerShellDecryption","trimmedOutput","validation","escapedPath","decryptionScripts","approach","migrateLegacyCredentials","missing","backupPath","copyFile","backupError","listProfiles","clearAll","validateCredentialStructure","readCredentialsFromFile","fsSync","execSync","credentialsDir","summaryPath","existsSync","summaryContent","summary","encryptedContent","decryptedJson","decryptedCreds","decryptErr","fileCreds","freshCreds","testResult","testGraphAPIConnection","expiresIn","tokenUrl","URLSearchParams","errorJson","tokenData","logicEngine","statsCache","cacheTimeout","totalUsers","getUserCount","totalGroups","getGroupCount","totalComputers","getDeviceCount","totalInfrastructure","getInfrastructureCount","discoveredUsers","getDiscoveredUserCount","discoveredGroups","getDiscoveredGroupCount","discoveredComputers","getDiscoveredDeviceCount","discoveredApplications","getApplicationCount","migratedUsers","getMigratedUserCount","migratedGroups","getMigratedGroupCount","pendingMigrationUsers","getPendingMigrationUserCount","pendingMigrationGroups","getPendingMigrationGroupCount","lastDiscoveryRun","getLastDiscoveryRun","lastMigrationRun","getLastMigrationRun","lastDataRefresh","dataSource","projectConfig","cutoverDate","targetCutover","startDate","upcomingWaves","waves","scheduledDate","nextWaveDate","daysToCutover","calculateDaysDifference","daysToNextWave","daysElapsed","completedWaves","activeWaveIndex","findIndex","phaseProgress","calculatePhaseProgress","currentPhase","estimatedDuration","waveProgress","calculateWaveProgress","overallProgress","projectId","projectName","projectDescription","projectStartDate","nextWave","totalWaves","activeWave","estimatedCompletionDate","calculateEstimatedCompletion","logicEngineStatus","checkLogicEngineStatus","powerShellStatus","checkPowerShellStatus","fileSystemStatus","checkFileSystemStatus","networkStatus","lastCheck","responseTimeMs","memoryUsage","avgResponseTime","dataFreshnessMinutes","getDataFreshness","avgResponseTimeMs","memoryUsageMB","heapUsed","cpuUsagePercent","lastErrorCount","activeAlerts","logPath","mapActivityType","title","extractActivityTitle","actionUrl","getActivityActionUrl","userCount","groupCount","completedAt","responseTime","lastDiscovery","lastDiscoveryDate","diffMs","diffTime","phase","_daysElapsed","_estimatedDuration","Discovery","Planning","Migration","Validation","Cutover","Complete","estimatedDays","DISCOVERY","MIGRATION","VALIDATION","CONFIG","CONFIGURATION","ERROR","SYSTEM","firstSentence","invalidateCache","createDecisionTrace","occurredAt","actor","subject","entityId","inputs","policy","policyId","policyVersion","rule","policyRule","precedent","precedentTraceIds","traceIds","note","precedentNote","decision","outcomes","entityVersionBumps","relationVersionBumps","snapshotHash","relations","merged","matchedSources","identitySources","canonicalEntityId","primaryEntityId","mergedEntityIds","separateEntities","mergedIntoEntity","detail","relationship","value1","source1","source2","ownerField","ownerValue","accessType","dbPath","tracesDir","pragma","createSchema","transaction","evidenceStmt","inputStmt","actorType","actorId","endDate","trace_json","whereClause","totalRow","kindRows","actorRows","dateRow","byKind","byActor","actor_type","dateRange","earliest","latest","EnvironmentDetectionService","EventEmitter","generateDetectionId","emit","detections","allSettled","detectAzure","detectAzureEnvironment","detectOnPremises","detectOnPremisesEnvironment","detectAWS","detectAWSEnvironment","detectGCP","detectGCPEnvironment","allServices","allErrors","detection","services","detected","determineEnvironmentType","calculateConfidence","generateRecommendations","emitProgress","azureAdResult","azureAdData","Connected","capabilities","available","HasPremium","requiresLicense","licenseType","exchangeResult","exchangeData","Endpoint","HasATP","sharepointResult","sharepointData","AdminUrl","HasAdvancedDLP","teamsResult","teamsData","HasPhoneSystem","adResult","adData","ForestFunctionalLevel","DomainController","SupportsFGPP","exchangeOnPremResult","exchangeOnPremData","Server","HasDAG","sharepointOnPremResult","sharepointOnPremData","WebApplication","IsHybrid","awsResult","awsAccessKey","awsSecretKey","awsData","Region","HasSSO","gcpResult","gcpProjectId","gcpServiceAccountKey","gcpData","ProjectId","hasAzure","hasOnPrem","hasAWS","hasGCP","totalAttempted","successfulDetections","environmentType","hasAzureAD","hasAD","impact","effort","steps","relatedServices","accessKey","secretKey","serviceAccountKey","validationData","Valid","Message","percentage","currentLicense","generateMachineId","loadLicense","validateKeyFormat","metadata","decodeLicenseKey","verifyChecksum","checksum","encryptedKey","encryptedKeyB64","daysRemaining","parts","expiryTimestamp","featureFlags","decodeFeatureFlags","flags","expectedChecksum","dataToHash","createHash","verifyOnline","dataRoot","fuzzyConfig","memoryCache","fileLoadTimes","usersBySid","usersByUpn","groupsBySid","membersByGroupSid","groupsByUserSid","devicesByName","devicesByPrimaryUserSid","appsById","appsByDevice","aclByIdentitySid","drivesByUserSid","gposByGuid","gposBySidFilter","gposByOu","mailboxByUpn","rolesByPrincipalId","sqlDbsByKey","fileSharesByPath","threatsByThreatId","threatsByAsset","threatsByCategory","threatsBySeverity","governanceByAssetId","governanceByOwner","governanceByCompliance","lineageByLineageId","lineageBySourceAsset","lineageByTargetAsset","externalIdentitiesById","externalIdentitiesByUpn","externalIdentitiesByProvider","externalIdentitiesByMappingStatus","servicePrincipalsById","directoryRolesById","sharePointSitesById","teamsById","tenantsById","applicationSecretsById","nodes","edges","entityRelationships","entityMetadata","appliedInferenceRules","lastLoadStats","LevenshteinThreshold","JaroWinklerThreshold","SoundexEnabled","MetaphoneEnabled","BigramAnalysisEnabled","forceReload","stage","checkForFileChanges","clearDataStores","loadTasks","loadUsersStreamingAsync","loadGroupsStreamingAsync","loadDevicesStreamingAsync","loadApplicationsStreamingAsync","loadGposStreamingAsync","loadAclsStreamingAsync","loadMappedDrivesStreamingAsync","loadMailboxesStreamingAsync","loadAzureRolesStreamingAsync","loadSqlDatabasesStreamingAsync","loadThreatDetectionStreamingAsync","loadDataGovernanceStreamingAsync","loadDataLineageStreamingAsync","loadExternalIdentitiesStreamingAsync","buildIndicesAsync","applyInferenceRulesAsync","UserCount","GroupCount","DeviceCount","AppCount","GpoCount","AclEntryCount","MappedDriveCount","MailboxCount","AzureRoleCount","SqlDbCount","ThreatCount","GovernanceAssetCount","LineageFlowCount","ExternalIdentityCount","InferenceRulesApplied","FuzzyMatchesFound","getFuzzyMatchCount","LoadDuration","LoadTimestamp","Statistics","AppliedInferenceRules","getGroupsForUser","Sid","getDevicesForUser","getAppsForUser","drives","shares","getSharesForUser","gpoLinks","getGpoLinksForUser","gpoFilters","getGpoFiltersForUser","mailbox","AzureObjectId","sqlDatabases","getSqlDatabasesForUser","calculateRisksForUser","migrationHints","generateMigrationHintsForUser","threats","getThreatsForAsset","governanceIssues","getGovernanceForAsset","dataLineage","getLineageForAsset","externalIdentities","getExternalIdentitiesForUser","User","Groups","Devices","Apps","Drives","Shares","GpoLinks","GpoFilters","Mailbox","AzureRoles","SqlDatabases","Risks","MigrationHints","MemberOfGroups","Dn","ManagedGroups","ManagedBy","ManagerUpn","OwnedGroups","Threats","GovernanceIssues","DataLineage","ExternalIdentities","patterns","glob","nocase","uniqueFilePaths","parseUserFromCsv","sam","Sam","SamAccountName","SAMAccountName","OnPremisesSamAccountName","sid","ObjectSid","EmailAddress","OU","OrganizationalUnit","ManagerSid","ManagerId","Dept","DiscoveryTimestamp","DiscoveryModule","_DiscoveryModule","SessionId","_SessionId","generateSessionId","DN","DistinguishedName","parseGroupFromCsv","Alias","CN","Members","SampleMembers","nestedGroups","NestedGroups","parseDeviceFromCsv","DNSHostName","installedApps","InstalledApps","InstalledSoftware","DNS","FQDN","PrimaryUserSid","PrimaryUser","LastLoggedOnUser","parseApplicationFromCsv","AppId","executables","Executables","publishers","Publishers","Source","InstallSource","InstallCounts","InstallCount","gpo","parseGpoFromCsv","Guid","guid","links","Links","l","SecurityFilter","WmiFilter","WMIFilter","acl","parseAclFromCsv","identityAcls","IdentitySid","aclPath","Path","FilePath","SharePath","identitySid","Identity","UserSid","Rights","Permissions","AccessRights","Inherited","IsShare","IsNTFS","drive","parseMappedDriveFromCsv","userDrives","userSid","UserSID","letter","Letter","DriveLetter","unc","UNC","UNCPath","NetworkPath","Label","DriveLabel","parseMailboxFromCsv","MailboxGuid","MailboxGUID","SizeMB","MailboxSize","MailboxType","EffectiveUPN","parseAzureRoleFromCsv","principalRoles","PrincipalObjectId","principalObjectId","PrincipalId","RoleName","Role","RoleScope","parseSqlDbFromCsv","Database","server","ServerName","DatabaseName","DB","Owners","appHints","AppHints","Instance","InstanceName","threat","parseThreatFromCsv","ThreatId","threatId","threatName","ThreatName","affectedAssets","AffectedAssets","iocs","IndicatorsOfCompromise","threatDetails","ThreatDetails","Severity","Confidence","MitreAttackId","MitreTactic","MitreTechnique","DetectionTimestamp","DetectionSource","ThreatScore","governance","parseGovernanceFromCsv","AssetId","assetId","assetName","AssetName","retentionPolicies","RetentionPolicies","complianceFrameworks","ComplianceFrameworks","violations","ViolationsFound","Metadata","AssetType","Classification","Owner","Custodian","HasPersonalData","HasSensitiveData","LastAuditDate","ComplianceStatus","ComplianceScore","RiskLevel","GovernanceRisk","lineage","parseLineageFromCsv","LineageId","lineageId","sourceAssetId","SourceAssetId","targetAssetId","TargetAssetId","Target","transformationSteps","TransformationSteps","dependencies","Dependencies","Issues","flowMetadata","FlowMetadata","SourceAssetName","SourceAssetType","TargetAssetName","TargetAssetType","TransformationType","DataFlow","IsOrphaned","HasBrokenLinks","LastValidated","LineageRisk","identity","parseExternalIdentityFromCsv","ExternalIdentityId","ExternalUserEmail","externalProvider","ExternalProvider","Provider","externalUserId","ExternalUserId","UserId","assignedRoles","AssignedRoles","syncErrors","SyncErrors","ExternalDisplayName","InternalUserSid","MappedUserSid","MappingStatus","MappingConfidence","LastSynchronized","IdentityRisk","applyAclGroupUserInference","aclExpansionCount","memberSid","memberAcls","derivedEntry","nestedGroupSid","applyPrimaryDeviceInference","primaryDeviceAssignments","userNodeId","deviceNodeId","SourceId","TargetId","EdgeType","applyGpoSecurityFilterInference","gpoFilterCount","filterSid","userGpos","ou","ouGpos","applyApplicationUsageInference","appUsageLinks","fuzzyMatchApplication","appNodeId","HasApp","Properties","via","applyAzureRoleInference","linkedRolesCount","azureUserMappings","roles","roleNodeId","NodeType","AssignedRole","applySqlOwnershipInference","ownershipLinks","sqlDb","ownerSid","dbNodeId","Db","OwnsDb","viaGroup","applyThreatAssetCorrelationInference","threatCorrelations","assetThreats","threatNodeId","Threat","Threatens","categoryThreats","severityThreats","applyGovernanceRiskInference","governanceLinks","ownerGovIssues","assetNodeId","DataAsset","classification","HasGovernanceIssue","complianceGovIssues","applyLineageIntegrityInference","lineageLinks","orphanedFlows","brokenLinks","sourceNodeId","targetNodeId","flowNodeId","LineageFlow","transformationType","dataFlow","DataFlowTo","sourceFlows","targetFlows","applyExternalIdentityMappingInference","mappedIdentities","conflictedMappings","mappedUser","fuzzyMatchUser","extIdNodeId","ExternalIdentity","ExternalMapping","providerIds","statusIds","appNameCandidate","bestMatch","bestSimilarity","similarity","calculateLevenshteinSimilarity","searchTerm","searchType","targetValue","s1","s2","len1","len2","matrix","cost","distance","maxLen","groupSid","gpos","databases","missingMappings","EntityId","EntityType","MissingMappings","OrphanedAcls","UnresolvableSidRefs","Recommendation","hints","HintType","RequiredActions","identities","days","cutoffDate","latestTimestamp","score","factors","acls","adminGroups","hasMailbox","hasDevices","hasDrives","teamsOwned","directReports","u","medium","analyzed","generateMockUserDetail","clearAllCache","isLoaded","generateMockUser","generateMockGroups","generateMockDevices","generateMockApplications","generateMockDrives","fileAccess","generateMockFileAccess","generateMockGpos","generateMockMailbox","generateMockAzureRoles","generateMockSqlDatabases","generateMockRisks","generateMockMigrationHints","generateMockTeams","sharepointSites","generateMockSharePointSites","memberOfGroups","managedGroups","managerUpn","managerDisplayName","ownedGroups","totalDevices","totalApplications","totalFileAccess","totalGpos","totalAzureRoles","totalSqlDatabases","totalRisks","highRiskCount","criticalRiskCount","samAccountName","createdDateTime","userSource","country","company","givenName","surname","city","mobilePhone","lastSignInDateTime","groupMembershipCount","assignedLicenses","isPrivileged","passwordExpiryDate","lastLogonDate","createdDate","canEdit","canResetPassword","canToggleAccount","officeLocation","objectType","isSelected","groupTypes","Security","Distribution","Office365","Universal","Global","DomainLocal","objectId","membershipType","MembershipType","Static","lastModified","distinguishedName","managedBy","osList","manufacturers","primaryUserSid","lastSeen","isEnabled","assignmentTypes","deviceCount","installDate","installCount","assignmentType","driveLetter","uncPath","persistent","label","connected","rights","inherited","isShare","isNtfs","appliesTo","gpoNames","randomUUID","wmiFilter","linkedOu","gpoStatus","modifiedDate","mailboxGuid","sizeMb","itemCount","serverName","quotaGB","prohibitSendQuotaGB","issueWarningQuotaGB","lastLogonTime","principalType","assignmentId","roleDefinitionId","createdOn","isInherited","loginType","hasAccess","lastAccessed","recommendation","affectedEntity","detectedAt","remediation","cvssScore","actionRequired","estimatedEffort","teamNames","teamName","teamId","userRole","channelCount","channels","isOneDrive","site","siteName","siteUrl","MockComputerDetailService","generateMockComputerDetail","generateMockComputer","generateMockComputerUsers","generateMockSoftware","hardware","generateMockHardwareSpec","security","generateMockSecurityStatus","network","generateMockNetworkInfo","generateMockComputerGroups","generateMockComputerApps","generateMockComputerRisks","generateMockComputerMigrationHints","overview","softwareCount","networkAdapterCount","adapters","lastBootTime","uptime","primaryUser","assignedUsers","totalSoftware","diskUsagePercentage","freeDiskGB","totalDiskGB","complianceScore","padStart","macAddress","lastLogon","isPrimaryUser","softwareList","installPath","processor","processorCores","processorSpeed","ramGB","diskType","graphicsCard","biosVersion","biosDate","systemType","virtualMachine","hypervisor","antivirusInstalled","antivirusProduct","antivirusUpToDate","antivirusLastUpdate","firewallEnabled","firewallProfile","encryptionEnabled","encryptionType","tpmEnabled","secureBoot","lastPatchDate","patchLevel","complianceStatus","complianceIssues","vulnerabilityCount","criticalVulnerabilityCount","subnet","gateway","dnsServers","dhcpEnabled","dhcpServer","vlan","wifiSSID","networkSpeed","speed","ipAddresses","groupNames","affectedComponent","MockGroupDetailService","generateMockGroupDetail","generateMockGroup","generateMockGroupMembers","generateMockGroupOwners","generateMockGroupPermissions","generateMockGroupApplications","generateMockNestedGroups","policies","generateMockGroupPolicies","generateMockGroupRisks","generateMockGroupMigrationHints","syncStatus","generateMockSyncStatus","ownerCount","permissionCount","applicationCount","nestedGroupCount","notes","isHybrid","isDynamic","dynamicMembershipRule","directMembers","memberType","allMembers","primaryOwner","ownershipType","allOwners","parentGroups","relationshipType","childGroups","totalMembers","totalOwners","totalPermissions","totalNestedGroups","activeMembers","staleMembers","securityScore","addedDate","membershipSource","isDirectMember","assignedDate","isPrimaryOwner","resourceTypes","accessLevels","resourceType","permissionLevel","permissionType","grantedDate","assignedBy","applicationId","grantedBy","isConditionalAccess","isConditional","conditions","nestingLevel","isCircular","policyName","policyGuid","policyType","order","enforced","affectedMembers","affectedResources","isSynced","lastSyncTime","syncSource","deltaChanges","syncEnabled","categories","loaded","customPath","loadPath","registerModule","saveRegistry","savePath","lastUpdated","fullModule","requiredPermissions","tags","categoryModules","existingIndex","unregisterModule","getCategories","validateModuleParameters","param","actualType","minLength","maxLength","enum","applyDefaults","paramsWithDefaults","execOptions","lowerQuery","tag","getModulesByTags","lowerTags","totalModules","enabledModules","disabledModules","PowerShellError","PowerShellSyntaxError","PowerShellRuntimeError","exitCode","PowerShellTimeoutError","sessionPool","requestQueue","activeExecutions","moduleCache","scriptLibrary","cleanupInterval","queuePaused","credentialService","processQueue","cleanupIdleSessions","initPromises","createSession","sessionId","runspaceId","powershellExecutable","childProcess","PSModulePath","stdio","session","executionCount","getAvailableSession","releaseSession","sessionsToRemove","kill","executeScriptWithSession","resolveScriptPath","scriptPathOrName","searchDirs","resolvedPath","pwshArgs","cmdArgs","arg","workingDirectory","environmentVariables","windowsHide","verbose","information","timeoutHandle","parseAndEmitStreams","parseStderrStreams","jsonStartMarker","jsonEndMarker","jsonContent","startIndex","endIndex","debugLogPath","debugContent","parseError","outputData","tempScriptPath","TEMP","ToString","author","Author","CompanyName","exportedCommands","ExportedCommands","batchSize","batchPromises","batchResults","lastError","attempt","isTransientError","delay","command","marker","onStdout","onStderr","errorOutput","commandComplete","cleanOutput","stdin","paramsJson","resultFile","tempScript","fileContent","fileData","hasClientSecret","needsAzureCredentials","configObject","baseOutputPath","rawDataOutput","logsOutput","Paths","RawDataOutput","Logs","discoveryParams","Configuration","Context","idleSessions","busySessions","poolSize","queuedRequests","cacheSize","scriptLibrarySize","totalExecutions","pauseQueue","resumeQueue","clearQueue","getQueueStatus","oldestRequest","requests","waitTime","queueScript","getScriptLibrary","saveScript","storedScript","updateScript","scriptId","updatedScript","deleteScript","getScript","searchScripts","executeFromLibrary","getInstalledModules","importModule","removeModule","isInitialized","profilesPath","dataRootPath","MANDA_DISCOVERY_PATH","ensureData","autoDiscoverProfiles","registerIPCHandlers","importProfile","exportProfile","getProfileStatistics","validateProfile","getConnectionConfig","setConnectionConfig","saveDomainCredentials","clearDomainCredentials","testDomainCredentials","testDomainCredentialsWithValues","getDomainCredentialStatus","getADDomainFromDiscovery","getAzureTenantDomain","getAzureDataFromDiscovery","localeCompare","targetProfile","broadcastProfileChange","profileData","generateId","createProfileDirectories","oldCompanyName","renameProfileDirectory","wasActive","deleteProfileDirectory","importedProfile","counter","domainController","exportData","companyPath","totalDiscoveryRuns","getTotalDiscoveryRuns","dataSizeBytes","getDirectorySize","isValidGuid","passwordPlain","encryptedBase64","encrypted","validationStatus","lastValidated","maskUsername","stored","decryptedPassword","setDomainCredentialValidation","validationError","executePowerShellCredentialTest","errorMsg","repeat","escapedUsername","escapedPassword","jsonMatch","jsonStr","adFiles","domainFile","domainIndex","upnIndex","azureFiles","domainValue","anyAzureFile","tenantIdIndex","companyDirs","hasCSVFiles","createDefaultProfile","profilesDir","profileDirs","normalizedPath","basePath","directories","oldName","newName","oldPath","newPath","force","mtimes","dates","toDateString","nodir","totalSize","getAllWindows","_profileServiceInstance","getProfileServiceInstance","projectCache","getProjectPath","projectPath","createDefaultProject","in90Days","sourceProfile","settings","autoRefreshInterval","enableNotifications","retentionDays","logLevel","updateProjectPhase","updateCheckInterval","GITHUB_UPDATE_TOKEN","getVersion","getUpdateChannel","parseRepoOwner","parseRepoName","latestVersion","tag_name","updateAvailable","releaseNotes","publishedAt","published_at","isBreaking","asset","assets","downloadUrl","browser_download_url","checksumAsset","checksumUrl","downloadDir","totalBytes","downloadedBytes","fileHandle","writer","createWriteStream","getReader","bytesDownloaded","unlink","updateRecord","createBackup","runSquirrelInstaller","recordUpdate","confirm","relaunch","exit","backupDir","rollbackRecord","channelMap","branch","checksumText","expectedHash","fileBuffer","actualHash","appPath","getAppPath","destroy","require","__webpack_module_cache__","leafPrototypes","getProto","installedChunks","__webpack_require__","cachedModule","__webpack_modules__","ab","__dirname","getter","__esModule","ns","getOwnPropertyNames","definition","chunkId","toStringTag","installedChunk","moreModules","chunkIds","ids","runtime","installChunk","MAIN_WINDOW_WEBPACK_ENTRY","MAIN_WINDOW_PRELOAD_WEBPACK_ENTRY","createWindow","mainWindow","BrowserWindow","height","width","minHeight","minWidth","webPreferences","preload","contextIsolation","nodeIntegration","sandbox","backgroundColor","show","webRequest","onHeadersReceived","setPreloads","setSpellCheckerLanguages","setSpellCheckerEnabled","setWindowOpenHandler","navigationUrl","parsedUrl","origin","preventDefault","loadURL","openDevTools"],"sourceRoot":""}