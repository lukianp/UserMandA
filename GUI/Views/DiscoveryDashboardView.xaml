<UserControl x:Class="MandADiscoverySuite.Views.DiscoveryDashboardView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="1000">
    
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid Margin="32">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            
            <!-- Header Section -->
            <StackPanel Grid.Row="0" Margin="0,0,0,32">
                <TextBlock Text="Discovery Dashboard" FontSize="28" FontWeight="Bold" Foreground="#FFE2E8F0"/>
                <TextBlock Text="Monitor discovery progress and results across your organization" 
                           FontSize="16" Foreground="#FFA0AEC0" Margin="0,8,0,0"/>
            </StackPanel>
            
            <!-- Quick Actions -->
            <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,32">
                <Button Content="â–¶ï¸ Start Discovery" Style="{StaticResource ModernButtonStyle}" 
                        Background="#FF10B981" Margin="0,0,16,0"
                        Command="{Binding StartDiscoveryCommand}"/>
                <Button Content="â¸ï¸ Stop Discovery" Style="{StaticResource ModernButtonStyle}" 
                        Background="#FF9B59B6" Margin="0,0,16,0"
                        Command="{Binding StopDiscoveryCommand}"/>
                <Button Content="ðŸ”„ Refresh Data" Style="{StaticResource ModernButtonStyle}" 
                        Background="#FF3B82F6" Margin="0,0,16,0"
                        Command="{Binding RefreshDataCommand}"/>
                <Button Content="ðŸ“Š View Results" Style="{StaticResource ModernButtonStyle}" 
                        Background="#FF6366F1"/>
            </StackPanel>
            
            <!-- Status Cards -->
            <Grid Grid.Row="2" Margin="0,0,0,32">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <!-- Active Modules Card -->
                <Border Grid.Column="0" Background="#FF1F2937" CornerRadius="8" Padding="20" Margin="0,0,8,0">
                    <StackPanel>
                        <TextBlock Text="ðŸ”" FontSize="24" HorizontalAlignment="Center"/>
                        <TextBlock Text="Active Modules" FontSize="14" Foreground="#FFA0AEC0" HorizontalAlignment="Center" Margin="0,8,0,4"/>
                        <TextBlock Text="{Binding ActiveModulesCount, FallbackValue='5'}" FontSize="32" FontWeight="Bold" 
                                   Foreground="#FF10B981" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>
                
                <!-- Discovered Users Card -->
                <Border Grid.Column="1" Background="#FF1F2937" CornerRadius="8" Padding="20" Margin="4,0">
                    <StackPanel>
                        <TextBlock Text="ðŸ‘¥" FontSize="24" HorizontalAlignment="Center"/>
                        <TextBlock Text="Users Found" FontSize="14" Foreground="#FFA0AEC0" HorizontalAlignment="Center" Margin="0,8,0,4"/>
                        <TextBlock Text="{Binding UsersCount, FallbackValue='1,247'}" FontSize="32" FontWeight="Bold" 
                                   Foreground="#FF3B82F6" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>
                
                <!-- Infrastructure Items Card -->
                <Border Grid.Column="2" Background="#FF1F2937" CornerRadius="8" Padding="20" Margin="4,0">
                    <StackPanel>
                        <TextBlock Text="ðŸ–¥ï¸" FontSize="24" HorizontalAlignment="Center"/>
                        <TextBlock Text="Infrastructure" FontSize="14" Foreground="#FFA0AEC0" HorizontalAlignment="Center" Margin="0,8,0,4"/>
                        <TextBlock Text="{Binding InfrastructureCount, FallbackValue='843'}" FontSize="32" FontWeight="Bold" 
                                   Foreground="#FFFBBF24" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>
                
                <!-- Applications Card -->
                <Border Grid.Column="3" Background="#FF1F2937" CornerRadius="8" Padding="20" Margin="8,0,0,0">
                    <StackPanel>
                        <TextBlock Text="ðŸ“±" FontSize="24" HorizontalAlignment="Center"/>
                        <TextBlock Text="Applications" FontSize="14" Foreground="#FFA0AEC0" HorizontalAlignment="Center" Margin="0,8,0,4"/>
                        <TextBlock Text="{Binding ApplicationsCount, FallbackValue='156'}" FontSize="32" FontWeight="Bold" 
                                   Foreground="#FFEC4899" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>
            </Grid>
            
            <!-- Discovery Progress Section -->
            <Border Grid.Row="3" Background="#FF1F2937" CornerRadius="8" Padding="24">
                <StackPanel>
                    <TextBlock Text="Discovery Progress" FontSize="20" FontWeight="SemiBold" Foreground="#FFE2E8F0" Margin="0,0,0,16"/>
                    
                    <!-- Progress Bars -->
                    <Grid Margin="0,0,0,16">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="60"/>
                        </Grid.ColumnDefinitions>
                        
                        <!-- Active Directory Progress -->
                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Active Directory" Foreground="#FFA0AEC0" VerticalAlignment="Center"/>
                        <ProgressBar Grid.Row="0" Grid.Column="1" Value="{Binding ADProgress, FallbackValue=75}" Maximum="100" 
                                     Height="8" Background="#FF374151" Foreground="#FF10B981" Margin="12,0"/>
                        <TextBlock Grid.Row="0" Grid.Column="2" Text="{Binding ADProgress, FallbackValue=75, StringFormat={}{0}%}" 
                                   Foreground="#FF10B981" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                        
                        <!-- Azure AD Progress -->
                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Azure AD" Foreground="#FFA0AEC0" VerticalAlignment="Center" Margin="0,12,0,0"/>
                        <ProgressBar Grid.Row="1" Grid.Column="1" Value="{Binding AzureADProgress, FallbackValue=45}" Maximum="100" 
                                     Height="8" Background="#FF374151" Foreground="#FF3B82F6" Margin="12,12,0,0"/>
                        <TextBlock Grid.Row="1" Grid.Column="2" Text="{Binding AzureADProgress, FallbackValue=45, StringFormat={}{0}%}" 
                                   Foreground="#FF3B82F6" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,12,0,0"/>
                        
                        <!-- Infrastructure Progress -->
                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Infrastructure" Foreground="#FFA0AEC0" VerticalAlignment="Center" Margin="0,12,0,0"/>
                        <ProgressBar Grid.Row="2" Grid.Column="1" Value="{Binding InfrastructureProgress, FallbackValue=90}" Maximum="100" 
                                     Height="8" Background="#FF374151" Foreground="#FFFBBF24" Margin="12,12,0,0"/>
                        <TextBlock Grid.Row="2" Grid.Column="2" Text="{Binding InfrastructureProgress, FallbackValue=90, StringFormat={}{0}%}" 
                                   Foreground="#FFFBBF24" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,12,0,0"/>
                    </Grid>
                    
                    <!-- Status Message -->
                    <TextBlock Text="{Binding StatusMessage, FallbackValue='Discovery in progress... Processing Active Directory users and groups.'}" 
                               Foreground="#FF6B7280" FontSize="14" Margin="0,16,0,0"/>
                </StackPanel>
            </Border>
        </Grid>
    </ScrollViewer>
</UserControl>