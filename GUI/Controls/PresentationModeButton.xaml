<UserControl x:Class="MandADiscoverySuite.Controls.PresentationModeButton"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="40" d:DesignWidth="120">

    <UserControl.Resources>
        <!-- Enter presentation mode animation -->
        <Storyboard x:Key="EnterPresentationAnimation">
            <ColorAnimation Storyboard.TargetName="ButtonBorder"
                           Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                           To="#007ACC" Duration="0:0:0.3"/>
            <DoubleAnimation Storyboard.TargetName="PresentationIcon"
                           Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                           To="1.1" Duration="0:0:0.2"/>
            <DoubleAnimation Storyboard.TargetName="PresentationIcon"
                           Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                           To="1.1" Duration="0:0:0.2"/>
        </Storyboard>
        
        <!-- Exit presentation mode animation -->
        <Storyboard x:Key="ExitPresentationAnimation">
            <ColorAnimation Storyboard.TargetName="ButtonBorder"
                           Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                           To="{DynamicResource AccentColor}" Duration="0:0:0.3"/>
            <DoubleAnimation Storyboard.TargetName="PresentationIcon"
                           Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                           To="1.0" Duration="0:0:0.2"/>
            <DoubleAnimation Storyboard.TargetName="PresentationIcon"
                           Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                           To="1.0" Duration="0:0:0.2"/>
        </Storyboard>

        <!-- Hover animation -->
        <Storyboard x:Key="HoverAnimation">
            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                           To="1.05" Duration="0:0:0.1"/>
            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                           To="1.05" Duration="0:0:0.1"/>
        </Storyboard>
        
        <Storyboard x:Key="UnhoverAnimation">
            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                           To="1.0" Duration="0:0:0.1"/>
            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                           To="1.0" Duration="0:0:0.1"/>
        </Storyboard>
    </UserControl.Resources>

    <Button x:Name="MainButton"
            Background="Transparent"
            BorderThickness="0"
            Cursor="Hand"
            Click="PresentationButton_Click"
            RenderTransformOrigin="0.5,0.5">
        
        <Button.RenderTransform>
            <ScaleTransform/>
        </Button.RenderTransform>
        
        <Border x:Name="ButtonBorder"
                Background="{DynamicResource AccentBrush}"
                CornerRadius="6"
                Padding="12,6">
            
            <Border.Effect>
                <DropShadowEffect Color="Black" Opacity="0.2" 
                                ShadowDepth="2" BlurRadius="4"/>
            </Border.Effect>
            
            <StackPanel Orientation="Horizontal">
                <!-- Presentation Icon -->
                <Grid x:Name="PresentationIcon"
                      Width="16" Height="16"
                      Margin="0,0,6,0"
                      RenderTransformOrigin="0.5,0.5">
                    
                    <Grid.RenderTransform>
                        <ScaleTransform/>
                    </Grid.RenderTransform>
                    
                    <!-- Monitor/Screen Icon -->
                    <Rectangle Fill="White"
                             Width="14" Height="10"
                             RadiusX="1" RadiusY="1"
                             VerticalAlignment="Top"/>
                    
                    <!-- Monitor stand -->
                    <Rectangle Fill="White"
                             Width="2" Height="3"
                             VerticalAlignment="Bottom"
                             Margin="0,0,0,1"/>
                    
                    <!-- Monitor base -->
                    <Rectangle Fill="White"
                             Width="8" Height="1"
                             VerticalAlignment="Bottom"/>
                    
                    <!-- Screen content lines -->
                    <StackPanel Orientation="Vertical"
                              VerticalAlignment="Top"
                              Margin="2,2,2,0">
                        <Rectangle Fill="{DynamicResource AccentBrush}"
                                 Width="6" Height="1"
                                 Margin="0,0,0,1"/>
                        <Rectangle Fill="{DynamicResource AccentBrush}"
                                 Width="8" Height="1"
                                 Margin="0,0,0,1"/>
                        <Rectangle Fill="{DynamicResource AccentBrush}"
                                 Width="4" Height="1"/>
                    </StackPanel>
                </Grid>
                
                <!-- Button Text -->
                <TextBlock x:Name="ButtonText"
                         Text="Present"
                         FontSize="12"
                         FontWeight="SemiBold"
                         Foreground="White"
                         VerticalAlignment="Center"/>
            </StackPanel>
        </Border>
        
        <!-- Interaction triggers -->
        <Button.Triggers>
            <EventTrigger RoutedEvent="MouseEnter">
                <BeginStoryboard Storyboard="{StaticResource HoverAnimation}"/>
            </EventTrigger>
            <EventTrigger RoutedEvent="MouseLeave">
                <BeginStoryboard Storyboard="{StaticResource UnhoverAnimation}"/>
            </EventTrigger>
        </Button.Triggers>
    </Button>
</UserControl>