<UserControl x:Class="MandADiscoverySuite.Controls.EmptyStateControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="400">
    
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Themes/SpacingSystem.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    
    <Grid>
        <Border Background="#0CFFFFFF" 
                CornerRadius="{StaticResource CornerRadiusL}"
                Padding="{StaticResource PaddingXL}"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                MaxWidth="400">
            <StackPanel HorizontalAlignment="Center">
                <!-- Icon/Illustration -->
                <Viewbox Width="120" Height="120" Margin="{StaticResource MarginM}">
                    <Path x:Name="IconPath" 
                          Fill="#4A5568" 
                          Opacity="0.3"
                          Data="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                </Viewbox>
                
                <!-- Title -->
                <TextBlock x:Name="TitleText" 
                          Text="No Data Available" 
                          Style="{StaticResource HeadingM}"
                          Foreground="#E2E8F0"
                          HorizontalAlignment="Center"
                          Margin="{StaticResource MarginS}"/>
                
                <!-- Description -->
                <TextBlock x:Name="DescriptionText" 
                          Text="Start by running a discovery module to populate this view with data."
                          Style="{StaticResource BodyText}"
                          Foreground="#A0AEC0"
                          TextWrapping="Wrap"
                          TextAlignment="Center"
                          MaxWidth="300"
                          Margin="{StaticResource MarginS}"/>
                
                <!-- Action Button -->
                <Button x:Name="ActionButton" 
                       Content="Run Discovery"
                       Visibility="Collapsed"
                       Margin="{StaticResource MarginM}"
                       Padding="{StaticResource ButtonPadding}"
                       HorizontalAlignment="Center">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background">
                                <Setter.Value>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#667eea" Offset="0"/>
                                        <GradientStop Color="#764ba2" Offset="1"/>
                                    </LinearGradientBrush>
                                </Setter.Value>
                            </Setter>
                            <Setter Property="Foreground" Value="White"/>
                            <Setter Property="FontWeight" Value="Medium"/>
                            <Setter Property="BorderThickness" Value="0"/>
                            <Setter Property="Cursor" Value="Hand"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}"
                                               CornerRadius="{StaticResource CornerRadiusM}"
                                               Padding="{TemplateBinding Padding}">
                                            <ContentPresenter HorizontalAlignment="Center" 
                                                            VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="Background">
                                                    <Setter.Value>
                                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                            <GradientStop Color="#7788ff" Offset="0"/>
                                                            <GradientStop Color="#875bb3" Offset="1"/>
                                                        </LinearGradientBrush>
                                                    </Setter.Value>
                                                </Setter>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>
            </StackPanel>
        </Border>
        
        <!-- Loading Animation (initially hidden) -->
        <Border x:Name="LoadingOverlay" 
               Visibility="Collapsed"
               Background="#CC0F1419">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <!-- Simple rotating animation instead of ProgressRing -->
                <Ellipse Width="48" Height="48" 
                        Stroke="#667EEA" 
                        StrokeThickness="4"
                        StrokeDashArray="10 5">
                    <Ellipse.RenderTransform>
                        <RotateTransform/>
                    </Ellipse.RenderTransform>
                    <Ellipse.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever">
                                    <DoubleAnimation Storyboard.TargetProperty="RenderTransform.Angle"
                                                   From="0" To="360" Duration="0:0:2"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Ellipse.Triggers>
                </Ellipse>
                <TextBlock Text="Loading..." 
                          Foreground="#E2E8F0"
                          Margin="{StaticResource MarginM}"
                          Style="{StaticResource BodyText}"/>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>