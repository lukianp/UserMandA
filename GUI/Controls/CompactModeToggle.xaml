<UserControl x:Class="MandADiscoverySuite.Controls.CompactModeToggle"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Name="CompactToggleControl">
    
    <Grid>
        <ToggleButton x:Name="CompactToggleButton"
                      Content="Compact"
                      IsChecked="{Binding IsCompactMode, ElementName=CompactToggleControl, Mode=TwoWay}"
                      Click="CompactToggleButton_Click"
                      ToolTip="Toggle Compact Mode"
                      Padding="8,4"
                      MinWidth="60">
            <ToggleButton.Style>
                <Style TargetType="ToggleButton">
                    <Setter Property="Background" Value="#F0F0F0"/>
                    <Setter Property="BorderBrush" Value="#D0D0D0"/>
                    <Setter Property="BorderThickness" Value="1"/>
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="ToggleButton">
                                <Border x:Name="Border"
                                        Background="{TemplateBinding Background}"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="{TemplateBinding BorderThickness}"
                                        CornerRadius="3">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <!-- Icon -->
                                        <Path x:Name="CompactIcon"
                                              Grid.Column="0"
                                              Width="14" Height="14"
                                              Margin="4,0,4,0"
                                              Fill="#666666"
                                              Data="M3,3H21V5H3V3M3,7H15V9H3V7M3,11H21V13H3V11M3,15H15V17H3V15M3,19H21V21H3V19Z"
                                              VerticalAlignment="Center"/>
                                        
                                        <!-- Text -->
                                        <ContentPresenter x:Name="ContentPresenter"
                                                        Grid.Column="1"
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Margin="{TemplateBinding Padding}"
                                                        Content="{TemplateBinding Content}"/>
                                    </Grid>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="Border" Property="Background" Value="#E8E8E8"/>
                                        <Setter TargetName="CompactIcon" Property="Fill" Value="#444444"/>
                                    </Trigger>
                                    <Trigger Property="IsPressed" Value="True">
                                        <Setter TargetName="Border" Property="Background" Value="#D8D8D8"/>
                                    </Trigger>
                                    <Trigger Property="IsChecked" Value="True">
                                        <Setter TargetName="Border" Property="Background" Value="#007ACC"/>
                                        <Setter TargetName="Border" Property="BorderBrush" Value="#005A9B"/>
                                        <Setter TargetName="CompactIcon" Property="Fill" Value="White"/>
                                        <Setter TargetName="ContentPresenter" Property="TextElement.Foreground" Value="White"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </ToggleButton.Style>
        </ToggleButton>
    </Grid>
</UserControl>