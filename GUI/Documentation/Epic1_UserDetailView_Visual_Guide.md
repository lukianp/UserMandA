# Epic 1 Task 1.2: UserDetailView - Visual Architecture Guide

**Document Version:** 1.0
**Date:** October 4, 2025

---

## Component Visual Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UserDetailView Component                                                    â”‚
â”‚                                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ HEADER                                                                  â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â”‚ John Smith                     â”‚  â”‚ [ğŸ”„ Refresh] [â• Add to Wave] â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ Comprehensive user information â”‚  â”‚ [ğŸ’¾ Export]  [âŒ Close]       â”‚ â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ USER SUMMARY CARD                                                       â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚ â”‚
â”‚ â”‚ â”‚ ğŸ‘¤ USER INFO     â”‚ ğŸ¢ ORGANIZATION  â”‚ ğŸ“… ACCOUNT STATUSâ”‚             â”‚ â”‚
â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚ â”‚
â”‚ â”‚ â”‚ Display Name:    â”‚ Department:      â”‚ Status: Enabled  â”‚             â”‚ â”‚
â”‚ â”‚ â”‚ John Smith       â”‚ IT Operations    â”‚                  â”‚             â”‚ â”‚
â”‚ â”‚ â”‚                  â”‚                  â”‚ Created:         â”‚             â”‚ â”‚
â”‚ â”‚ â”‚ UPN:             â”‚ Job Title:       â”‚ 2020-01-15       â”‚             â”‚ â”‚
â”‚ â”‚ â”‚ jsmith@corp.com  â”‚ Senior Engineer  â”‚                  â”‚             â”‚ â”‚
â”‚ â”‚ â”‚                  â”‚                  â”‚ Last Sign-In:    â”‚             â”‚ â”‚
â”‚ â”‚ â”‚ Email:           â”‚ Manager:         â”‚ 2025-10-04 09:23 â”‚             â”‚ â”‚
â”‚ â”‚ â”‚ jsmith@corp.com  â”‚ Alice Johnson    â”‚                  â”‚             â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ TAB CONTROL                                                             â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚ â”‚ â”‚ğŸ“Š Overâ”‚ğŸ–¥ï¸ Deviceâ”‚ğŸ“± Appâ”‚ğŸ‘¥ Groupâ”‚ğŸ›¡ï¸ GPOâ”‚ğŸ“ File   â”‚ğŸ“§ Mailboxâ”‚â˜ï¸ Azureâ”‚â”‚ â”‚
â”‚ â”‚ â”‚  view â”‚   s     â”‚  s   â”‚  s     â”‚  s   â”‚  Access  â”‚         â”‚ Roles â”‚â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚ â”‚                                                                         â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â”‚ TAB CONTENT AREA                                                    â”‚ â”‚ â”‚
â”‚ â”‚ â”‚                                                                     â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ [Tab-specific content renders here based on selected tab]          â”‚ â”‚ â”‚
â”‚ â”‚ â”‚                                                                     â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - Overview: Resource/Services summary cards                        â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - Devices/Apps/Groups/etc: DataGridWrapper with columns            â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - Mailbox: Card layout with mailbox details                        â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - Split tabs (GPOs, SQL & Risks): Two grids side-by-side           â”‚ â”‚ â”‚
â”‚ â”‚ â”‚                                                                     â”‚ â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ STATUS BAR                                                              â”‚ â”‚
â”‚ â”‚ Ready | Loaded 234 items in 312ms                                      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Tab Content Examples

### Tab 1: Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Overview Summary                                       â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Resource Summary         â”‚ Services Summary         â”‚    â”‚
â”‚ â”‚                          â”‚                          â”‚    â”‚
â”‚ â”‚ Groups: 12               â”‚ Mapped Drives: 3         â”‚    â”‚
â”‚ â”‚ Devices: 2               â”‚ Azure Roles: 1           â”‚    â”‚
â”‚ â”‚ Applications: 45         â”‚ SQL Databases: 2         â”‚    â”‚
â”‚ â”‚ File Access Entries: 87  â”‚ Risk Items: 0            â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Tab 2: Devices

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Devices DataGrid                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Device Name  â”‚ DNS Name     â”‚ OS     â”‚ OU       â”‚ Primary  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ DESKTOP-001  â”‚ d001.corp... â”‚ Win 11 â”‚ Corp/IT  â”‚ jsmith   â”‚
â”‚ LAPTOP-123   â”‚ l123.corp... â”‚ Win 11 â”‚ Corp/IT  â”‚ jsmith   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2 devices                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Tab 5: GPOs (Split View)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GPO Links                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ GPO Name             â”‚ GUID                â”‚ Enabled        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Default Domain Policyâ”‚ {31B2F340-016D...} â”‚ âœ“              â”‚
â”‚ IT Security Policy   â”‚ {A2F34B01-782A...} â”‚ âœ“              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ GPO Security Filters                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ GPO Name             â”‚ GUID                â”‚ WMI Filter     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Workstation Policy   â”‚ {B3E45C12-893B...} â”‚ None           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Tab 7: Mailbox (Card Layout)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mailbox Information                                         â”‚
â”‚                                                             â”‚
â”‚ Mailbox GUID:  a1b2c3d4-e5f6-4a5b-8c7d-9e0f1a2b3c4d        â”‚
â”‚ Size (MB):     4,523                                        â”‚
â”‚ Type:          UserMailbox                                  â”‚
â”‚ Item Count:    12,345                                       â”‚
â”‚ Database:      MBX-DB-01                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Tab 9: SQL & Risks (Split View)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SQL Databases                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Server       â”‚ Instance â”‚ Database â”‚ App Hints              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ SQL-PROD-01  â”‚ Default  â”‚ CRM_DB   â”‚ SalesApp, ReportEngine â”‚
â”‚ SQL-PROD-02  â”‚ HR       â”‚ HRIS_DB  â”‚ PayrollSystem          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ Risk Assessment                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Risk Type         â”‚ Severity â”‚ Description  â”‚ Recommendat..â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ StaleAccount      â”‚ Medium   â”‚ No sign-in   â”‚ Review acct  â”‚
â”‚ OverprivilegedApp â”‚ High     â”‚ Admin on SQL â”‚ Remove privs â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          RENDERER PROCESS                           â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ UsersView.tsx                                                 â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚ User clicks "View Details" on row                             â”‚ â”‚
â”‚  â”‚    â†“                                                          â”‚ â”‚
â”‚  â”‚ useTabStore.openTab({                                         â”‚ â”‚
â”‚  â”‚   title: "User: John Smith",                                  â”‚ â”‚
â”‚  â”‚   component: 'UserDetailView',                                â”‚ â”‚
â”‚  â”‚   data: { userId: 'jsmith@corp.com' }                         â”‚ â”‚
â”‚  â”‚ })                                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â†“                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ TabView.tsx                                                   â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚ Renders new tab with UserDetailView component                 â”‚ â”‚
â”‚  â”‚    â†“                                                          â”‚ â”‚
â”‚  â”‚ <UserDetailView userId="jsmith@corp.com" />                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â†“                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ UserDetailView.tsx                                            â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚ const { userDetail, isLoading, error, ... } =                 â”‚ â”‚
â”‚  â”‚   useUserDetailLogic('jsmith@corp.com')                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â†“                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ useUserDetailLogic.ts                                         â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚ useEffect(() => {                                             â”‚ â”‚
â”‚  â”‚   loadUserDetail()  â† Calls on mount                          â”‚ â”‚
â”‚  â”‚ }, [userId])                                                  â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚ const loadUserDetail = async () => {                          â”‚ â”‚
â”‚  â”‚   setIsLoading(true)                                          â”‚ â”‚
â”‚  â”‚   setLoadingMessage('Loading user data...')                   â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚   const result = await window.electron.invoke(                â”‚ â”‚
â”‚  â”‚     'get-user-detail',                                        â”‚ â”‚
â”‚  â”‚     { userId: 'jsmith@corp.com' }                             â”‚ â”‚
â”‚  â”‚   )                   â† IPC CALL                              â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚   setUserDetail(result)                                       â”‚ â”‚
â”‚  â”‚   setIsLoading(false)                                         â”‚ â”‚
â”‚  â”‚ }                                                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â†“                                         â”‚
â”‚                    IPC BRIDGE (preload.ts)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          MAIN PROCESS                               â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ipcHandlers.ts                                                â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚ ipcMain.handle('get-user-detail', async (event, args) => {    â”‚ â”‚
â”‚  â”‚   const { userId } = args                                     â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚   // Get singleton LogicEngineService instance                â”‚ â”‚
â”‚  â”‚   const logicEngine = LogicEngineService.getInstance()        â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚   // Ensure data is loaded                                    â”‚ â”‚
â”‚  â”‚   if (!logicEngine.isLoaded()) {                              â”‚ â”‚
â”‚  â”‚     await logicEngine.loadAllAsync()  â† Load CSV data         â”‚ â”‚
â”‚  â”‚   }                                                           â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚   // Get user detail projection                               â”‚ â”‚
â”‚  â”‚   const userDetail = await logicEngine.getUserDetailAsync(    â”‚ â”‚
â”‚  â”‚     userId                                                    â”‚ â”‚
â”‚  â”‚   )                   â† CORRELATION LOGIC                     â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚   return { success: true, data: userDetail }                  â”‚ â”‚
â”‚  â”‚ })                                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â†“                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ LogicEngineService.ts (Epic 4)                                â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚ async getUserDetailAsync(userId: string) {                    â”‚ â”‚
â”‚  â”‚   return this.buildUserDetailProjection(userId)               â”‚ â”‚
â”‚  â”‚ }                                                             â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚ buildUserDetailProjection(userId: string) {                   â”‚ â”‚
â”‚  â”‚   // 1. Find user by SID or UPN                               â”‚ â”‚
â”‚  â”‚   const user = this.usersBySid.get(userId) ||                 â”‚ â”‚
â”‚  â”‚                this.usersByUpn.get(userId)                     â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚   // 2. Correlate groups (via groupsByUserSid index)          â”‚ â”‚
â”‚  â”‚   const groups = this.getGroupsForUser(user.sid)              â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚   // 3. Correlate devices (via devicesByPrimaryUserSid)       â”‚ â”‚
â”‚  â”‚   const devices = this.getDevicesForUser(user.sid)            â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚   // 4. Correlate apps (multi-hop: user â†’ devices â†’ apps)     â”‚ â”‚
â”‚  â”‚   const apps = devices.flatMap(d =>                           â”‚ â”‚
â”‚  â”‚     this.appsByDevice.get(d.name) || []                       â”‚ â”‚
â”‚  â”‚   )                                                           â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚   // 5-11. Correlate drives, file access, GPOs, mailbox,      â”‚ â”‚
â”‚  â”‚   //         Azure roles, SQL, risks, migration hints         â”‚ â”‚
â”‚  â”‚   // ... (detailed correlation logic) ...                     â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚   return {                                                    â”‚ â”‚
â”‚  â”‚     user, groups, devices, apps, drives, fileAccess,          â”‚ â”‚
â”‚  â”‚     gpoLinks, gpoFilters, mailbox, azureRoles,                â”‚ â”‚
â”‚  â”‚     sqlDatabases, risks, migrationHints,                      â”‚ â”‚
â”‚  â”‚     memberOfGroups, managedGroups, managerUpn, ownedGroups    â”‚ â”‚
â”‚  â”‚   }                                                           â”‚ â”‚
â”‚  â”‚ }                                                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â†‘                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Data Sources (loaded on startup)                             â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚ CSV Files:                                                    â”‚ â”‚
â”‚  â”‚ - C:\discoverydata\ProfileName\Raw\Users.csv                  â”‚ â”‚
â”‚  â”‚ - C:\discoverydata\ProfileName\Raw\Groups.csv                 â”‚ â”‚
â”‚  â”‚ - C:\discoverydata\ProfileName\Raw\Devices.csv                â”‚ â”‚
â”‚  â”‚ - C:\discoverydata\ProfileName\Raw\Applications.csv           â”‚ â”‚
â”‚  â”‚ - C:\discoverydata\ProfileName\Raw\ACLs.csv                   â”‚ â”‚
â”‚  â”‚ - C:\discoverydata\ProfileName\Raw\GPOs.csv                   â”‚ â”‚
â”‚  â”‚ - C:\discoverydata\ProfileName\Raw\Mailboxes.csv              â”‚ â”‚
â”‚  â”‚ - C:\discoverydata\ProfileName\Raw\AzureRoles.csv             â”‚ â”‚
â”‚  â”‚ - C:\discoverydata\ProfileName\Raw\SqlDatabases.csv           â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚ In-Memory Indices (for fast correlation):                     â”‚ â”‚
â”‚  â”‚ - usersBySid: Map<string, UserDto>                            â”‚ â”‚
â”‚  â”‚ - usersByUpn: Map<string, UserDto>                            â”‚ â”‚
â”‚  â”‚ - groupsByUserSid: Map<string, GroupDto[]>                    â”‚ â”‚
â”‚  â”‚ - devicesByPrimaryUserSid: Map<string, DeviceDto[]>           â”‚ â”‚
â”‚  â”‚ - appsByDevice: Map<string, AppDto[]>                         â”‚ â”‚
â”‚  â”‚ - aclByIdentitySid: Map<string, AclEntry[]>                   â”‚ â”‚
â”‚  â”‚ - mailboxByUpn: Map<string, MailboxDto>                       â”‚ â”‚
â”‚  â”‚ - rolesByPrincipalId: Map<string, AzureRoleAssignment[]>      â”‚ â”‚
â”‚  â”‚ - ... (13+ indices total)                                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## State Management Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ useUserDetailLogic Hook State Machine                       â”‚
â”‚                                                              â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚
â”‚     â”‚ INITIAL  â”‚                                            â”‚
â”‚     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                            â”‚
â”‚          â”‚                                                  â”‚
â”‚          â”‚ useEffect triggers loadUserDetail()              â”‚
â”‚          â†“                                                  â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚
â”‚     â”‚ LOADING  â”‚ â† setIsLoading(true)                       â”‚
â”‚     â”‚          â”‚   setLoadingMessage('Loading...')          â”‚
â”‚     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                            â”‚
â”‚          â”‚                                                  â”‚
â”‚          â”‚ IPC call: get-user-detail                        â”‚
â”‚          â”‚                                                  â”‚
â”‚          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Success â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚          â”‚                              â”‚                   â”‚
â”‚          â†“                              â†“                   â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚     â”‚  LOADED  â”‚ â† setUserDetail() â”‚  ERROR  â”‚             â”‚
â”‚     â”‚          â”‚   setIsLoading()  â”‚         â”‚             â”‚
â”‚     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   false           â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜             â”‚
â”‚          â”‚                               â”‚                  â”‚
â”‚          â”‚                               â”‚                  â”‚
â”‚          â”‚ User actions:                 â”‚                  â”‚
â”‚          â”‚ - refreshData()               â”‚ User actions:    â”‚
â”‚          â”‚ - addToMigrationWave()        â”‚ - refreshData()  â”‚
â”‚          â”‚ - exportSnapshot()            â”‚                  â”‚
â”‚          â”‚ - closeView()                 â”‚                  â”‚
â”‚          â”‚                               â”‚                  â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                      â†“                                      â”‚
â”‚          Back to LOADING or EXIT                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

State Variables:
- userDetail: UserDetailProjection | null
- isLoading: boolean
- error: string | null
- loadingMessage: string
- selectedTab: number (0-8)

Actions:
- loadUserDetail(): Fetch data from IPC
- refreshData(): Clear cache, reload
- addToMigrationWave(): Open modal, add to wave
- exportSnapshot(format): Save to Downloads
- closeView(): Close current tab
- setSelectedTab(index): Switch active tab
```

---

## Component Interaction Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    UserDetailView Ecosystem                      â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ UserDetailView.tsx                                         â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚ Props:                                                     â”‚ â”‚
â”‚  â”‚ - userId: string (from tab.data)                           â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚ Uses:                                                      â”‚ â”‚
â”‚  â”‚ - useUserDetailLogic(userId) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚ â”‚
â”‚  â”‚ - Button component                     â”‚                  â”‚ â”‚
â”‚  â”‚ - ModernCard component                 â”‚                  â”‚ â”‚
â”‚  â”‚ - LoadingOverlay component             â”‚                  â”‚ â”‚
â”‚  â”‚ - DataGridWrapper component            â”‚                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                           â”‚                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ useUserDetailLogic.ts                                    â”‚ â”‚
â”‚  â”‚                                                          â”‚ â”‚
â”‚  â”‚ Manages:                                                 â”‚ â”‚
â”‚  â”‚ - Data loading state (loading, error, data)              â”‚ â”‚
â”‚  â”‚ - User actions (refresh, export, add to wave, close)     â”‚ â”‚
â”‚  â”‚ - Tab selection                                          â”‚ â”‚
â”‚  â”‚                                                          â”‚ â”‚
â”‚  â”‚ Calls:                                                   â”‚ â”‚
â”‚  â”‚ - window.electron.invoke('get-user-detail') â”€â”€â”€â”€â”        â”‚ â”‚
â”‚  â”‚ - useTabStore.closeTab() â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚        â”‚ â”‚
â”‚  â”‚ - useModalStore.openModal() â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚        â”‚ â”‚
â”‚  â”‚ - useMigrationStore.addItemToWave() â”€â” â”‚   â”‚    â”‚        â”‚ â”‚
â”‚  â”‚ - useNotificationStore.showNotification() â”‚ â”‚   â”‚    â”‚    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚   â”‚   â”‚   â”‚      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â–¼â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Zustand Stores                       â”‚   â”‚   â”‚        â”‚ â”‚
â”‚  â”‚                                      â”‚   â”‚   â”‚        â”‚ â”‚
â”‚  â”‚ - useTabStore â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”˜        â”‚ â”‚
â”‚  â”‚   â€¢ openTab()                        â”‚   â”‚            â”‚ â”‚
â”‚  â”‚   â€¢ closeTab()                       â”‚   â”‚            â”‚ â”‚
â”‚  â”‚                                      â”‚   â”‚            â”‚ â”‚
â”‚  â”‚ - useModalStore â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”˜            â”‚ â”‚
â”‚  â”‚   â€¢ openModal()                      â”‚                â”‚ â”‚
â”‚  â”‚                                      â”‚                â”‚ â”‚
â”‚  â”‚ - useMigrationStore â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚ â”‚
â”‚  â”‚   â€¢ addItemToWave()                                   â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚ - useNotificationStore                                â”‚ â”‚
â”‚  â”‚   â€¢ showNotification()                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ IPC Handlers (Main Process)                          â”‚ â”‚
â”‚  â”‚                                                      â”‚ â”‚
â”‚  â”‚ - get-user-detail â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚ â”‚
â”‚  â”‚ - clear-user-detail-cache     â”‚                      â”‚ â”‚
â”‚  â”‚ - export-user-snapshot        â”‚                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                  â”‚                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ LogicEngineService (Epic 4)                         â”‚ â”‚
â”‚  â”‚                                                     â”‚ â”‚
â”‚  â”‚ - getUserDetailAsync(userId)                        â”‚ â”‚
â”‚  â”‚ - buildUserDetailProjection(userId)                 â”‚ â”‚
â”‚  â”‚ - Correlation logic (13+ methods)                   â”‚ â”‚
â”‚  â”‚ - In-memory data indices (13+ maps)                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Keyboard Navigation Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UserDetailView Keyboard Shortcuts                           â”‚
â”‚                                                              â”‚
â”‚ Global Actions:                                              â”‚
â”‚   Ctrl+R  â†’  Refresh user data from LogicEngine             â”‚
â”‚   Ctrl+E  â†’  Export user snapshot (JSON format)             â”‚
â”‚   Ctrl+W  â†’  Close current UserDetailView tab               â”‚
â”‚                                                              â”‚
â”‚ Tab Navigation:                                              â”‚
â”‚   Ctrl+1  â†’  Switch to Overview tab                          â”‚
â”‚   Ctrl+2  â†’  Switch to Devices tab                           â”‚
â”‚   Ctrl+3  â†’  Switch to Apps tab                              â”‚
â”‚   Ctrl+4  â†’  Switch to Groups tab                            â”‚
â”‚   Ctrl+5  â†’  Switch to GPOs tab                              â”‚
â”‚   Ctrl+6  â†’  Switch to File Access tab                       â”‚
â”‚   Ctrl+7  â†’  Switch to Mailbox tab                           â”‚
â”‚   Ctrl+8  â†’  Switch to Azure Roles tab                       â”‚
â”‚   Ctrl+9  â†’  Switch to SQL & Risks tab                       â”‚
â”‚                                                              â”‚
â”‚ UI Navigation:                                               â”‚
â”‚   Tab     â†’  Move focus to next interactive element         â”‚
â”‚   Shift+Tab â†’ Move focus to previous element                â”‚
â”‚   Enter   â†’  Activate focused button/link                   â”‚
â”‚   Space   â†’  Toggle focused checkbox/button                 â”‚
â”‚                                                              â”‚
â”‚ DataGrid Navigation (when grid is focused):                  â”‚
â”‚   â†‘/â†“     â†’  Navigate rows up/down                           â”‚
â”‚   â†/â†’     â†’  Navigate columns left/right                     â”‚
â”‚   Home    â†’  Jump to first row                               â”‚
â”‚   End     â†’  Jump to last row                                â”‚
â”‚   PageUp  â†’  Scroll up one page                              â”‚
â”‚   PageDownâ†’  Scroll down one page                            â”‚
â”‚                                                              â”‚
â”‚ Screen Reader Announcements:                                 â”‚
â”‚   - Tab labels announced when switching tabs                 â”‚
â”‚   - Button actions announced on hover/focus                  â”‚
â”‚   - Grid cell content announced during navigation            â”‚
â”‚   - Loading state announced when data is fetching            â”‚
â”‚   - Error messages announced when errors occur               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Performance Optimization Strategy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Performance Optimization Layers                              â”‚
â”‚                                                              â”‚
â”‚ Layer 1: Data Loading (IPC)                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ LogicEngineService Cache (Main Process)                 â”‚ â”‚
â”‚ â”‚ - 15-minute TTL cache for user detail projections       â”‚ â”‚
â”‚ â”‚ - Invalidated on explicit refresh (Ctrl+R)              â”‚ â”‚
â”‚ â”‚ - Reduces IPC round-trips by 95% for repeated access    â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ Impact: 300ms â†’ 10ms for cached data                    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚ Layer 2: Component Rendering (React)                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ React.memo on Tab Components                            â”‚ â”‚
â”‚ â”‚ - Prevents re-render when parent state changes          â”‚ â”‚
â”‚ â”‚ - Only re-renders when tab data changes                 â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ Impact: 8 unnecessary re-renders â†’ 0                    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚ Layer 3: Data Grid Rendering (AG Grid)                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Virtualization (Row Rendering)                          â”‚ â”‚
â”‚ â”‚ - Renders only visible rows (~20-50 rows)               â”‚ â”‚
â”‚ â”‚ - Destroys off-screen rows                              â”‚ â”‚
â”‚ â”‚ - Reuses DOM elements via object pooling                â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ Impact: 10,000 rows â†’ ~30 DOM nodes (constant memory)   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚ Layer 4: Lazy Tab Loading (Custom Logic)                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Deferred Data Fetching                                  â”‚ â”‚
â”‚ â”‚ - Overview tab loads immediately (summary data)         â”‚ â”‚
â”‚ â”‚ - Other tabs load on first selection                    â”‚ â”‚
â”‚ â”‚ - Once loaded, data is cached in component state        â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ Impact: Initial load 500ms â†’ 150ms (70% faster)         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚ Layer 5: Memoization (useMemo, useCallback)                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Column Definitions Memoization                          â”‚ â”‚
â”‚ â”‚ - ColDef arrays are expensive to re-create              â”‚ â”‚
â”‚ â”‚ - useMemo ensures they're only created once             â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ Callback Memoization                                    â”‚ â”‚
â”‚ â”‚ - useCallback prevents function re-creation             â”‚ â”‚
â”‚ â”‚ - Reduces re-renders in child components                â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ Impact: 12ms â†’ 1ms per render cycle                     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚ Layer 6: Cleanup & Memory Management                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ useEffect Cleanup                                       â”‚ â”‚
â”‚ â”‚ - Remove event listeners on unmount                     â”‚ â”‚
â”‚ â”‚ - Destroy AG Grid instances on unmount                  â”‚ â”‚
â”‚ â”‚ - Cancel in-flight IPC requests on unmount              â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ Impact: Memory leak prevention, 50MB â†’ 0MB on close     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚ Combined Result:                                             â”‚
â”‚ - Initial load: <500ms (with cache: <100ms)                 â”‚
â”‚ - Tab switch: <100ms                                         â”‚
â”‚ - Grid scrolling: 60fps                                      â”‚
â”‚ - Memory per instance: <50MB                                 â”‚
â”‚ - Memory cleanup on close: 100% (no leaks)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Error Handling Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Error Handling Decision Tree                                â”‚
â”‚                                                              â”‚
â”‚                    loadUserDetail()                          â”‚
â”‚                          â”‚                                   â”‚
â”‚                          â†“                                   â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚              â”‚ IPC call successful?  â”‚                       â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                          â”‚                                   â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚          NO              â”‚               YES                 â”‚
â”‚          â”‚               â”‚                â”‚                  â”‚
â”‚          â†“               â†“                â†“                  â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚    â”‚ Network â”‚    â”‚ User not  â”‚    â”‚ Success  â”‚            â”‚
â”‚    â”‚ timeout â”‚    â”‚  found    â”‚    â”‚          â”‚            â”‚
â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜            â”‚
â”‚         â”‚               â”‚                â”‚                  â”‚
â”‚         â†“               â†“                â†“                  â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚    â”‚ Retry logic â”‚ â”‚ Show error  â”‚ â”‚ Set state   â”‚         â”‚
â”‚    â”‚ 3 attempts  â”‚ â”‚ card with   â”‚ â”‚ Render UI   â”‚         â”‚
â”‚    â”‚ 1s, 2s, 3s  â”‚ â”‚ "User not   â”‚ â”‚             â”‚         â”‚
â”‚    â”‚ backoff     â”‚ â”‚  found"     â”‚ â”‚             â”‚         â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚           â”‚                                                 â”‚
â”‚           â†“                                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚    â”‚ All retries â”‚                                          â”‚
â”‚    â”‚   failed?   â”‚                                          â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚           â”‚                                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”                                           â”‚
â”‚     YES         NO                                          â”‚
â”‚     â”‚            â”‚                                          â”‚
â”‚     â†“            â†“                                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚ â”‚ Show   â”‚  â”‚ Successâ”‚                                     â”‚
â”‚ â”‚ error  â”‚  â”‚ (retry â”‚                                     â”‚
â”‚ â”‚ with   â”‚  â”‚ worked)â”‚                                     â”‚
â”‚ â”‚ Retry  â”‚  â”‚        â”‚                                     â”‚
â”‚ â”‚ button â”‚  â”‚        â”‚                                     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                                                             â”‚
â”‚ Error UI Examples:                                          â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚        âš ï¸                                               â”‚ â”‚
â”‚ â”‚   Error Loading User Details                            â”‚ â”‚
â”‚ â”‚                                                         â”‚ â”‚
â”‚ â”‚   User not found in LogicEngine data                    â”‚ â”‚
â”‚ â”‚                                                         â”‚ â”‚
â”‚ â”‚   [ğŸ”„ Retry]                                            â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚        âš ï¸                                               â”‚ â”‚
â”‚ â”‚   Request Timed Out                                     â”‚ â”‚
â”‚ â”‚                                                         â”‚ â”‚
â”‚ â”‚   The system may be under heavy load.                   â”‚ â”‚
â”‚ â”‚   Please wait a moment and try again.                   â”‚ â”‚
â”‚ â”‚                                                         â”‚ â”‚
â”‚ â”‚   [ğŸ”„ Retry]    [âŒ Close]                              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚ Partial Data Handling:                                      â”‚
â”‚                                                             â”‚
â”‚ - Missing mailbox: Show "No mailbox data available"         â”‚
â”‚ - Empty groups: Show "User is not a member of any groups"   â”‚
â”‚ - Empty devices: Show "No devices assigned to this user"    â”‚
â”‚ - Empty apps: Show "No applications detected"               â”‚
â”‚                                                             â”‚
â”‚ All errors logged to console with full stack trace          â”‚
â”‚ Notifications shown to user for transient errors            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## File Structure Tree

```
guiv2/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ ipcHandlers.ts                    (MODIFIED: +3 handlers)
â”‚   â”‚   â”‚   â”œâ”€â”€ get-user-detail
â”‚   â”‚   â”‚   â”œâ”€â”€ clear-user-detail-cache
â”‚   â”‚   â”‚   â””â”€â”€ export-user-snapshot
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚       â””â”€â”€ logicEngineService.ts         (EPIC 4 DEPENDENCY)
â”‚   â”‚           â”œâ”€â”€ getUserDetailAsync()
â”‚   â”‚           â”œâ”€â”€ buildUserDetailProjection()
â”‚   â”‚           â”œâ”€â”€ getGroupsForUser()
â”‚   â”‚           â”œâ”€â”€ getDevicesForUser()
â”‚   â”‚           â”œâ”€â”€ getAppsForUser()
â”‚   â”‚           â”œâ”€â”€ getDrivesForUser()
â”‚   â”‚           â”œâ”€â”€ getFileAccessForUser()
â”‚   â”‚           â”œâ”€â”€ getGposForUser()
â”‚   â”‚           â”œâ”€â”€ getMailboxForUser()
â”‚   â”‚           â”œâ”€â”€ getAzureRolesForUser()
â”‚   â”‚           â”œâ”€â”€ getSqlDatabasesForUser()
â”‚   â”‚           â”œâ”€â”€ calculateEntityRisks()
â”‚   â”‚           â””â”€â”€ generateMigrationHints()
â”‚   â”‚
â”‚   â”œâ”€â”€ preload.ts                            (MODIFIED: expose IPC API)
â”‚   â”‚
â”‚   â””â”€â”€ renderer/
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â”œâ”€â”€ atoms/
â”‚       â”‚   â”‚   â”œâ”€â”€ Button.tsx                (EXISTING: reused)
â”‚       â”‚   â”‚   â””â”€â”€ ModernCard.tsx            (EXISTING: reused)
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ molecules/
â”‚       â”‚   â”‚   â””â”€â”€ LoadingOverlay.tsx        (EXISTING: reused)
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ organisms/
â”‚       â”‚       â”œâ”€â”€ DataGridWrapper.tsx       (EXISTING: reused)
â”‚       â”‚       â””â”€â”€ TabView.tsx               (MODIFIED: add UserDetailView)
â”‚       â”‚
â”‚       â”œâ”€â”€ hooks/
â”‚       â”‚   â””â”€â”€ useUserDetailLogic.ts         (NEW: 150 lines)
â”‚       â”‚       â”œâ”€â”€ State: userDetail, isLoading, error, loadingMessage
â”‚       â”‚       â”œâ”€â”€ Actions: loadUserDetail, refreshData, addToMigrationWave
â”‚       â”‚       â”œâ”€â”€ Actions: exportSnapshot, closeView, setSelectedTab
â”‚       â”‚       â””â”€â”€ Effects: Auto-load on mount/userId change
â”‚       â”‚
â”‚       â”œâ”€â”€ store/
â”‚       â”‚   â”œâ”€â”€ useTabStore.ts                (EXISTING: reused)
â”‚       â”‚   â”œâ”€â”€ useModalStore.ts              (EXISTING: reused)
â”‚       â”‚   â”œâ”€â”€ useMigrationStore.ts          (EXISTING: reused)
â”‚       â”‚   â””â”€â”€ useNotificationStore.ts       (EXISTING: reused)
â”‚       â”‚
â”‚       â”œâ”€â”€ types/
â”‚       â”‚   â”œâ”€â”€ electron.d.ts                 (MODIFIED: add IPC types)
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ models/
â”‚       â”‚       â”œâ”€â”€ user.ts                   (MODIFIED: +UserDetailProjection)
â”‚       â”‚       â”‚   â”œâ”€â”€ UserDetailProjection
â”‚       â”‚       â”‚   â”œâ”€â”€ RiskItem
â”‚       â”‚       â”‚   â””â”€â”€ MigrationHint
â”‚       â”‚       â”‚
â”‚       â”‚       â”œâ”€â”€ device.ts                 (EXISTING/ENHANCED)
â”‚       â”‚       â”œâ”€â”€ application.ts            (EXISTING/ENHANCED)
â”‚       â”‚       â”œâ”€â”€ group.ts                  (EXISTING/ENHANCED)
â”‚       â”‚       â”œâ”€â”€ gpo.ts                    (NEW: 30 lines)
â”‚       â”‚       â”‚   â””â”€â”€ GpoData
â”‚       â”‚       â”‚
â”‚       â”‚       â”œâ”€â”€ fileAccess.ts             (NEW: 30 lines)
â”‚       â”‚       â”‚   â””â”€â”€ FileAccessEntry
â”‚       â”‚       â”‚
â”‚       â”‚       â”œâ”€â”€ mailbox.ts                (NEW: 30 lines)
â”‚       â”‚       â”‚   â””â”€â”€ MailboxData
â”‚       â”‚       â”‚
â”‚       â”‚       â”œâ”€â”€ azureRole.ts              (NEW: 30 lines)
â”‚       â”‚       â”‚   â””â”€â”€ AzureRoleAssignment
â”‚       â”‚       â”‚
â”‚       â”‚       â””â”€â”€ sqlDatabase.ts            (NEW: 30 lines)
â”‚       â”‚           â””â”€â”€ SqlDatabaseData
â”‚       â”‚
â”‚       â””â”€â”€ views/
â”‚           â””â”€â”€ users/
â”‚               â”œâ”€â”€ UsersView.tsx             (MODIFIED: add "View Details")
â”‚               â””â”€â”€ UserDetailView.tsx        (NEW: 800 lines)
â”‚                   â”œâ”€â”€ Component: UserDetailView
â”‚                   â”œâ”€â”€ Tabs: OverviewTab, DevicesTab, AppsTab
â”‚                   â”œâ”€â”€ Tabs: GroupsTab, GposTab, FileAccessTab
â”‚                   â”œâ”€â”€ Tabs: MailboxTab, AzureRolesTab, SqlRisksTab
â”‚                   â”œâ”€â”€ Helper: LabelValuePair
â”‚                   â”œâ”€â”€ Helper: formatDate, formatDateTime
â”‚                   â””â”€â”€ Config: TAB_CONFIG, renderTabContent
â”‚
â””â”€â”€ Documentation/
    â”œâ”€â”€ Epic1_UserDetailView_Architecture.md       (NEW: full spec)
    â”œâ”€â”€ Epic1_UserDetailView_Executive_Summary.md  (NEW: this file)
    â””â”€â”€ Epic1_UserDetailView_Visual_Guide.md       (NEW: visual guide)

Summary:
- NEW FILES: 8 (1 component, 1 hook, 6 type files)
- MODIFIED FILES: 4 (ipcHandlers, preload, UsersView, TabView)
- DEPENDENCY FILES: 1 (logicEngineService.ts from Epic 4)
- TOTAL LINES OF CODE: ~1,200 (800 component + 150 hook + 250 types)
```

---

**END OF VISUAL GUIDE**

This visual guide provides quick-reference diagrams for implementing the UserDetailView component. For complete implementation details, see the full architecture document.
